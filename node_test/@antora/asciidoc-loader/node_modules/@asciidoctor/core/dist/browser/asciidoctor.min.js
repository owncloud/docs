/*
 Asciidoctor.js 2.2.8 | MIT | https://github.com/asciidoctor/asciidoctor.js
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var t=0;return function(){return t<b.length?{done:!1,value:b[t++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var t="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return t?t.call(b):$jscomp.arrayIterator(b)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,t,B){b!=Array.prototype&&b!=Object.prototype&&(b[t]=B.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,t,B,E){if(t){B=$jscomp.global;b=b.split(".");for(E=0;E<b.length-1;E++){var v=b[E];v in B||(B[v]={});B=B[v]}b=b[b.length-1];E=B[b];t=t(E);t!=E&&null!=t&&$jscomp.defineProperty(B,b,{configurable:!0,writable:!0,value:t})}};$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0},t={};try{return t.__proto__=b,t.a}catch(B){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(b,t){b.__proto__=t;if(b.__proto__!==t)throw new TypeError(b+" is not extensible");return b}:null;$jscomp.polyfill("Object.setPrototypeOf",function(b){return b||$jscomp.setPrototypeOf},"es6","es5");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var b=0;return function(t){return $jscomp.SYMBOL_PREFIX+(t||"")+b++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.asyncIterator;b||(b=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};
$jscomp.iteratorFromArray=function(b,t){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var B=0,E={next:function(){if(B<b.length){var v=B++;return{value:t(v,b[v]),done:!1}}E.next=function(){return{done:!0,value:void 0}};return E.next()}};E[Symbol.iterator]=function(){return E};return E};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
$jscomp.owns=function(b,t){return Object.prototype.hasOwnProperty.call(b,t)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(b,t){for(var B=1;B<arguments.length;B++){var E=arguments[B];if(E)for(var v in E)$jscomp.owns(E,v)&&(b[v]=E[v])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");$jscomp.polyfill("Number.EPSILON",function(b){return Math.pow(2,-52)},"es6","es3");
$jscomp.checkStringArgs=function(b,t,B){if(null==b)throw new TypeError("The 'this' value for String.prototype."+B+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+B+" must not be a regular expression");return b+""};
$jscomp.polyfill("String.prototype.endsWith",function(b){return b?b:function(b,B){var t=$jscomp.checkStringArgs(this,b,"endsWith");b+="";void 0===B&&(B=t.length);B=Math.max(0,Math.min(B|0,t.length));for(var v=b.length;0<v&&0<B;)if(t[--B]!=b[--v])return!1;return 0>=v}},"es6","es3");$jscomp.polyfill("Object.is",function(b){return b?b:function(b,B){return b===B?0!==b||1/b===1/B:b!==b&&B!==B}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(b,B){var t=this;t instanceof String&&(t=String(t));var v=t.length;B=B||0;for(0>B&&(B=Math.max(B+v,0));B<v;B++){var q=t[B];if(q===b||Object.is(q,b))return!0}return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(b,B){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,B||0)}},"es6","es3");
$jscomp.polyfill("String.prototype.repeat",function(b){return b?b:function(b){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var E="";b;)if(b&1&&(E+=t),b>>>=1)t+=t;return E}},"es6","es3");
$jscomp.polyfill("Array.from",function(b){return b?b:function(b,B,E){B=null!=B?B:function(b){return b};var v=[],q="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof q){b=q.call(b);for(var g=0;!(q=b.next()).done;)v.push(B.call(E,q.value,g++))}else for(q=b.length,g=0;g<q;g++)v.push(B.call(E,b[g],g));return v}},"es6","es3");
(function(b){function t(a,b,D){"string"===typeof a?a[b]=D:Object.defineProperty(a,b,{value:D,enumerable:!1,configurable:!0,writable:!0})}function B(a,b){if(a)return a.$$const[b]}function E(a,b){var d;if(null!=a){var u=l.ancestors(a);a=0;for(d=u.length;a<d;a++)if(u[a].$$const&&oa.call(u[a].$$const,b))return u[a].$$const[b]}}function v(a,b,D){if(!D)return(a||N).$const_missing(b)}function q(a){return a.hasOwnProperty("$$iclass")&&a.hasOwnProperty("$$root")}function g(a){var b=G(a);a.$$is_module&&a.$$iclasses.push(b);
return b}function G(a){var b={},d=a.$$prototype;d.hasOwnProperty("$$dummy")&&(d=d.$$define_methods_on);var K=Object.getOwnPropertyNames(d),r=K.length,k;for(k=0;k<r;k++){var c=K[k];t(b,c,d[c])}t(b,"$$iclass",!0);t(b,"$$module",a);return b}function h(a){var b=a.length,d=a[0];t(d,"$$root",!0);if(1===b)return{first:d,last:d};for(var K=1;K<b;K++){var r=a[K];C(d,r);d=r}return{first:a[0],last:a[b-1]}}function F(a){if(!a.hasOwnProperty("$$dummy")){if(a.hasOwnProperty("$$iclass"))return a.$$module;if(a.hasOwnProperty("$$class"))return a.$$class}}
function z(a){return"function"===typeof a&&!a.$$stub}var m=this;"undefined"!==typeof global&&(m=global);"undefined"!==typeof window&&(m=window);var P="object"===typeof m.console?m.console:null==m.console?m.console={}:{};"log"in P||(P.log=function(){});"warn"in P||(P.warn=P.log);if("undefined"!==typeof m.Opal)return P.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),m.Opal;var O,N,y,l=this.Opal={};l.global=m;m.Opal=l;l.config={missing_require_severity:"error",unsupported_features_severity:"warning",
enable_stack_trace:!0};var oa=Object.hasOwnProperty,R=Function.prototype.bind,C=Object.setPrototypeOf,J=Array.prototype.slice,ca=Array.prototype.splice,aa=4;l.uid=function(){return aa+=2};l.id=function(a){if(a.$$is_number)return 2*a+1;if(null!=a.$$id)return a.$$id;t(a,"$$id",l.uid());return a.$$id};l.gvars={};l.exit=function(a){l.gvars.DEBUG&&P.log("Exited with status "+a)};l.exceptions=[];l.pop_exception=function(){l.gvars["!"]=l.exceptions.pop()||a};l.inspect=function(a){return a===b?"undefined":
null===a?"null":a.$$class?a.$inspect():a.toString()};l.defineProperty=t;l.slice=J;l.truthy=function(b){return b!==a&&null!=b&&(!b.$$is_boolean||1==b)};l.falsy=function(b){return b===a||null==b||b.$$is_boolean&&0==b};l.const_get_local=function(a,b,D){if(null!=a){"::"===a&&(a=N);if(!a.$$is_module&&!a.$$is_class)throw new l.TypeError(a.toString()+" is not a class/module");var d=B(a,b);if(null!=d)return d;d=v(a,b,D);if(null!=d)return d}};l.const_get_qualified=function(a,b,D){var d,u=l.const_cache_version;
if(null!=a){"::"===a&&(a=N);if(!a.$$is_module&&!a.$$is_class)throw new l.TypeError(a.toString()+" is not a class/module");null==(d=a.$$const_cache)&&(t(a,"$$const_cache",Object.create(null)),d=a.$$const_cache);var k=d[b];null==k||k[0]!==u?(null!=(k=B(a,b))||null!=(k=E(a,b)),d[b]=[u,k]):k=k[1];return null!=k?k:v(a,b,D)}};l.const_cache_version=1;l.const_get_relative=function(a,b,D){var d=a[0],u=l.const_cache_version,k;null==(k=a.$$const_cache)&&(t(a,"$$const_cache",Object.create(null)),k=a.$$const_cache);
var c=k[b];if(null==c||c[0]!==u){var A;if(!(A=null!=(c=B(d,b)))){a:{if(0!==a.length)for(c=0,A=a.length;c<A;c++){var p=a[c].$$const[b];if(null!=p){a=p;break a}}a=void 0}A=null!=(c=a)}A||null!=(c=E(d,b))||(a=null==d||d.$$is_module?E(N,b):void 0,null!=(c=a));k[b]=[u,c]}else c=c[1];return null!=c?c:v(d,b,D)};l.const_set=function(b,u,D){if(null==b||"::"===b)b=N;if(D.$$is_a_module){if(null==D.$$name||D.$$name===a)D.$$name=u;null==D.$$base_module&&(D.$$base_module=b)}b.$$const=b.$$const||Object.create(null);
b.$$const[u]=D;b.$$=b.$$const;l.const_cache_version++;b===N&&(l[u]=D);t(b,u,D);return D};l.constants=function(a,b){null==b&&(b=!0);var d=[a],u,r={},k;b&&(d=d.concat(l.ancestors(a)));b&&a.$$is_module&&(d=d.concat([l.Object]).concat(l.ancestors(l.Object)));var c=0;for(u=d.length;c<u;c++){b=d[c];if(a!==N&&b==N)break;for(k in b.$$const)r[k]=!0}return Object.keys(r)};l.const_remove=function(b,u){l.const_cache_version++;if(null!=b.$$const[u]){var d=b.$$const[u];delete b.$$const[u];return d}if(null!=b.$$autoload&&
null!=b.$$autoload[u])return delete b.$$autoload[u],a;throw l.NameError.$new("constant "+b+"::"+b.$name()+" not defined");};l.allocate_class=function(a,b){var d=null!=b&&b.$$bridge?function(){var a=J.call(arguments);a=new (R.apply(b.$$constructor,[null].concat(a)));C(a,u.$$prototype);return a}:function(){};a&&t(d,"displayName","::"+a);var u=d;t(u,"$$name",a);t(u,"$$constructor",d);t(u,"$$prototype",d.prototype);t(u,"$$const",{});t(u,"$$is_class",!0);t(u,"$$is_a_module",!0);t(u,"$$super",b);t(u,"$$cvars",
{});t(u,"$$own_included_modules",[]);t(u,"$$own_prepended_modules",[]);t(u,"$$ancestors",[]);t(u,"$$ancestors_cache_version",null);t(u.$$prototype,"$$class",u);l.Class&&C(u,l.Class.prototype);null!=b&&(C(u.$$prototype,b.$$prototype),b.$$meta&&l.build_class_singleton_class(u));return u};l.klass=function(a,b,D){null==a?a=N:a.$$is_class||a.$$is_module||(a=a.$$class);if(null!=b&&!b.hasOwnProperty("$$is_class")){var d=b;b=N}var u;if(u=B(a,D)){if(!u.$$is_class)throw l.TypeError.$new(D+" is not a class");
}else u=void 0;if(u){if(b&&u.$$super!==b)throw l.TypeError.$new("superclass mismatch for class "+u.$$name);return u}null==b&&(b=N);u=l.allocate_class(D,b);l.const_set(a,D,u);b.$inherited&&b.$inherited(u);d&&l.bridge(d,u);return u};l.allocate_module=function(a){var b=function(){};a&&t(b,"displayName",a+".$$constructor");a&&t(b,"displayName",a+".constructor");t(b,"$$name",a);t(b,"$$prototype",b.prototype);t(b,"$$const",{});t(b,"$$is_module",!0);t(b,"$$is_a_module",!0);t(b,"$$cvars",{});t(b,"$$iclasses",
[]);t(b,"$$own_included_modules",[]);t(b,"$$own_prepended_modules",[]);t(b,"$$ancestors",[b]);t(b,"$$ancestors_cache_version",null);C(b,l.Module.prototype);return b};l.module=function(a,b){null==a?a=N:a.$$is_class||a.$$is_module||(a=a.$$class);var d=a;var u=B(d,b);null==u&&d===N&&(u=E(N,b));if(u&&!u.$$is_module&&u!==N)throw l.TypeError.$new(b+" is not a module");if(d=u)return d;d=l.allocate_module(b);l.const_set(a,b,d);return d};l.get_singleton_class=function(a){return a.$$meta?a.$$meta:a.hasOwnProperty("$$is_class")?
l.build_class_singleton_class(a):a.hasOwnProperty("$$is_module")?l.build_module_singletin_class(a):l.build_object_singleton_class(a)};l.build_class_singleton_class=function(a){if(a.$$meta)return a.$$meta;var b=a===O?y:l.get_singleton_class(a.$$super);b=l.allocate_class(null,b,function(){});t(b,"$$is_singleton",!0);t(b,"$$singleton_of",a);t(a,"$$meta",b);C(a,b.$$prototype);t(a,"$$class",l.Class);return b};l.build_module_singletin_class=function(a){if(a.$$meta)return a.$$meta;var b=l.allocate_class(null,
l.Module,function(){});t(b,"$$is_singleton",!0);t(b,"$$singleton_of",a);t(a,"$$meta",b);C(a,b.$$prototype);t(a,"$$class",l.Module);return b};l.build_object_singleton_class=function(b){var d=l.allocate_class(a,b.$$class,function(){});t(d,"$$is_singleton",!0);t(d,"$$singleton_of",b);delete d.$$prototype.$$class;t(b,"$$meta",d);C(b,b.$$meta.$$prototype);return d};l.is_method=function(a){return"$"===a[0]&&"$"!==a[1]};l.instance_methods=function(a){var b=[],d=[];a=l.ancestors(a);for(var K=0,r=a.length;K<
r;K++){var k=a[K].$$prototype;k.hasOwnProperty("$$dummy")&&(k=k.$$define_methods_on);for(var c=Object.getOwnPropertyNames(k),A=0,p=c.length;A<p;A++){var g=c[A];if(l.is_method(g)){var I=g.slice(1);g=k[g];g.$$stub&&-1===b.indexOf(I)&&b.push(I);g.$$stub||-1!==d.indexOf(I)||-1!==b.indexOf(I)||d.push(I)}}}return d};l.own_instance_methods=function(a){var b=[];a=a.$$prototype;a.hasOwnProperty("$$dummy")&&(a=a.$$define_methods_on);for(var d=Object.getOwnPropertyNames(a),K=0,r=d.length;K<r;K++){var k=d[K];
l.is_method(k)&&!a[k].$$stub&&(k=k.slice(1),b.push(k))}return b};l.methods=function(a){return l.instance_methods(l.get_singleton_class(a))};l.own_methods=function(a){return l.own_instance_methods(l.get_singleton_class(a))};l.receiver_methods=function(a){var b=l.get_singleton_class(a);a=l.own_instance_methods(b);b=l.own_instance_methods(b.$$super);return a.concat(b)};l.class_variables=function(a){a=l.ancestors(a);var b,d={};for(b=a.length-1;0<=b;b--){var K=a[b],r;for(r in K.$$cvars)d[r]=K.$$cvars[r]}return d};
l.class_variable_set=function(a,b,D){var d=l.ancestors(a),u;for(u=d.length-2;0<=u;u--){var k=d[u];if(oa.call(k.$$cvars,b))return k.$$cvars[b]=D}return a.$$cvars[b]=D};l.append_features=function(a,b){var d=l.ancestors(a),u=[];if(-1!==d.indexOf(b))throw l.ArgumentError.$new("cyclic include detected");for(var r=0,k=d.length;r<k;r++){var c=g(d[r]);t(c,"$$included",!0);u.push(c)}d=l.ancestors(b);u=h(u);if(-1===d.indexOf(a))a=b.$$prototype,d=Object.getPrototypeOf(b.$$prototype);else{d=b.$$prototype;for(r=
Object.getPrototypeOf(d);null!=r&&(!q(r)||r.$$module!==a);)d=r,r=Object.getPrototypeOf(r);for(r=Object.getPrototypeOf(r);r.hasOwnProperty("$$iclass")&&!q(r);)r=Object.getPrototypeOf(r);a=d;d=r}C(a,u.first);C(u.last,d);a=[];for(d=Object.getPrototypeOf(b.$$prototype);d&&!d.hasOwnProperty("$$class");)(u=F(d))&&a.push(u),d=Object.getPrototypeOf(d);b.$$own_included_modules=a;l.const_cache_version++};l.prepend_features=function(a,b){var d=l.ancestors(a),u=[];if(-1!==d.indexOf(b))throw l.ArgumentError.$new("cyclic prepend detected");
for(var r=0,k=d.length;r<k;r++){var c=g(d[r]);t(c,"$$prepended",!0);u.push(c)}d=h(u);r=b.$$prototype;k=Object.getPrototypeOf(r);if(r.hasOwnProperty("$$dummy"))u=r.$$define_methods_on;else{u=G(b);c=b.$$prototype;for(var A=Object.getOwnPropertyNames(c),p=0;p<A.length;p++){var Q=A[p];l.is_method(Q)&&delete c[Q]}t(r,"$$dummy",!0);t(r,"$$define_methods_on",u);C(r,u);C(u,k)}if(-1===l.ancestors(b).indexOf(a))for(a=r,r=Object.getPrototypeOf(r);null!=r&&!r.hasOwnProperty("$$root")&&r!==u&&r.hasOwnProperty("$$iclass");)r=
Object.getPrototypeOf(r);else throw l.RuntimeError.$new("Prepending a module multiple times is not supported");C(a,d.first);C(d.last,r);a=[];u=Object.getPrototypeOf(b.$$prototype);if(b.$$prototype.hasOwnProperty("$$dummy"))for(;u&&u!==b.$$prototype.$$define_methods_on;)(d=F(u))&&a.push(d),u=Object.getPrototypeOf(u);b.$$own_prepended_modules=a;l.const_cache_version++};l.bridge=function(a,b){if(a.hasOwnProperty("$$bridge"))throw l.ArgumentError.$new("already bridged");t(a,"$$bridge",b);C(a.prototype,
(b.$$super||l.Object).$$prototype);t(b,"$$prototype",a.prototype);t(b.$$prototype,"$$class",b);t(b,"$$constructor",a);t(b,"$$bridge",!0)};l.ancestors=function(a){if(!a)return[];if(a.$$ancestors_cache_version===l.const_cache_version)return a.$$ancestors;var b=[],d;var K=0;var r=a.$$own_prepended_modules.concat([a]).concat(a.$$own_included_modules);for(d=r.length;K<d;K++)b.push(r[K]);if(a.$$super)for(K=0,r=l.ancestors(a.$$super),d=r.length;K<d;K++)b.push(r[K]);a.$$ancestors_cache_version=l.const_cache_version;
return a.$$ancestors=b};l.included_modules=function(a){for(var b=[],d=Object.getPrototypeOf(a.$$prototype);d&&Object.getPrototypeOf(d);d=Object.getPrototypeOf(d))(a=F(d))&&a.$$is_module&&d.$$iclass&&d.$$included&&b.push(a);return b};l.add_stubs=function(a){for(var b=l.BasicObject.$$prototype,d=0,K=a.length;d<K;d++){var r=a[d],k=b[r];(null==k||k.$$stub)&&l.add_stub_for(b,r)}};l.add_stub_for=function(a,b){var d=l.stub_for(b);t(a,b,d)};l.stub_for=function(a){function b(){this.$method_missing.$$p=b.$$p;
b.$$p=null;for(var d=Array(arguments.length),u=0,r=d.length;u<r;u++)d[u]=arguments[u];return this.$method_missing.apply(this,[a.slice(1)].concat(d))}b.$$stub=!0;return b};l.ac=function(a,b,D,K){var d="";d=D.$$is_a_module?d+(D.$$name+"."):d+(D.$$class.$$name+"#");throw l.ArgumentError.$new("["+(d+K)+"] wrong number of arguments("+a+" for "+b+")");};l.block_ac=function(a,b,D){throw l.ArgumentError.$new("`block in "+D+"': wrong number of arguments ("+a+" for "+b+")");};l.find_super_dispatcher=function(a,
b,D,K,r){r="$"+b;var d;var c=a.hasOwnProperty("$$meta")?l.ancestors(a.$$meta):l.ancestors(a.$$class);for(D=c.indexOf(D.$$owner)+1;D<c.length;D++){var u=c[D].$$prototype;u.hasOwnProperty("$$dummy")&&(u=u.$$define_methods_on);if(u.hasOwnProperty(r)){r=u[r];r.$$stub||(d=r);break}}if(!K&&null==d&&l.Kernel.$method_missing===a.$method_missing)throw l.NoMethodError.$new("super: no superclass method `"+b+"' for "+a,b);return d};l.find_iter_super_dispatcher=function(a,b,D,K,r){if(!D)throw l.RuntimeError.$new("super called outside of method");
if(r&&D.$$define_meth)throw l.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");D.$$def&&(b=D.$$jsid);return l.find_super_dispatcher(a,b,D,K)};l.ret=function(a){l.returner.$v=a;throw l.returner;};l.brk=function(a,b){b.$v=a;throw b;};l.new_brk=function(){return Error("unexpected break")};l.yield1=function(a,b){if("function"!==typeof a)throw l.LocalJumpError.$new("no block given");var d=a.$$has_top_level_mlhs_arg,
u=a.$$has_trailing_comma_in_args;if(1<a.length||(d||u)&&1===a.length)b=l.to_ary(b);return(1<a.length||u&&1===a.length)&&b.$$is_array?a.apply(null,b):a(b)};l.yieldX=function(a,b){if("function"!==typeof a)throw l.LocalJumpError.$new("no block given");if(1<a.length&&1===b.length&&b[0].$$is_array)return a.apply(null,b[0]);if(!b.$$is_array){for(var d=Array(b.length),u=0,r=d.length;u<r;u++)d[u]=b[u];return a.apply(null,d)}return a.apply(null,b)};l.rescue=function(a,b){for(var d=0;d<b.length;d++){var u=
b[d];if(u.$$is_array){if(u=l.rescue(a,u))return u}else if(u===l.JS.Error||u["$==="](a))return u}return null};l.is_a=function(a,b){if(null!=b&&a.$$meta===b||a.$$class===b||a.$$is_number&&b.$$is_number_class)return!0;var d,u=l.ancestors(a.$$is_class?l.get_singleton_class(a):a.$$meta||a.$$class);a=0;for(d=u.length;a<d;a++)if(u[a]===b)return!0;return!1};l.to_hash=function(a){if(a.$$is_hash)return a;if(a["$respond_to?"]("to_hash",!0)){var b=a.$to_hash();if(b.$$is_hash)return b;throw l.TypeError.$new("Can't convert "+
a.$$class+" to Hash ("+a.$$class+"#to_hash gives "+b.$$class+")");}throw l.TypeError.$new("no implicit conversion of "+a.$$class+" into Hash");};l.to_ary=function(b){if(b.$$is_array)return b;if(b["$respond_to?"]("to_ary",!0)){var d=b.$to_ary();if(d===a)return[b];if(d.$$is_array)return d;throw l.TypeError.$new("Can't convert "+b.$$class+" to Array ("+b.$$class+"#to_ary gives "+d.$$class+")");}return[b]};l.to_a=function(b){if(b.$$is_array)return b.slice();if(b["$respond_to?"]("to_a",!0)){var d=b.$to_a();
if(d===a)return[b];if(d.$$is_array)return d;throw l.TypeError.$new("Can't convert "+b.$$class+" to Array ("+b.$$class+"#to_a gives "+d.$$class+")");}return[b]};l.extract_kwargs=function(a){var b=a[a.length-1];return null!=b&&b["$respond_to?"]("to_hash",!0)?(ca.call(a,a.length-1,1),b.$to_hash()):l.hash2([],{})};l.kwrestargs=function(a,b){var d=[],u={},r=null;a=a.$$smap;for(r in a)b[r]||(d.push(r),u[r]=a[r]);return l.hash2(d,u)};l.send=function(a,b,D,K){var d="string"===typeof b?a["$"+b]:b;return null!=
d?("function"===typeof K&&(d.$$p=K),d.apply(a,D)):a.$method_missing.apply(a,[b].concat(D))};l.lambda=function(a){a.$$is_lambda=!0;return a};l.def=function(a,b,D){a===l.top?l.defn(l.Object,b,D):!a.$$eval&&a.$$is_a_module?l.defn(a,b,D):l.defs(a,b,D)};l.defn=function(a,b,D){D.displayName=b;D.$$owner=a;var d=a.$$prototype;d.hasOwnProperty("$$dummy")&&(d=d.$$define_methods_on);t(d,b,D);if(a.$$is_module){a.$$module_function&&l.defs(a,b,D);d=0;for(var r=a.$$iclasses,k=r.length;d<k;d++)t(r[d],b,D)}D=a.$$singleton_of;
!a.$method_added||a.$method_added.$$stub||D?D&&D.$singleton_method_added&&!D.$singleton_method_added.$$stub&&D.$singleton_method_added(b.substr(1)):a.$method_added(b.substr(1))};l.defs=function(a,b,D){if(a.$$is_string||a.$$is_number)throw l.TypeError.$new("can't define singleton");l.defn(l.get_singleton_class(a),b,D)};l.rdef=function(a,b){if(!oa.call(a.$$prototype,b))throw l.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());delete a.$$prototype[b];a.$$is_singleton?a.$$prototype.$singleton_method_removed&&
!a.$$prototype.$singleton_method_removed.$$stub&&a.$$prototype.$singleton_method_removed(b.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(b.substr(1))};l.udef=function(a,b){if(!a.$$prototype[b]||a.$$prototype[b].$$stub)throw l.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());l.add_stub_for(a.$$prototype,b);a.$$is_singleton?a.$$prototype.$singleton_method_undefined&&!a.$$prototype.$singleton_method_undefined.$$stub&&a.$$prototype.$singleton_method_undefined(b.substr(1)):
a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(b.substr(1))};l.alias=function(a,b,D){var d="$"+b,r="$"+D,k=a.$$prototype["$"+D];if(a.$$eval)return l.alias(l.get_singleton_class(a),b,D);if(!z(k)){for(var c=a.$$super;"function"!==typeof k&&c;)k=c[r],c=c.$$super;!z(k)&&a.$$is_module&&(k=l.Object.$$prototype[r]);if(!z(k))throw l.NameError.$new("undefined method `"+D+"' for class `"+a.$name()+"'");}k.$$alias_of&&(k=k.$$alias_of);var u=function(){var a=u.$$p,b;var c=Array(arguments.length);
var d=0;for(b=arguments.length;d<b;d++)c[d]=arguments[d];null!=a&&(u.$$p=null);return l.send(this,k,c,a)};u.displayName=b;u.length=k.length;u.$$arity=k.$$arity;u.$$parameters=k.$$parameters;u.$$source_location=k.$$source_location;u.$$alias_of=k;u.$$alias_name=b;l.defn(a,d,u);return a};l.alias_native=function(a,b,D){b="$"+b;var d=a.$$prototype[D];if("function"!==typeof d||d.$$stub)throw l.NameError.$new("undefined native method `"+D+"' for class `"+a.$name()+"'");l.defn(a,b,d);return a};l.hash_init=
function(a){a.$$smap=Object.create(null);a.$$map=Object.create(null);a.$$keys=[]};l.hash_clone=function(a,b){b.$$none=a.$$none;b.$$proc=a.$$proc;var d=0,u=a.$$keys;a=a.$$smap;for(var r=u.length,k,c;d<r;d++)k=u[d],k.$$is_string?c=a[k]:(c=k.value,k=k.key),l.hash_put(b,k,c)};l.hash_put=function(a,u,D){if(u.$$is_string)oa.call(a.$$smap,u)||a.$$keys.push(u),a.$$smap[u]=D;else{var d;var r=a.$$by_identity?l.id(u):u.$hash();if(oa.call(a.$$map,r)){for(d=a.$$map[r];d;){if(u===d.key||u["$eql?"](d.key)){var k=
b;d.value=D;break}k=d;d=d.next}k&&(d={key:u,key_hash:r,value:D},a.$$keys.push(d),k.next=d)}else d={key:u,key_hash:r,value:D},a.$$keys.push(d),a.$$map[r]=d}};l.hash_get=function(a,b){if(b.$$is_string){if(oa.call(a.$$smap,b))return a.$$smap[b]}else{var d=a.$$by_identity?l.id(b):b.$hash();if(oa.call(a.$$map,d))for(a=a.$$map[d];a;){if(b===a.key||b["$eql?"](a.key))return a.value;a=a.next}}};l.hash_delete=function(a,b){var d,u=a.$$keys,r=u.length;if(b.$$is_string){if(!oa.call(a.$$smap,b))return;for(d=0;d<
r;d++)if(u[d]===b){u.splice(d,1);break}var k=a.$$smap[b];delete a.$$smap[b];return k}var c=b.$hash();if(oa.call(a.$$map,c))for(var A=a.$$map[c],p;A;){if(b===A.key||b["$eql?"](A.key)){k=A.value;for(d=0;d<r;d++)if(u[d]===A){u.splice(d,1);break}p&&A.next?p.next=A.next:p?delete p.next:A.next?a.$$map[c]=A.next:delete a.$$map[c];return k}p=A;A=A.next}};l.hash_rehash=function(a){for(var d=0,D=a.$$keys.length,l,r,k;d<D;d++)if(!a.$$keys[d].$$is_string&&(l=a.$$keys[d].key.$hash(),l!==a.$$keys[d].key_hash)){r=
a.$$map[a.$$keys[d].key_hash];for(k=b;r;){if(r===a.$$keys[d]){k&&r.next?k.next=r.next:k?delete k.next:r.next?a.$$map[a.$$keys[d].key_hash]=r.next:delete a.$$map[a.$$keys[d].key_hash];break}k=r;r=r.next}a.$$keys[d].key_hash=l;if(oa.call(a.$$map,l)){r=a.$$map[l];for(k=b;r;){if(r===a.$$keys[d]){k=b;break}k=r;r=r.next}k&&(k.next=a.$$keys[d])}else a.$$map[l]=a.$$keys[d]}};l.hash=function(){var a=arguments.length,b;if(1===a&&arguments[0].$$is_hash)return arguments[0];var D=new l.Hash;l.hash_init(D);if(1===
a&&arguments[0].$$is_array){a=arguments[0];var K=a.length;for(b=0;b<K;b++){if(2!==a[b].length)throw l.ArgumentError.$new("value not of length 2: "+a[b].$inspect());var r=a[b][0];var k=a[b][1];l.hash_put(D,r,k)}return D}if(1===a){a=arguments[0];for(r in a)oa.call(a,r)&&(k=a[r],l.hash_put(D,r,k));return D}if(0!==a%2)throw l.ArgumentError.$new("odd number of arguments for Hash");for(b=0;b<a;b+=2)r=arguments[b],k=arguments[b+1],l.hash_put(D,r,k);return D};l.hash2=function(a,b){var d=new l.Hash;d.$$smap=
b;d.$$map=Object.create(null);d.$$keys=a;return d};l.range=function(a,b,D){var d=new l.Range;d.begin=a;d.end=b;d.excl=D;return d};l.ivar=function(a){return"constructor"===a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};l.escape_regexp=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")};l.global_regexp=
function(a){if(a.global)return a;null==a.$$g?a.$$g=new RegExp(a.source,(a.multiline?"gm":"g")+(a.ignoreCase?"i":"")):a.$$g.lastIndex=null;return a.$$g};l.global_multiline_regexp=function(a){if(a.multiline){if(a.global)return a;a=null!=a.$$g?a.$$g:a.$$g=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""))}else a=null!=a.$$gm?a.$$gm:a.$$gm=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));a.lastIndex=null;return a};l.modules={};l.loaded_features=["corelib/runtime"];l.current_dir=".";l.require_table={"corelib/runtime":!0};
l.normalize=function(a){var b=[];"."!==l.current_dir&&(a=l.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/^\.\//,"");a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var d=0,K=a.length;d<K;d++){var r=a[d];""!==r&&(".."===r?b.pop():b.push(r))}return b.join("/")};l.loaded=function(a){var b;var d=0;for(b=a.length;d<b;d++){var K=l.normalize(a[d]);l.require_table[K]||(l.loaded_features.push(K),l.require_table[K]=!0)}};l.load=function(a){a=l.normalize(a);l.loaded([a]);var b=l.modules[a];if(b)b(l);
else{b=l.config.missing_require_severity;a="cannot load such file -- "+a;if("error"===b){if(l.LoadError)throw l.LoadError.$new(a);throw a;}"warning"===b&&P.warn("WARNING: LoadError: "+a)}return!0};l.require=function(a){a=l.normalize(a);return l.require_table[a]?!1:l.load(a)};l.encodings=Object.create(null);l.set_encoding=function(a,b){if("string"===typeof a)throw l.FrozenError.$new("can't modify frozen String");b=l.encodings[b];if(b===a.encoding)return a;a.encoding=b;return a};l.enc=function(a,b){a=
new String(a);l.set_encoding(a,b);a.internal_encoding=a.encoding;return a};l.BasicObject=O=l.allocate_class("BasicObject",null,function(){});l.Object=N=l.allocate_class("Object",l.BasicObject,function(){});l.Module=m=l.allocate_class("Module",l.Object,function(){});l.Class=y=l.allocate_class("Class",l.Module,function(){});C(l.BasicObject,l.Class.$$prototype);C(l.Object,l.Class.$$prototype);C(l.Module,l.Class.$$prototype);C(l.Class,l.Class.$$prototype);O.$$const.BasicObject=O;l.const_set(N,"BasicObject",
O);l.const_set(N,"Object",N);l.const_set(N,"Module",m);l.const_set(N,"Class",y);O.$$class=y;N.$$class=y;m.$$class=y;y.$$class=y;t(N.$$prototype,"toString",function(){var a=this.$to_s();return a.$$is_string&&"object"===typeof a?a.valueOf():a});t(N.$$prototype,"$require",l.require);l.$$=N.$$;l.top=new N;l.top.$to_s=l.top.$inspect=function(){return"main"};l.NilClass=l.allocate_class("NilClass",l.Object,function(){});l.const_set(N,"NilClass",l.NilClass);var a=l.nil=new l.NilClass;a.$$id=4;a.call=a.apply=
function(){throw l.LocalJumpError.$new("no block given");};l.breaker=Error("unexpected break (old)");l.returner=Error("unexpected return");TypeError.$$super=Error}).call(this);Opal.loaded(["corelib/runtime.js"]);
Opal.modules["corelib/helpers"]=function(b){var t=[],B=b.nil,E=b.const_get_relative,v=b.module,q=b.truthy;b.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $coerce_to! $!= $[] $upcase".split(" "));return function(g,t){g=v(g,"Opal");var h=[g].concat(t),F,z,m,P,O,N,y,l,G,R,C,J,ca,aa;b.defs(g,"$bridge",F=function(a,d){return b.bridge(a,d)},F.$$arity=2);b.defs(g,"$type_error",z=function(a,b,u,D){var d;null==u&&(u=B);null==D&&(D=B);return q(q(d=u)?D:d)?E(h,"TypeError").$new("can't convert "+
a.$class()+" into "+b+" ("+a.$class()+"#"+u+" gives "+D.$class()+")"):E(h,"TypeError").$new("no implicit conversion of "+a.$class()+" into "+b)},z.$$arity=-3);b.defs(g,"$coerce_to",m=function(a,b,u){if(q(b["$==="](a)))return a;q(a["$respond_to?"](u))||this.$raise(this.$type_error(a,b));return a.$__send__(u)},m.$$arity=3);b.defs(g,"$coerce_to!",P=function(a,b,u){var d=this.$coerce_to(a,b,u);q(b["$==="](d))||this.$raise(this.$type_error(a,b,u,d));return d},P.$$arity=3);b.defs(g,"$coerce_to?",O=function(a,
b,u){if(!q(a["$respond_to?"](u)))return B;var d=this.$coerce_to(a,b,u);if(q(d["$nil?"]()))return B;q(b["$==="](d))||this.$raise(this.$type_error(a,b,u,d));return d},O.$$arity=3);b.defs(g,"$try_convert",N=function(a,b,u){return q(b["$==="](a))?a:q(a["$respond_to?"](u))?a.$__send__(u):B},N.$$arity=3);b.defs(g,"$compare",y=function(a,b){var d=a["$<=>"](b);q(d===B)&&this.$raise(E(h,"ArgumentError"),"comparison of "+a.$class()+" with "+b.$class()+" failed");return d},y.$$arity=2);b.defs(g,"$destructure",
l=function(a){if(1==a.length)return a[0];if(a.$$is_array)return a;for(var b=Array(a.length),u=0,D=b.length;u<D;u++)b[u]=a[u];return b},l.$$arity=1);b.defs(g,"$respond_to?",G=function(a,b,u){null==u&&(u=!1);return null!=a&&a.$$class?a["$respond_to?"](b,u):!1},G.$$arity=-3);b.defs(g,"$inspect_obj",R=function(a){return b.inspect(a)},R.$$arity=1);b.defs(g,"$instance_variable_name!",C=function(a){a=E(h,"Opal")["$coerce_to!"](a,E(h,"String"),"to_str");q(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))||this.$raise(E(h,
"NameError").$new("'"+a+"' is not allowed as an instance variable name",a));return a},C.$$arity=1);b.defs(g,"$class_variable_name!",J=function(a){a=E(h,"Opal")["$coerce_to!"](a,E(h,"String"),"to_str");q(3>a.length||"@@"!==a.slice(0,2))&&this.$raise(E(h,"NameError").$new("`"+a+"' is not allowed as a class variable name",a));return a},J.$$arity=1);b.defs(g,"$const_name!",ca=function(a){a=E(h,"Opal")["$coerce_to!"](a,E(h,"String"),"to_str");q(a["$[]"](0)["$!="](a["$[]"](0).$upcase()))&&this.$raise(E(h,
"NameError"),"wrong constant name "+a);return a},ca.$$arity=1);b.defs(g,"$pristine",aa=function(a,d){var u=b.slice.call(arguments,1,arguments.length);for(var D,l=u.length-1;0<=l;l--)D=u[l],(D=a.$$prototype["$"+D])&&!D.$$stub&&(D.$$pristine=!0);return B},aa.$$arity=-2)}(t[0],t)};
Opal.modules["corelib/module"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}var B=[],E=b.nil,v=b.const_get_qualified,q=b.const_get_relative,g=b.klass,G=b.send,h=b.truthy,F=b.lambda,z=b.range,m=b.hash2;b.add_stubs("$module_eval $to_proc $=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $!~ $start_with? $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $any? $prepend_features $prepended $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));
return function(P,$super,N){P=g(P,$super,"Module");var y=[P].concat(N),l,B,R,C,J,ca,aa,a,d,u,D,K,r,k,c,A,p,Q,I,n,e,f,V,ha,la,T,M,Y,x,ua,ma,za,ta,ka,sa,S,da,Da,Ma,Ia,na,fa,qa,ja,W,ea,Aa,xa,Oa,va,X,Ja,Va,ya,Za,ia,Ba,pa;b.defs(P,"$allocate",l=function(){var a=b.allocate_module(E,function(){});this!==b.Module&&Object.setPrototypeOf(a,this.$$prototype);return a},l.$$arity=0);b.def(P,"$initialize",B=function(){var a=B.$$p,b=a||E;a&&(B.$$p=null);a&&(B.$$p=null);return b!==E?G(this,"module_eval",[],b.$to_proc()):
E},B.$$arity=0);b.def(P,"$===",R=function(a){return h(null==a)?!1:b.is_a(a,this)},R.$$arity=1);b.def(P,"$<",C=function(a){h(q(y,"Module")["$==="](a))||this.$raise(q(y,"TypeError"),"compared with non class/module");var c;if(this===a)return!1;var e=0;var f=b.ancestors(this);for(c=f.length;e<c;e++)if(f[e]===a)return!0;e=0;f=b.ancestors(a);for(c=f.length;e<c;e++)if(f[e]===this)return!1;return E},C.$$arity=1);b.def(P,"$<=",J=function(a){var b;return h(b=this["$equal?"](a))?b:t(this,a)},J.$$arity=1);b.def(P,
"$>",ca=function(a){h(q(y,"Module")["$==="](a))||this.$raise(q(y,"TypeError"),"compared with non class/module");return t(a,this)},ca.$$arity=1);b.def(P,"$>=",aa=function(a){var b;return h(b=this["$equal?"](a))?b:"number"===typeof this&&"number"===typeof a?this>a:this["$>"](a)},aa.$$arity=1);b.def(P,"$<=>",a=function(a){if(this===a)return 0;if(!h(q(y,"Module")["$==="](a)))return E;a=t(this,a);return h(a["$nil?"]())?E:h(a)?-1:1},a.$$arity=1);b.def(P,"$alias_method",d=function(a,c){b.alias(this,a,c);
return this},d.$$arity=2);b.def(P,"$alias_native",u=function(a,c){null==c&&(c=a);b.alias_native(this,a,c);return this},u.$$arity=-2);b.def(P,"$ancestors",D=function(){return b.ancestors(this)},D.$$arity=0);b.def(P,"$append_features",K=function(a){b.append_features(this,a);return this},K.$$arity=1);b.def(P,"$attr_accessor",r=function(a){var c=b.slice.call(arguments,0,arguments.length);G(this,"attr_reader",b.to_a(c));return G(this,"attr_writer",b.to_a(c))},r.$$arity=-1);b.alias(P,"attr","attr_accessor");
b.def(P,"$attr_reader",k=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=this.$$prototype,f=c.length-1;0<=f;f--){var d=c[f],n="$"+d;d=b.ivar(d);var p=function(a){return function(){return null==this[a]?E:this[a]}}(d);b.defineProperty(e,d,E);p.$$parameters=[];p.$$arity=0;b.defn(this,n,p)}return E},k.$$arity=-1);b.def(P,"$attr_writer",c=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=this.$$prototype,f=c.length-1;0<=f;f--){var d=c[f],n="$"+d+"=";d=b.ivar(d);
var p=function(a){return function(b){return this[a]=b}}(d);p.$$parameters=[["req"]];p.$$arity=1;b.defineProperty(e,d,E);b.defn(this,n,p)}return E},c.$$arity=-1);b.def(P,"$autoload",A=function(a,c){null==this.$$autoload&&(this.$$autoload={});b.const_cache_version++;this.$$autoload[a]=c;return E},A.$$arity=2);b.def(P,"$class_variables",p=function(){return Object.keys(b.class_variables(this))},p.$$arity=0);b.def(P,"$class_variable_get",Q=function(a){a=q(y,"Opal")["$class_variable_name!"](a);var c=b.class_variables(this)[a];
null==c&&this.$raise(q(y,"NameError").$new("uninitialized class variable "+a+" in "+this,a));return c},Q.$$arity=1);b.def(P,"$class_variable_set",I=function(a,c){a=q(y,"Opal")["$class_variable_name!"](a);return b.class_variable_set(this,a,c)},I.$$arity=2);b.def(P,"$class_variable_defined?",n=function(a){a=q(y,"Opal")["$class_variable_name!"](a);return b.class_variables(this).hasOwnProperty(a)},n.$$arity=1);b.def(P,"$remove_class_variable",e=function(a){a=q(y,"Opal")["$class_variable_name!"](a);if(b.hasOwnProperty.call(this.$$cvars,
a)){var c=this.$$cvars[a];delete this.$$cvars[a];return c}this.$raise(q(y,"NameError"),"cannot remove "+a+" for "+this)},e.$$arity=1);b.def(P,"$constants",f=function(a){null==a&&(a=!0);return b.constants(this,a)},f.$$arity=-1);b.defs(P,"$constants",V=function(a){if(null==a){a=(this.$$nesting||[]).concat(b.Object);var c,e={},f;var d=0;for(f=a.length;d<f;d++)for(c in a[d].$$const)e[c]=!0;return Object.keys(e)}return b.constants(this,a)},V.$$arity=-1);b.defs(P,"$nesting",ha=function(){return this.$$nesting||
[]},ha.$$arity=0);b.def(P,"$const_defined?",la=function(a,c){null==c&&(c=!0);a=q(y,"Opal")["$const_name!"](a);h(a["$=~"](v(q(y,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(q(y,"NameError").$new("wrong constant name "+a,a));var e=[this],f;c&&(e=e.concat(b.ancestors(this)),this.$$is_module&&(e=e.concat([b.Object]).concat(b.ancestors(b.Object))));var d=0;for(f=e.length;d<f;d++)if(c=e[d],null!=c.$$const[a])return!0;return!1},la.$$arity=-2);b.def(P,"$const_get",T=function(a,c){var e;null==c&&(c=!0);a=q(y,
"Opal")["$const_name!"](a);0===a.indexOf("::")&&"::"!==a&&(a=a.slice(2));if(h(-1!=a.indexOf("::")&&"::"!=a))return G(a.$split("::"),"inject",[this],(e=function(a,b){null==a&&(a=E);null==b&&(b=E);return a.$const_get(b)},e.$$s=this,e.$$arity=2,e));h(a["$=~"](v(q(y,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(q(y,"NameError").$new("wrong constant name "+a,a));return c?q([this],a):b.const_get_local(this,a)},T.$$arity=-2);b.def(P,"$const_missing",M=function(a){var b;if(this.$$autoload&&(b=this.$$autoload[a]))return this.$require(b),
this.$const_get(a);b=this["$=="](q(y,"Object"))?a:""+this+"::"+a;return this.$raise(q(y,"NameError").$new("uninitialized constant "+b,a))},M.$$arity=1);b.def(P,"$const_set",Y=function(a,c){var e;a=q(y,"Opal")["$const_name!"](a);h(h(e=a["$!~"](v(q(y,"Opal"),"CONST_NAME_REGEXP")))?e:a["$start_with?"]("::"))&&this.$raise(q(y,"NameError").$new("wrong constant name "+a,a));b.const_set(this,a,c);return c},Y.$$arity=2);b.def(P,"$public_constant",x=function(a){return E},x.$$arity=1);b.def(P,"$define_method",
ua=function(a,c){var e=ua.$$p,f=e||E,d,n,p=this,k=E;e&&(ua.$$p=null);e&&(ua.$$p=null);h(void 0===c&&f===E)&&p.$raise(q(y,"ArgumentError"),"tried to create a Proc object without a block");f=h(d=f)?d:function(){k=c;return q(y,"Proc")["$==="](k)?c:q(y,"Method")["$==="](k)?c.$to_proc().$$unbound:q(y,"UnboundMethod")["$==="](k)?F((n=function(a){var e=n.$$s||this;var f=b.slice.call(arguments,0,arguments.length);e=c.$bind(e);return G(e,"call",b.to_a(f))},n.$$s=p,n.$$arity=-1,n)):p.$raise(q(y,"TypeError"),
"wrong argument type "+f.$class()+" (expected Proc/Method)")}();f.$$jsid=a;f.$$s=null;f.$$def=f;f.$$define_meth=!0;b.defn(p,"$"+a,f);return a},ua.$$arity=-2);b.def(P,"$remove_method",ma=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=0,f=c.length;e<f;e++)b.rdef(this,"$"+c[e]);return this},ma.$$arity=-1);b.def(P,"$singleton_class?",za=function(){return!!this.$$is_singleton},za.$$arity=0);b.def(P,"$include",ta=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=
c.length-1;0<=e;e--){var f=c[e];f.$$is_module||this.$raise(q(y,"TypeError"),"wrong argument type "+f.$class()+" (expected Module)");f.$append_features(this);f.$included(this)}return this},ta.$$arity=-1);b.def(P,"$included_modules",ka=function(){return b.included_modules(this)},ka.$$arity=0);b.def(P,"$include?",sa=function(a){a.$$is_module||this.$raise(q(y,"TypeError"),"wrong argument type "+a.$class()+" (expected Module)");var c,e=b.ancestors(this);var f=0;for(c=e.length;f<c;f++){var d=e[f];if(d===
a&&d!==this)return!0}return!1},sa.$$arity=1);b.def(P,"$instance_method",S=function(a){var b=this.$$prototype["$"+a];b&&!b.$$stub||this.$raise(q(y,"NameError").$new("undefined method `"+a+"' for class `"+this.$name()+"'",a));return q(y,"UnboundMethod").$new(this,b.$$owner||this,b,a)},S.$$arity=1);b.def(P,"$instance_methods",da=function(a){null==a&&(a=!0);return h(a)?b.instance_methods(this):b.own_instance_methods(this)},da.$$arity=-1);b.def(P,"$included",Da=function(a){return E},Da.$$arity=1);b.def(P,
"$extended",Ma=function(a){return E},Ma.$$arity=1);b.def(P,"$extend_object",Ia=function(a){return E},Ia.$$arity=1);b.def(P,"$method_added",na=function(a){b.slice.call(arguments,0,arguments.length);return E},na.$$arity=-1);b.def(P,"$method_removed",fa=function(a){b.slice.call(arguments,0,arguments.length);return E},fa.$$arity=-1);b.def(P,"$method_undefined",qa=function(a){b.slice.call(arguments,0,arguments.length);return E},qa.$$arity=-1);b.def(P,"$module_eval",ja=function(a){var c=ja.$$p,e=c||E,f,
d,n=E,p=E,k=p=p=E;c&&(ja.$$p=null);c&&(ja.$$p=null);c=b.slice.call(arguments,0,arguments.length);h(h(f=e["$nil?"]())?!!b.compile:f)?(h(z(1,3,!1)["$cover?"](c.$size()))||q(y,"Kernel").$raise(q(y,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),f=[].concat(b.to_a(c)),n=null==f[0]?E:f[0],p=null==f[1]?E:f[1],f,p=m(["file","eval"],{file:h(f=p)?f:"(eval)",eval:!0}),p=b.hash({arity_check:!1}).$merge(p),k=q(y,"Opal").$compile(n,p),e=G(q(y,"Kernel"),"proc",[],(d=function(){return function(a){return eval(k)}(d.$$s||
this)},d.$$s=this,d.$$arity=0,d))):h(c["$any?"]())&&q(y,"Kernel").$raise(q(y,"ArgumentError"),"wrong number of arguments ("+c.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");f=e.$$s;e.$$s=null;c=e.apply(this,[this]);e.$$s=f;return c},ja.$$arity=-1);b.alias(P,"class_eval","module_eval");b.def(P,"$module_exec",W=function(a){var c=W.$$p,e=c||E;c&&(W.$$p=null);c&&(W.$$p=null);var f=b.slice.call(arguments,0,arguments.length);
e===E&&this.$raise(q(y,"LocalJumpError"),"no block given");c=e.$$s;e.$$s=null;f=e.apply(this,f);e.$$s=c;return f},W.$$arity=-1);b.alias(P,"class_exec","module_exec");b.def(P,"$method_defined?",ea=function(a){a=this.$$prototype["$"+a];return!!a&&!a.$$stub},ea.$$arity=1);b.def(P,"$module_function",Aa=function(a){var c=b.slice.call(arguments,0,arguments.length);if(0===c.length)this.$$module_function=!0;else for(var e=0,f=c.length;e<f;e++){var d="$"+c[e];b.defs(this,d,this.$$prototype[d])}return this},
Aa.$$arity=-1);b.def(P,"$name",xa=function(){if(this.$$full_name)return this.$$full_name;for(var a=[],c=this;c;){if(c.$$name===E||null==c.$$name)return E;a.unshift(c.$$name);c=c.$$base_module;if(c===b.Object)break}return 0===a.length?E:this.$$full_name=a.join("::")},xa.$$arity=0);b.def(P,"$prepend",Oa=function(a){var c=b.slice.call(arguments,0,arguments.length);0===c.length&&this.$raise(q(y,"ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var e=c.length-1;0<=e;e--){var f=c[e];
f.$$is_module||this.$raise(q(y,"TypeError"),"wrong argument type "+f.$class()+" (expected Module)");f.$prepend_features(this);f.$prepended(this)}return this},Oa.$$arity=-1);b.def(P,"$prepend_features",va=function(a){this.$$is_module||this.$raise(q(y,"TypeError"),"wrong argument type "+this.$class()+" (expected Module)");b.prepend_features(this,a);return this},va.$$arity=1);b.def(P,"$prepended",X=function(a){return E},X.$$arity=1);b.def(P,"$remove_const",Ja=function(a){return b.const_remove(this,a)},
Ja.$$arity=1);b.def(P,"$to_s",Va=function(){var a;return h(a=b.Module.$name.call(this))?a:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},Va.$$arity=0);b.def(P,"$undef_method",ya=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=0,f=c.length;e<f;e++)b.udef(this,"$"+c[e]);return this},ya.$$arity=-1);b.def(P,"$instance_variables",Za=function(){var a=(b.Module.$$nesting=y,this.$constants());var c=[],e;for(e in this)this.hasOwnProperty(e)&&"$"!==e.charAt(0)&&
"constructor"!==e&&!a["$include?"](e)&&c.push("@"+e);return c},Za.$$arity=0);b.def(P,"$dup",ia=function(){var a=ia.$$p,c;a&&(ia.$$p=null);var e=0;var f=arguments.length;for(c=Array(f);e<f;e++)c[e]=arguments[e];a=G(this,b.find_super_dispatcher(this,"dup",ia,!1),c,a);a.$copy_class_variables(this);a.$copy_constants(this);return a},ia.$$arity=0);b.def(P,"$copy_class_variables",Ba=function(a){for(var b in a.$$cvars)this.$$cvars[b]=a.$$cvars[b]},Ba.$$arity=1);return(b.def(P,"$copy_constants",pa=function(a){var c;
a=a.$$const;for(c in a)b.const_set(this,c,a[c])},pa.$$arity=1),E)&&"copy_constants"}(B[0],null,B)};
Opal.modules["corelib/class"]=function(b){var t=b.top,B=[],E=b.nil,v=b.const_get_relative,q=b.klass,g=b.send;b.add_stubs("$require $class_eval $to_proc $initialize_copy $allocate $name $to_s".split(" "));t.$require("corelib/module");return function(t,$super,F){t=q(t,$super,"Class");var z=[t].concat(F),m,P,O,N,y,l,B;b.defs(t,"$new",m=function(l){var q=m.$$p,F=q||E;q&&(m.$$p=null);q&&(m.$$p=null);null==l&&(l=v(z,"Object"));if(!l.$$is_class)throw b.TypeError.$new("superclass must be a Class");q=b.allocate_class(E,
l);l.$inherited(q);F!==E&&g(q,"class_eval",[],F.$to_proc());return q},m.$$arity=-1);b.def(t,"$allocate",P=function(){var l=new this.$$constructor;l.$$id=b.uid();return l},P.$$arity=0);b.def(t,"$inherited",O=function(b){return E},O.$$arity=1);b.def(t,"$initialize_dup",N=function(b){this.$initialize_copy(b);this.$$full_name=this.$$name=null},N.$$arity=1);b.def(t,"$new",y=function(l){var g=y.$$p,m=g||E;g&&(y.$$p=null);g&&(y.$$p=null);g=b.slice.call(arguments,0,arguments.length);var q=this.$allocate();
b.send(q,q.$initialize,g,m);return q},y.$$arity=-1);b.def(t,"$superclass",l=function(){return this.$$super||E},l.$$arity=0);return(b.def(t,"$to_s",B=function(){B.$$p&&(B.$$p=null);var l=this.$$singleton_of;return l&&l.$$is_a_module?"#<Class:"+l.$name()+">":l?"#<Class:#<"+l.$$class.$name()+":0x"+b.id(l).$to_s(16)+">>":g(this,b.find_super_dispatcher(this,"to_s",B,!1),[],null)},B.$$arity=0),E)&&"to_s"}(B[0],null,B)};
Opal.modules["corelib/basic_object"]=function(b){var t=[],B=b.nil,E=b.const_get_qualified,v=b.klass,q=b.truthy,g=b.range,G=b.hash2,h=b.send;b.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $any? $inspect $new".split(" "));return function(F,$super,m){F=v(F,$super,"BasicObject");[F].concat(m);var t,O,N,y,l,oa,R,C,J,ca,aa,a,d,u;b.def(F,"$initialize",t=function(a){b.slice.call(arguments,0,arguments.length);return B},t.$$arity=-1);b.def(F,"$==",O=function(a){return this===a},O.$$arity=
1);b.def(F,"$eql?",N=function(a){return this["$=="](a)},N.$$arity=1);b.alias(F,"equal?","==");b.def(F,"$__id__",y=function(){if(null!=this.$$id)return this.$$id;b.defineProperty(this,"$$id",b.uid());return this.$$id},y.$$arity=0);b.def(F,"$__send__",l=function(a,d){var r=l.$$p,k=r||B;r&&(l.$$p=null);r&&(l.$$p=null);r=b.slice.call(arguments,1,arguments.length);var c=this["$"+a];if(c)return k!==B&&(c.$$p=k),c.apply(this,r);k!==B&&(this.$method_missing.$$p=k);return this.$method_missing.apply(this,[a].concat(r))},
l.$$arity=-2);b.def(F,"$!",oa=function(){return!1},oa.$$arity=0);b.def(F,"$!=",R=function(a){return this["$=="](a)["$!"]()},R.$$arity=1);b.def(F,"$instance_eval",C=function(a){var d=C.$$p,r=d||B,k,c,u=B,p=B,l=p=p=B;d&&(C.$$p=null);d&&(C.$$p=null);d=b.slice.call(arguments,0,arguments.length);q(q(k=r["$nil?"]())?!!b.compile:k)?(q(g(1,3,!1)["$cover?"](d.$size()))||E("::","Kernel").$raise(E("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),k=[].concat(b.to_a(d)),u=null==k[0]?B:k[0],p=null==
k[1]?B:k[1],k,p=G(["file","eval"],{file:q(k=p)?k:"(eval)",eval:!0}),p=b.hash({arity_check:!1}).$merge(p),l=E("::","Opal").$compile(u,p),r=h(E("::","Kernel"),"proc",[],(c=function(){return function(a){return eval(l)}(c.$$s||this)},c.$$s=this,c.$$arity=0,c))):q(d["$any?"]())&&E("::","Kernel").$raise(E("::","ArgumentError"),"wrong number of arguments ("+d.$size()+" for 0)");k=r.$$s;r.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var D=r.call(this,this)}finally{this.$$eval=!1}}else D=r.call(this,
this);r.$$s=k;return D},C.$$arity=-1);b.def(F,"$instance_exec",J=function(a){var d=J.$$p,r=d||B;d&&(J.$$p=null);d&&(J.$$p=null);d=b.slice.call(arguments,0,arguments.length);q(r)||E("::","Kernel").$raise(E("::","ArgumentError"),"no block given");var k=r.$$s;r.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var c=r.apply(this,d)}finally{this.$$eval=!1}}else c=r.apply(this,d);r.$$s=k;return c},J.$$arity=-1);b.def(F,"$singleton_method_added",ca=function(a){b.slice.call(arguments,0,arguments.length);
return B},ca.$$arity=-1);b.def(F,"$singleton_method_removed",aa=function(a){b.slice.call(arguments,0,arguments.length);return B},aa.$$arity=-1);b.def(F,"$singleton_method_undefined",a=function(a){b.slice.call(arguments,0,arguments.length);return B},a.$$arity=-1);b.def(F,"$class",d=function(){return this.$$class},d.$$arity=0);return(b.def(F,"$method_missing",u=function(a,d){var r=u.$$p;r&&(u.$$p=null);r&&(u.$$p=null);b.slice.call(arguments,1,arguments.length);r=q(this.$inspect&&!this.$inspect.$$stub)?
"undefined method `"+a+"' for "+this.$inspect()+":"+this.$$class:"undefined method `"+a+"' for "+this.$$class;return E("::","Kernel").$raise(E("::","NoMethodError").$new(r,a))},u.$$arity=-2),B)&&"method_missing"}(t[0],null,t)};
Opal.modules["corelib/kernel"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b<=g:b["$<="](g)}var B=[],E=b.nil,v=b.const_get_qualified,q=b.const_get_relative,g=b.module,G=b.truthy,h=b.gvars,F=b.hash2,z=b.send,m=b.klass;b.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $empty? $pop $call $coerce_to $append_features $extend_object $extended $__id__ $to_s $instance_variable_name! $respond_to? $to_int $coerce_to! $Integer $nil? $=== $enum_for $result $any? $print $format $puts $each $<= $length $[] $exception $is_a? $rand $respond_to_missing? $try_convert! $expand_path $join $start_with? $new_seed $srand $sym $arg $open $include".split(" "));(function(m,
O){m=g(m,"Kernel");var N=[m].concat(O),y,l,B,R,C,J,P,aa,a,d,u,D,K,r,k,c,A,p,Q,I,n,e,f,V,ha,la,T,M,Y,x,ua,ma,za,ta,ka,sa,S,da,Da,Ma,Ia,na,fa,qa,ja,W,ea,Aa,xa,Oa,va,X,Ja,Va,ya,Za,ia,Ba,pa,wa,Ea,ra,Ta,Qa,Fa;b.def(m,"$method_missing",y=function(a,c){var e=y.$$p;e&&(y.$$p=null);e&&(y.$$p=null);e=b.slice.call(arguments,1,arguments.length);return this.$raise(q(N,"NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,e))},y.$$arity=-2);b.def(m,"$=~",l=function(a){return!1},l.$$arity=1);b.def(m,
"$!~",B=function(a){return this["$=~"](a)["$!"]()},B.$$arity=1);b.def(m,"$===",R=function(a){var b;return G(b=this.$object_id()["$=="](a.$object_id()))?b:this["$=="](a)},R.$$arity=1);b.def(m,"$<=>",C=function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==E?0:E},C.$$arity=1);b.def(m,"$method",J=function(a){var b=this["$"+a];b&&!b.$$stub||this.$raise(q(N,"NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",a));return q(N,"Method").$new(this,b.$$owner||this.$class(),b,a)},
J.$$arity=1);b.def(m,"$methods",P=function(a){null==a&&(a=!0);return G(a)?b.methods(this):b.own_methods(this)},P.$$arity=-1);b.def(m,"$public_methods",aa=function(a){null==a&&(a=!0);return G(a)?b.methods(this):b.receiver_methods(this)},aa.$$arity=-1);b.def(m,"$Array",a=function(a){if(a===E)return[];if(a.$$is_array)return a;var b=q(N,"Opal")["$coerce_to?"](a,q(N,"Array"),"to_ary");if(b!==E)return b;b=q(N,"Opal")["$coerce_to?"](a,q(N,"Array"),"to_a");return b!==E?b:[a]},a.$$arity=1);b.def(m,"$at_exit",
d=function(){var a=d.$$p,b=a||E,c;null==h.__at_exit__&&(h.__at_exit__=E);a&&(d.$$p=null);a&&(d.$$p=null);h.__at_exit__=G(c=h.__at_exit__)?c:[];return h.__at_exit__["$<<"](b)},d.$$arity=0);b.def(m,"$caller",u=function(a){b.slice.call(arguments,0,arguments.length);return[]},u.$$arity=-1);b.def(m,"$class",D=function(){return this.$$class},D.$$arity=0);b.def(m,"$copy_instance_variables",K=function(a){var b=Object.keys(a),c;var e=0;for(c=b.length;e<c;e++){var f=b[e];"$"!==f.charAt(0)&&a.hasOwnProperty(f)&&
(this[f]=a[f])}},K.$$arity=1);b.def(m,"$copy_singleton_methods",r=function(a){var c;if(a.hasOwnProperty("$$meta")){var e=b.get_singleton_class(a),f=b.get_singleton_class(this);var d=Object.getOwnPropertyNames(e.$$prototype);var n=0;for(c=d.length;n<c;n++){var p=d[n];b.is_method(p)&&(f.$$prototype[p]=e.$$prototype[p])}f.$$const=Object.assign({},e.$$const);Object.setPrototypeOf(f.$$prototype,Object.getPrototypeOf(e.$$prototype))}n=0;d=Object.getOwnPropertyNames(a);for(c=d.length;n<c;n++)p=d[n],"$"===
p.charAt(0)&&"$"!==p.charAt(1)&&a.hasOwnProperty(p)&&(this[p]=a[p])},r.$$arity=1);b.def(m,"$clone",k=function(a){if(null==a)F([],{});else if(!a.$$is_hash)throw b.ArgumentError.$new("expected kwargs");a=this.$class().$allocate();a.$copy_instance_variables(this);a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},k.$$arity=-1);b.def(m,"$initialize_clone",c=function(a){return this.$initialize_copy(a)},c.$$arity=1);b.def(m,"$define_singleton_method",A=function(a,b){var c=A.$$p,e=c||E;
c&&(A.$$p=null);c&&(A.$$p=null);return z(this.$singleton_class(),"define_method",[a,b],e.$to_proc())},A.$$arity=-2);b.def(m,"$dup",p=function(){var a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a},p.$$arity=0);b.def(m,"$initialize_dup",Q=function(a){return this.$initialize_copy(a)},Q.$$arity=1);b.def(m,"$enum_for",I=function(a,c){var e=I.$$p,f=e||E;e&&(I.$$p=null);e&&(I.$$p=null);e=b.slice.call(arguments,0,arguments.length);if(0<e.length){var d=e[0];e.splice(0,
1)}null==d&&(d="each");return z(q(N,"Enumerator"),"for",[this,d].concat(b.to_a(e)),f.$to_proc())},I.$$arity=-1);b.alias(m,"to_enum","enum_for");b.def(m,"$equal?",n=function(a){return this===a},n.$$arity=1);b.def(m,"$exit",e=function(a){var c;null==h.__at_exit__&&(h.__at_exit__=E);null==a&&(a=!0);for(h.__at_exit__=G(c=h.__at_exit__)?c:[];!G(h.__at_exit__["$empty?"]());)c=h.__at_exit__.$pop(),c.$call();a=a.$$is_boolean?a?0:1:q(N,"Opal").$coerce_to(a,q(N,"Integer"),"to_int");b.exit(a);return E},e.$$arity=
-1);b.def(m,"$extend",f=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=this.$singleton_class(),f=c.length-1;0<=f;f--){var d=c[f];d.$$is_module||this.$raise(q(N,"TypeError"),"wrong argument type "+d.$class()+" (expected Module)");d.$append_features(e);d.$extend_object(this);d.$extended(this)}return this},f.$$arity=-1);b.def(m,"$hash",V=function(){return this.$__id__()},V.$$arity=0);b.def(m,"$initialize_copy",ha=function(a){return E},ha.$$arity=1);b.def(m,"$inspect",la=function(){return this.$to_s()},
la.$$arity=0);b.def(m,"$instance_of?",T=function(a){a.$$is_class||a.$$is_module||this.$raise(q(N,"TypeError"),"class or module required");return this.$$class===a},T.$$arity=1);b.def(m,"$instance_variable_defined?",M=function(a){a=q(N,"Opal")["$instance_variable_name!"](a);return b.hasOwnProperty.call(this,a.substr(1))},M.$$arity=1);b.def(m,"$instance_variable_get",Y=function(a){a=q(N,"Opal")["$instance_variable_name!"](a);a=this[b.ivar(a.substr(1))];return null==a?E:a},Y.$$arity=1);b.def(m,"$instance_variable_set",
x=function(a,c){a=q(N,"Opal")["$instance_variable_name!"](a);return this[b.ivar(a.substr(1))]=c},x.$$arity=2);b.def(m,"$remove_instance_variable",ua=function(a){a=q(N,"Opal")["$instance_variable_name!"](a);var c=b.ivar(a.substr(1));return this.hasOwnProperty(c)?(a=this[c],delete this[c],a):this.$raise(q(N,"NameError"),"instance variable "+a+" not defined")},ua.$$arity=1);b.def(m,"$instance_variables",ma=function(){var a=[],b;for(b in this)if(this.hasOwnProperty(b)&&"$"!==b.charAt(0)){var c="$"===
b.substr(-1)?b.slice(0,b.length-1):b;a.push("@"+c)}return a},ma.$$arity=0);b.def(m,"$Integer",za=function(a,b){var c=this;if(!a.$$is_string){void 0!==b&&c.$raise(q(N,"ArgumentError"),"base specified for non string value");a===E&&c.$raise(q(N,"TypeError"),"can't convert nil into Integer");if(a.$$is_number)return(Infinity===a||-Infinity===a||isNaN(a))&&c.$raise(q(N,"FloatDomainError"),a),Math.floor(a);if(a["$respond_to?"]("to_int")){var e=a.$to_int();if(e!==E)return e}return q(N,"Opal")["$coerce_to!"](a,
q(N,"Integer"),"to_i")}if("0"===a)return 0;void 0===b?b=0:(b=q(N,"Opal").$coerce_to(b,q(N,"Integer"),"to_int"),(1===b||0>b||36<b)&&c.$raise(q(N,"ArgumentError"),"invalid radix "+b));e=a.toLowerCase();e=e.replace(/(\d)_(?=\d)/g,"$1");e=e.replace(/^(\s*[+-]?)(0[bodx]?)/,function(e,f,d){switch(d){case "0b":if(0===b||2===b)return b=2,f;case "0":case "0o":if(0===b||8===b)return b=8,f;case "0d":if(0===b||10===b)return b=10,f;case "0x":if(0===b||16===b)return b=16,f}c.$raise(q(N,"ArgumentError"),'invalid value for Integer(): "'+
a+'"')});b=0===b?10:b;var f="0-"+(10>=b?b-1:"9a-"+String.fromCharCode(97+(b-11)));(new RegExp("^\\s*[+-]?["+f+"]+\\s*$")).test(e)||c.$raise(q(N,"ArgumentError"),'invalid value for Integer(): "'+a+'"');e=parseInt(e,b);isNaN(e)&&c.$raise(q(N,"ArgumentError"),'invalid value for Integer(): "'+a+'"');return e},za.$$arity=-2);b.def(m,"$Float",ta=function(a){a===E&&this.$raise(q(N,"TypeError"),"can't convert nil into Float");if(a.$$is_string){var b=a.toString();b=b.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(b))return this.$Integer(b);
/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(b)||this.$raise(q(N,"ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(b)}return q(N,"Opal")["$coerce_to!"](a,q(N,"Float"),"to_f")},ta.$$arity=1);b.def(m,"$Hash",ka=function(a){var b;return G(G(b=a["$nil?"]())?b:a["$=="]([]))?F([],{}):G(q(N,"Hash")["$==="](a))?a:q(N,"Opal")["$coerce_to!"](a,q(N,"Hash"),"to_hash")},ka.$$arity=1);b.def(m,"$is_a?",sa=function(a){a.$$is_class||a.$$is_module||this.$raise(q(N,"TypeError"),"class or module required");
return b.is_a(this,a)},sa.$$arity=1);b.def(m,"$itself",S=function(){return this},S.$$arity=0);b.alias(m,"kind_of?","is_a?");b.def(m,"$lambda",da=function(){var a=da.$$p,c=a||E;a&&(da.$$p=null);a&&(da.$$p=null);return b.lambda(c)},da.$$arity=0);b.def(m,"$load",Da=function(a){a=q(N,"Opal")["$coerce_to!"](a,q(N,"String"),"to_str");return b.load(a)},Da.$$arity=1);b.def(m,"$loop",Ma=function(){var a,c=Ma.$$p,e=c||E,f=E;c&&(Ma.$$p=null);if(e===E)return z(this,"enum_for",["loop"],(a=function(){return v(q(N,
"Float"),"INFINITY")},a.$$s=this,a.$$arity=0,a));for(;G(!0);)try{b.yieldX(e,[])}catch(Ka){if(b.rescue(Ka,[q(N,"StopIteration")])){f=Ka;try{return f.$result()}finally{b.pop_exception()}}else throw Ka;}return this},Ma.$$arity=0);b.def(m,"$nil?",Ia=function(){return!1},Ia.$$arity=0);b.alias(m,"object_id","__id__");b.def(m,"$printf",na=function(a){var c=b.slice.call(arguments,0,arguments.length);G(c["$any?"]())&&this.$print(z(this,"format",b.to_a(c)));return E},na.$$arity=-1);b.def(m,"$proc",fa=function(){var a=
fa.$$p,b=a||E;a&&(fa.$$p=null);a&&(fa.$$p=null);G(b)||this.$raise(q(N,"ArgumentError"),"tried to create Proc object without a block");b.$$is_lambda=!1;return b},fa.$$arity=0);b.def(m,"$puts",qa=function(a){null==h.stdout&&(h.stdout=E);var c=b.slice.call(arguments,0,arguments.length);return z(h.stdout,"puts",b.to_a(c))},qa.$$arity=-1);b.def(m,"$p",ja=function(a){var c;var e=b.slice.call(arguments,0,arguments.length);z(e,"each",[],(c=function(a){null==h.stdout&&(h.stdout=E);null==a&&(a=E);return h.stdout.$puts(a.$inspect())},
c.$$s=this,c.$$arity=1,c));return G(t(e.$length(),1))?e["$[]"](0):e},ja.$$arity=-1);b.def(m,"$print",W=function(a){null==h.stdout&&(h.stdout=E);var c=b.slice.call(arguments,0,arguments.length);return z(h.stdout,"print",b.to_a(c))},W.$$arity=-1);b.def(m,"$warn",ea=function(a){var c;null==h.VERBOSE&&(h.VERBOSE=E);null==h.stderr&&(h.stderr=E);var e=b.slice.call(arguments,0,arguments.length);return G(G(c=h.VERBOSE["$nil?"]())?c:e["$empty?"]())?E:z(h.stderr,"puts",b.to_a(e))},ea.$$arity=-1);b.def(m,"$raise",
Aa=function(a,c,e){null==h["!"]&&(h["!"]=E);null==c&&(c=E);if(null==a&&h["!"]!==E)throw h["!"];null==a?a=q(N,"RuntimeError").$new():a.$$is_string?a=q(N,"RuntimeError").$new(a):a.$$is_class&&a["$respond_to?"]("exception")?a=a.$exception(c):a["$is_a?"](q(N,"Exception"))||(a=q(N,"TypeError").$new("exception class/object expected"));h["!"]!==E&&b.exceptions.push(h["!"]);h["!"]=a;throw a;},Aa.$$arity=-1);b.alias(m,"fail","raise");b.def(m,"$rand",xa=function(a){if(void 0===a)return v(q(N,"Random"),"DEFAULT").$rand();
a.$$is_number&&(0>a&&(a=Math.abs(a)),0!==a%1&&(a=a.$to_i()),0===a&&(a=void 0));return v(q(N,"Random"),"DEFAULT").$rand(a)},xa.$$arity=-1);b.def(m,"$respond_to?",Oa=function(a,b){null==b&&(b=!1);if(G(this["$respond_to_missing?"](a,b)))return!0;a=this["$"+a];return"function"!==typeof a||a.$$stub?!1:!0},Oa.$$arity=-2);b.def(m,"$respond_to_missing?",va=function(a,b){return!1},va.$$arity=-2);b.def(m,"$require",X=function(a){a=q(N,"Opal")["$coerce_to!"](a,q(N,"String"),"to_str");return b.require(a)},X.$$arity=
1);b.def(m,"$require_relative",Ja=function(a){q(N,"Opal")["$try_convert!"](a,q(N,"String"),"to_str");a=q(N,"File").$expand_path(q(N,"File").$join(b.current_file,"..",a));return b.require(a)},Ja.$$arity=1);b.def(m,"$require_tree",Va=function(a){var c=[];a=q(N,"File").$expand_path(a);a=b.normalize(a);"."===a&&(a="");for(var e in b.modules)e["$start_with?"](a)&&c.push([e,b.require(e)]);return c},Va.$$arity=1);b.alias(m,"send","__send__");b.alias(m,"public_send","__send__");b.def(m,"$singleton_class",
ya=function(){return b.get_singleton_class(this)},ya.$$arity=0);b.def(m,"$sleep",Za=function(a){null==a&&(a=E);a===E&&this.$raise(q(N,"TypeError"),"can't convert NilClass into time interval");a.$$is_number||this.$raise(q(N,"TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(q(N,"ArgumentError"),"time interval must be positive");for(var c=b.global.performance?function(){return performance.now()}:function(){return new Date},e=c();c()-e<=1E3*a;);return a},Za.$$arity=-1);
b.def(m,"$srand",ia=function(a){null==a&&(a=q(N,"Random").$new_seed());return q(N,"Random").$srand(a)},ia.$$arity=-1);b.def(m,"$String",Ba=function(a){var b;return G(b=q(N,"Opal")["$coerce_to?"](a,q(N,"String"),"to_str"))?b:q(N,"Opal")["$coerce_to!"](a,q(N,"String"),"to_s")},Ba.$$arity=1);b.def(m,"$tap",pa=function(){var a=pa.$$p,c=a||E;a&&(pa.$$p=null);a&&(pa.$$p=null);b.yield1(c,this);return this},pa.$$arity=0);b.def(m,"$to_proc",wa=function(){return this},wa.$$arity=0);b.def(m,"$to_s",Ea=function(){return"#<"+
this.$class()+":0x"+this.$__id__().$to_s(16)+">"},Ea.$$arity=0);b.def(m,"$catch",ra=function(a){var c=ra.$$p,e=c||E;c&&(ra.$$p=null);try{return b.yieldX(e,[])}catch(Ga){if(b.rescue(Ga,[q(N,"UncaughtThrowError")])){c=Ga;try{return c.$sym()["$=="](a)?c.$arg():this.$raise()}finally{b.pop_exception()}}else throw Ga;}},ra.$$arity=1);b.def(m,"$throw",Ta=function(a){var c=b.slice.call(arguments,0,arguments.length);return this.$raise(q(N,"UncaughtThrowError"),c)},Ta.$$arity=-1);b.def(m,"$open",Qa=function(a){var c=
Qa.$$p,e=c||E;c&&(Qa.$$p=null);c&&(Qa.$$p=null);c=b.slice.call(arguments,0,arguments.length);return z(q(N,"File"),"open",b.to_a(c),e.$to_proc())},Qa.$$arity=-1);b.def(m,"$yield_self",Fa=function(){var a,c=Fa.$$p,e=c||E;c&&(Fa.$$p=null);return e===E?z(this,"enum_for",["yield_self"],(a=function(){return 1},a.$$s=this,a.$$arity=0,a)):b.yield1(e,this)},Fa.$$arity=0)})(B[0],B);return function(b,$super,g){b=m(b,$super,"Object");g=[b].concat(g);return b.$include(q(g,"Kernel"))}(B[0],null,B)};
Opal.modules["corelib/error"]=function(b){var t=[],B=b.nil,E=b.const_get_relative,v=b.klass,q=b.send,g=b.truthy,G=b.module,h=b.hash2;b.add_stubs("$new $clone $to_s $empty? $class $raise $+ $attr_reader $[] $> $length $inspect".split(" "));(function(h,$super,m){h=v(h,$super,"Exception");var t=[h].concat(m),F,N,y,l,G,R,C,J,ca;h.$$prototype.message=B;b.defs(h,"$new",F=function(a){var d=b.slice.call(arguments,0,arguments.length);var u=0<d.length?d[0]:B,l=new this.$$constructor(u);l.name=this.$$name;l.message=
u;b.send(l,l.$initialize,d);b.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(l,aa);return l},F.$$arity=-1);var aa=h.$new;b.defs(h,"$exception",N=function(a){var d=b.slice.call(arguments,0,arguments.length);return q(this,"new",b.to_a(d))},N.$$arity=-1);b.def(h,"$initialize",y=function(a){var d=b.slice.call(arguments,0,arguments.length);return this.message=0<d.length?d[0]:B},y.$$arity=-1);b.def(h,"$backtrace",l=function(){if(this.backtrace)return this.backtrace;var a=this.stack;
return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]},l.$$arity=0);b.def(h,"$exception",G=function(a){null==a&&(a=B);if(a===B||this===a)return this;var b=this.$clone();b.message=a;return b},G.$$arity=-1);b.def(h,"$message",R=function(){return this.$to_s()},R.$$arity=0);b.def(h,"$inspect",C=function(){var a=this.$to_s();return g(a["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},C.$$arity=0);b.def(h,"$set_backtrace",J=function(a){var b=!0,u;if(a===
B)this.backtrace=B;else if(a.$$is_string)this.backtrace=[a];else{if(a.$$is_array){var l=0;for(u=a.length;l<u;l++)if(!a[l].$$is_string){b=!1;break}}else b=!1;!1===b&&this.$raise(E(t,"TypeError"),"backtrace must be Array of String");this.backtrace=a}return a},J.$$arity=1);return(b.def(h,"$to_s",ca=function(){var a,b;return g(a=g(b=this.message)?this.message.$to_s():b)?a:this.$class().$to_s()},ca.$$arity=0),B)&&"to_s"})(t[0],Error,t);(function(b,$super,g){[v(b,$super,"ScriptError")].concat(g);return B})(t[0],
E(t,"Exception"),t);(function(b,$super,g){[v(b,$super,"SyntaxError")].concat(g);return B})(t[0],E(t,"ScriptError"),t);(function(b,$super,g){[v(b,$super,"LoadError")].concat(g);return B})(t[0],E(t,"ScriptError"),t);(function(b,$super,g){[v(b,$super,"NotImplementedError")].concat(g);return B})(t[0],E(t,"ScriptError"),t);(function(b,$super,g){[v(b,$super,"SystemExit")].concat(g);return B})(t[0],E(t,"Exception"),t);(function(b,$super,g){[v(b,$super,"NoMemoryError")].concat(g);return B})(t[0],E(t,"Exception"),
t);(function(b,$super,g){[v(b,$super,"SignalException")].concat(g);return B})(t[0],E(t,"Exception"),t);(function(b,$super,g){[v(b,$super,"Interrupt")].concat(g);return B})(t[0],E(t,"Exception"),t);(function(b,$super,g){[v(b,$super,"SecurityError")].concat(g);return B})(t[0],E(t,"Exception"),t);(function(b,$super,g){[v(b,$super,"StandardError")].concat(g);return B})(t[0],E(t,"Exception"),t);(function(b,$super,g){[v(b,$super,"EncodingError")].concat(g);return B})(t[0],E(t,"StandardError"),t);(function(b,
$super,g){[v(b,$super,"ZeroDivisionError")].concat(g);return B})(t[0],E(t,"StandardError"),t);(function(b,$super,g){[v(b,$super,"NameError")].concat(g);return B})(t[0],E(t,"StandardError"),t);(function(b,$super,g){[v(b,$super,"NoMethodError")].concat(g);return B})(t[0],E(t,"NameError"),t);(function(b,$super,g){[v(b,$super,"RuntimeError")].concat(g);return B})(t[0],E(t,"StandardError"),t);(function(b,$super,g){[v(b,$super,"FrozenError")].concat(g);return B})(t[0],E(t,"RuntimeError"),t);(function(b,
$super,g){[v(b,$super,"LocalJumpError")].concat(g);return B})(t[0],E(t,"StandardError"),t);(function(b,$super,g){[v(b,$super,"TypeError")].concat(g);return B})(t[0],E(t,"StandardError"),t);(function(b,$super,g){[v(b,$super,"ArgumentError")].concat(g);return B})(t[0],E(t,"StandardError"),t);(function(b,$super,g){[v(b,$super,"IndexError")].concat(g);return B})(t[0],E(t,"StandardError"),t);(function(b,$super,g){[v(b,$super,"StopIteration")].concat(g);return B})(t[0],E(t,"IndexError"),t);(function(b,
$super,g){[v(b,$super,"KeyError")].concat(g);return B})(t[0],E(t,"IndexError"),t);(function(b,$super,g){[v(b,$super,"RangeError")].concat(g);return B})(t[0],E(t,"StandardError"),t);(function(b,$super,g){[v(b,$super,"FloatDomainError")].concat(g);return B})(t[0],E(t,"RangeError"),t);(function(b,$super,g){[v(b,$super,"IOError")].concat(g);return B})(t[0],E(t,"StandardError"),t);(function(b,$super,g){[v(b,$super,"SystemCallError")].concat(g);return B})(t[0],E(t,"StandardError"),t);(function(h,z){h=[G(h,
"Errno")].concat(z);(function(h,$super,z){h=v(h,$super,"EINVAL");[h].concat(z);var m;return(b.defs(h,"$new",m=function(h){m.$$p&&(m.$$p=null);null==h&&(h=B);var l="Invalid argument";g(h)&&(h=" - "+h,l="number"===typeof l&&"number"===typeof h?l+h:l["$+"](h));return q(this,b.find_super_dispatcher(this,"new",m,!1,this.$$class.$$prototype),[l],null)},m.$$arity=-1),B)&&"new"})(h[0],E(h,"SystemCallError"),h)})(t[0],t);(function(h,$super,m){h=v(h,$super,"UncaughtThrowError");[h].concat(m);var t;h.$$prototype.sym=
B;h.$attr_reader("sym","arg");return(b.def(h,"$initialize",t=function(h){t.$$p&&(t.$$p=null);this.sym=h["$[]"](0);var m=h.$length();m="number"===typeof m?1<m:m["$>"](1);g(m)&&(this.arg=h["$[]"](1));return q(this,b.find_super_dispatcher(this,"initialize",t,!1),["uncaught throw "+this.sym.$inspect()],null)},t.$$arity=1),B)&&"initialize"})(t[0],E(t,"ArgumentError"),t);(function(g,$super,h){g=v(g,$super,"NameError");[g].concat(h);var m;g.$attr_reader("name");return(b.def(g,"$initialize",m=function(g,
h){m.$$p&&(m.$$p=null);null==h&&(h=B);q(this,b.find_super_dispatcher(this,"initialize",m,!1),[g],null);return this.name=h},m.$$arity=-2),B)&&"initialize"})(t[0],null,t);(function(g,$super,h){g=v(g,$super,"NoMethodError");[g].concat(h);var m;g.$attr_reader("args");return(b.def(g,"$initialize",m=function(g,h,t){m.$$p&&(m.$$p=null);null==h&&(h=B);null==t&&(t=[]);q(this,b.find_super_dispatcher(this,"initialize",m,!1),[g,h],null);return this.args=t},m.$$arity=-2),B)&&"initialize"})(t[0],null,t);(function(b,
$super,g){b=v(b,$super,"StopIteration");[b].concat(g);return b.$attr_reader("result")})(t[0],null,t);(function(t,$super,m){t=v(t,$super,"KeyError");var F=[t].concat(m),O,N,y;t.$$prototype.receiver=t.$$prototype.key=B;b.def(t,"$initialize",O=function(l,g){O.$$p&&(O.$$p=null);if(null==g)g=h([],{});else if(!g.$$is_hash)throw b.ArgumentError.$new("expected kwargs");var m=g.$$smap.receiver;null==m&&(m=B);g=g.$$smap.key;null==g&&(g=B);q(this,b.find_super_dispatcher(this,"initialize",O,!1),[l],null);this.receiver=
m;return this.key=g},O.$$arity=-2);b.def(t,"$receiver",N=function(){var b;return g(b=this.receiver)?b:this.$raise(E(F,"ArgumentError"),"no receiver is available")},N.$$arity=0);return(b.def(t,"$key",y=function(){var b;return g(b=this.key)?b:this.$raise(E(F,"ArgumentError"),"no key is available")},y.$$arity=0),B)&&"key"})(t[0],null,t);return function(b,g){b=[G(b,"JS")].concat(g);[v(b[0],null,"Error")].concat(b)}(t[0],t)};
Opal.modules["corelib/constants"]=function(b){var t=[],B=b.const_get_relative;b.const_set(t[0],"RUBY_PLATFORM","opal");b.const_set(t[0],"RUBY_ENGINE","opal");b.const_set(t[0],"RUBY_VERSION","2.5.1");b.const_set(t[0],"RUBY_ENGINE_VERSION","0.11.99.dev");b.const_set(t[0],"RUBY_RELEASE_DATE","2018-12-25");b.const_set(t[0],"RUBY_PATCHLEVEL",0);b.const_set(t[0],"RUBY_REVISION",0);b.const_set(t[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2018 Adam Beynon and the Opal contributors");return b.const_set(t[0],
"RUBY_DESCRIPTION","opal "+B(t,"RUBY_ENGINE_VERSION")+" ("+B(t,"RUBY_RELEASE_DATE")+" revision "+B(t,"RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(b){var t=b.top;b.add_stubs(["$require"]);t.$require("corelib/runtime");t.$require("corelib/helpers");t.$require("corelib/module");t.$require("corelib/class");t.$require("corelib/basic_object");t.$require("corelib/kernel");t.$require("corelib/error");return t.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(b){var t=[],B=b.nil,E=b.const_get_relative,v=b.klass,q=b.hash2,g=b.truthy;b.add_stubs("$raise $name $new $> $length $Rational".split(" "));(function(t,$super,F){t=v(t,$super,"NilClass");var z=[t].concat(F),m,G,O,N,y,l,oa,R,C,J,ca,aa,a,d,u,D,K,r;t.$$prototype.$$meta=t;(function(a,c){var d=[a].concat(c),p;b.def(a,"$allocate",p=function(){return this.$raise(E(d,"TypeError"),"allocator undefined for "+this.$name())},p.$$arity=0);b.udef(a,"$new");return B})(b.get_singleton_class(t),
z);b.def(t,"$!",m=function(){return!0},m.$$arity=0);b.def(t,"$&",G=function(a){return!1},G.$$arity=1);b.def(t,"$|",O=function(a){return!1!==a&&a!==B},O.$$arity=1);b.def(t,"$^",N=function(a){return!1!==a&&a!==B},N.$$arity=1);b.def(t,"$==",y=function(a){return a===B},y.$$arity=1);b.def(t,"$dup",l=function(){return B},l.$$arity=0);b.def(t,"$clone",oa=function(a){if(null==a)q([],{});else if(!a.$$is_hash)throw b.ArgumentError.$new("expected kwargs");return B},oa.$$arity=-1);b.def(t,"$inspect",R=function(){return"nil"},
R.$$arity=0);b.def(t,"$nil?",C=function(){return!0},C.$$arity=0);b.def(t,"$singleton_class",J=function(){return E(z,"NilClass")},J.$$arity=0);b.def(t,"$to_a",ca=function(){return[]},ca.$$arity=0);b.def(t,"$to_h",aa=function(){return b.hash()},aa.$$arity=0);b.def(t,"$to_i",a=function(){return 0},a.$$arity=0);b.alias(t,"to_f","to_i");b.def(t,"$to_s",d=function(){return""},d.$$arity=0);b.def(t,"$to_c",u=function(){return E(z,"Complex").$new(0,0)},u.$$arity=0);b.def(t,"$rationalize",D=function(a){var c=
b.slice.call(arguments,0,arguments.length).$length();c="number"===typeof c?1<c:c["$>"](1);g(c)&&this.$raise(E(z,"ArgumentError"));return this.$Rational(0,1)},D.$$arity=-1);b.def(t,"$to_r",K=function(){return this.$Rational(0,1)},K.$$arity=0);return(b.def(t,"$instance_variables",r=function(){return[]},r.$$arity=0),B)&&"instance_variables"})(t[0],null,t);return b.const_set(t[0],"NIL",B)};
Opal.modules["corelib/boolean"]=function(b){var t=[],B=b.nil,E=b.const_get_relative,v=b.klass,q=b.hash2;b.add_stubs(["$raise","$name"]);(function(g,$super,h){g=v(g,$super,"Boolean");var t=[g].concat(h),z,m,P,O,N,y,l,oa,R,C;b.defineProperty(g.$$prototype,"$$is_boolean",!0);b.defineProperty(g.$$prototype,"$$meta",g);(function(g,l){var h=[g].concat(l),a;b.def(g,"$allocate",a=function(){return this.$raise(E(h,"TypeError"),"allocator undefined for "+this.$name())},a.$$arity=0);b.udef(g,"$new");return B})(b.get_singleton_class(g),
t);b.def(g,"$__id__",z=function(){return this.valueOf()?2:0},z.$$arity=0);b.alias(g,"object_id","__id__");b.def(g,"$!",m=function(){return 1!=this},m.$$arity=0);b.def(g,"$&",P=function(b){return 1==this?!1!==b&&b!==B:!1},P.$$arity=1);b.def(g,"$|",O=function(b){return 1==this?!0:!1!==b&&b!==B},O.$$arity=1);b.def(g,"$^",N=function(b){return 1==this?!1===b||b===B:!1!==b&&b!==B},N.$$arity=1);b.def(g,"$==",y=function(b){return 1==this===b.valueOf()},y.$$arity=1);b.alias(g,"equal?","==");b.alias(g,"eql?",
"==");b.def(g,"$singleton_class",l=function(){return E(t,"Boolean")},l.$$arity=0);b.def(g,"$to_s",oa=function(){return 1==this?"true":"false"},oa.$$arity=0);b.def(g,"$dup",R=function(){return this},R.$$arity=0);return(b.def(g,"$clone",C=function(g){if(null==g)q([],{});else if(!g.$$is_hash)throw b.ArgumentError.$new("expected kwargs");return this},C.$$arity=-1),B)&&"clone"})(t[0],Boolean,t);b.const_set(t[0],"TrueClass",E(t,"Boolean"));b.const_set(t[0],"FalseClass",E(t,"Boolean"));b.const_set(t[0],
"TRUE",!0);return b.const_set(t[0],"FALSE",!1)};
Opal.modules["corelib/comparable"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function B(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}var E=[],v=b.nil,q=b.const_get_relative,g=b.module,G=b.truthy;b.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(h,F){h=g(h,"Comparable");var z=[h].concat(F),m,E,O,N,y,l,oa,R;b.defs(h,"$normalize",m=function(b){return G(q(z,"Integer")["$==="](b))?b:G(t(b,0))?
1:G(B(b,0))?-1:0},m.$$arity=1);b.def(h,"$==",E=function(g){var l=v;try{return G(this["$equal?"](g))?!0:this["$<=>"]==b.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):G(l=this["$<=>"](g))?0==q(z,"Comparable").$normalize(l):!1}catch(ca){if(b.rescue(ca,[q(z,"StandardError")]))try{return!1}finally{b.pop_exception()}else throw ca;}},E.$$arity=1);b.def(h,"$>",O=function(b){var g;G(g=this["$<=>"](b))||this.$raise(q(z,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+
" failed");return 0<q(z,"Comparable").$normalize(g)},O.$$arity=1);b.def(h,"$>=",N=function(b){var g;G(g=this["$<=>"](b))||this.$raise(q(z,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");return 0<=q(z,"Comparable").$normalize(g)},N.$$arity=1);b.def(h,"$<",y=function(b){var g;G(g=this["$<=>"](b))||this.$raise(q(z,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");return 0>q(z,"Comparable").$normalize(g)},y.$$arity=1);b.def(h,"$<=",l=function(b){var g;
G(g=this["$<=>"](b))||this.$raise(q(z,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");return 0>=q(z,"Comparable").$normalize(g)},l.$$arity=1);b.def(h,"$between?",oa=function(b,g){return B(this,b)||t(this,g)?!1:!0},oa.$$arity=2);b.def(h,"$clamp",R=function(b,g){var l=b["$<=>"](g);G(l)||this.$raise(q(z,"ArgumentError"),"comparison of "+b.$class()+" with "+g.$class()+" failed");G(t(q(z,"Comparable").$normalize(l),0))&&this.$raise(q(z,"ArgumentError"),"min argument must be smaller than max argument");
return G(B(q(z,"Comparable").$normalize(this["$<=>"](b)),0))?b:G(t(q(z,"Comparable").$normalize(this["$<=>"](g)),0))?g:this},R.$$arity=2)}(E[0],E)};
Opal.modules["corelib/regexp"]=function(b){var t=[],B=b.nil,E=b.const_get_relative,v=b.klass,q=b.send,g=b.truthy,G=b.gvars;b.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(b,$super,g){[v(b,$super,"RegexpError")].concat(g);return B})(t[0],E(t,"StandardError"),t);(function(h,$super,t){h=v(h,$super,"Regexp");var m=[h].concat(t),z,O,N,y,l,oa,R,C,J,ca;b.const_set(m[0],"IGNORECASE",
1);b.const_set(m[0],"EXTENDED",2);b.const_set(m[0],"MULTILINE",4);b.defineProperty(h.$$prototype,"$$is_regexp",!0);(function(l,a){var d=[l].concat(a),u,D,h,r,k;b.def(l,"$allocate",u=function(){var a=u.$$p,d;a&&(u.$$p=null);var p=0;var k=arguments.length;for(d=Array(k);p<k;p++)d[p]=arguments[p];a=q(this,b.find_super_dispatcher(this,"allocate",u,!1),d,a);a.uninitialized=!0;return a},u.$$arity=0);b.def(l,"$escape",D=function(a){return b.escape_regexp(a)},D.$$arity=1);b.def(l,"$last_match",h=function(a){null==
G["~"]&&(G["~"]=B);null==a&&(a=B);return g(a["$nil?"]())?G["~"]:G["~"]["$[]"](a)},h.$$arity=-1);b.alias(l,"quote","escape");b.def(l,"$union",r=function(a){var c=b.slice.call(arguments,0,arguments.length);if(0==c.length)return/(?!)/;if(1==c.length&&c[0].$$is_regexp)return c[0];var p=c[0].$$is_array;1<c.length&&p&&this.$raise(E(d,"TypeError"),"no implicit conversion of Array into String");p&&(c=c[0]);var k=void 0;p=[];for(var r=0;r<c.length;r++){var n=c[r];if(n.$$is_string)p.push(this.$escape(n));else if(n.$$is_regexp){var e=
n.$options();void 0!=k&&k!=e&&this.$raise(E(d,"TypeError"),"All expressions must use the same options");k=e;p.push("("+n.source+")")}else p.push(this.$escape(n.$to_str()))}return this.$new(p.$join("|"),k)},r.$$arity=-1);return(b.def(l,"$new",k=function(a,b){if(a.$$is_regexp)return new RegExp(a);a=E(d,"Opal")["$coerce_to!"](a,E(d,"String"),"to_str");"\\"===a.charAt(a.length-1)&&"\\"!==a.charAt(a.length-2)&&this.$raise(E(d,"RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===b||b["$!"]())return new RegExp(a);
if(b.$$is_number){var c="";E(d,"IGNORECASE")&b&&(c+="i");E(d,"MULTILINE")&b&&(c+="m");b=c}else b="i";return new RegExp(a,b)},k.$$arity=-2),B)&&"new"})(b.get_singleton_class(h),m);b.def(h,"$==",z=function(b){return b instanceof RegExp&&this.toString()===b.toString()},z.$$arity=1);b.def(h,"$===",O=function(b){return this.$match(E(m,"Opal")["$coerce_to?"](b,E(m,"String"),"to_str"))!==B},O.$$arity=1);b.def(h,"$=~",N=function(b){var a;null==G["~"]&&(G["~"]=B);return g(a=this.$match(b))?G["~"].$begin(0):
a},N.$$arity=1);b.alias(h,"eql?","==");b.def(h,"$inspect",y=function(){var b=this.toString(),a=/^\/(.*)\/([^\/]*)$/.exec(b);if(a){b=a[2];a=a[1].split("");for(var d=a.length,u=!1,g="",l=0;l<d;l++){var r=a[l];u||"/"!=r||(g=g.concat("\\"));g=g.concat(r);u="\\"==r?u?!1:!0:!1}return"/"+g+"/"+b}return b},y.$$arity=0);b.def(h,"$match",l=function(g,a){var d=l.$$p,u=d||B;null==G["~"]&&(G["~"]=B);d&&(l.$$p=null);d&&(l.$$p=null);this.uninitialized&&this.$raise(E(m,"TypeError"),"uninitialized Regexp");if(void 0===
a)return g===B?G["~"]=B:(g=this.exec(E(m,"Opal").$coerce_to(g,E(m,"String"),"to_str")))?(G["~"]=E(m,"MatchData").$new(this,g),u===B?G["~"]:b.yield1(u,G["~"])):G["~"]=B;a=E(m,"Opal").$coerce_to(a,E(m,"Integer"),"to_int");if(g===B)return G["~"]=B;g=E(m,"Opal").$coerce_to(g,E(m,"String"),"to_str");if(0>a&&(a+=g.length,0>a))return G["~"]=B;for(var D=b.global_regexp(this);;){d=D.exec(g);if(null===d)return G["~"]=B;if(d.index>=a)return G["~"]=E(m,"MatchData").$new(D,d),u===B?G["~"]:b.yield1(u,G["~"]);D.lastIndex=
d.index+1}},l.$$arity=-2);b.def(h,"$match?",oa=function(g,a){this.uninitialized&&this.$raise(E(m,"TypeError"),"uninitialized Regexp");if(void 0===a)return g===B?!1:this.test(E(m,"Opal").$coerce_to(g,E(m,"String"),"to_str"));a=E(m,"Opal").$coerce_to(a,E(m,"Integer"),"to_int");if(g===B)return!1;g=E(m,"Opal").$coerce_to(g,E(m,"String"),"to_str");if(0>a&&(a+=g.length,0>a))return!1;g=b.global_regexp(this).exec(g);return null===g||g.index<a?!1:!0},oa.$$arity=-2);b.def(h,"$~",R=function(){null==G._&&(G._=
B);return this["$=~"](G._)},R.$$arity=0);b.def(h,"$source",C=function(){return this.source},C.$$arity=0);b.def(h,"$options",J=function(){this.uninitialized&&this.$raise(E(m,"TypeError"),"uninitialized Regexp");var b=0;this.multiline&&(b|=E(m,"MULTILINE"));this.ignoreCase&&(b|=E(m,"IGNORECASE"));return b},J.$$arity=0);b.def(h,"$casefold?",ca=function(){return this.ignoreCase},ca.$$arity=0);return b.alias(h,"to_s","source")})(t[0],RegExp,t);return function(h,$super,t){h=v(h,$super,"MatchData");var m=
[h].concat(t),z,O,N,y,l,oa,R,C,J,ca,aa,a;h.$$prototype.matches=B;h.$attr_reader("post_match","pre_match","regexp","string");b.def(h,"$initialize",z=function(a,b){G["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];a=0;for(var d=b.length;a<d;a++){var g=b[a];null==g?this.matches.push(B):this.matches.push(g)}},z.$$arity=2);b.def(h,"$[]",O=function(a){var d=b.slice.call(arguments,0,
arguments.length);return q(this.matches,"[]",b.to_a(d))},O.$$arity=-1);b.def(h,"$offset",N=function(a){0!==a&&this.$raise(E(m,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]},N.$$arity=1);b.def(h,"$==",y=function(a){var b,d,l,r;return g(E(m,"MatchData")["$==="](a))?g(b=g(d=g(l=g(r=this.string==a.string)?this.regexp.toString()==a.regexp.toString():r)?this.pre_match==a.pre_match:l)?this.post_match==a.post_match:d)?this.begin==a.begin:
b:!1},y.$$arity=1);b.alias(h,"eql?","==");b.def(h,"$begin",l=function(a){0!==a&&this.$raise(E(m,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},l.$$arity=1);b.def(h,"$end",oa=function(a){0!==a&&this.$raise(E(m,"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length},oa.$$arity=1);b.def(h,"$captures",R=function(){return this.matches.slice(1)},R.$$arity=0);b.def(h,"$inspect",C=function(){for(var a="#<MatchData "+this.matches[0].$inspect(),
b=1,g=this.matches.length;b<g;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"},C.$$arity=0);b.def(h,"$length",J=function(){return this.matches.length},J.$$arity=0);b.alias(h,"size","length");b.def(h,"$to_a",ca=function(){return this.matches},ca.$$arity=0);b.def(h,"$to_s",aa=function(){return this.matches[0]},aa.$$arity=0);return(b.def(h,"$values_at",a=function(a){var d=b.slice.call(arguments,0,arguments.length);var g,l=[];for(g=0;g<d.length;g++){if(d[g].$$is_range){var r=d[g].$to_a();r.unshift(g,
1);Array.prototype.splice.apply(d,r)}r=E(m,"Opal")["$coerce_to!"](d[g],E(m,"Integer"),"to_int");if(0>r&&(r+=this.matches.length,0>r)){l.push(B);continue}l.push(this.matches[r])}return l},a.$$arity=-1),B)&&"values_at"}(t[0],null,t)};
Opal.modules["corelib/string"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b/g:b["$/"](g)}function B(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}var E=b.top,v=[],q=b.nil,g=b.const_get_relative,G=b.klass,h=b.truthy,F=b.send,z=b.gvars;b.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $force_encoding $casecmp $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $class $match $match? $captures $proc $succ $escape".split(" "));
E.$require("corelib/comparable");E.$require("corelib/regexp");(function(m,$super,v){function O(a){function b(a){var b="",c,e=a.length;for(c=0;c<e;c++){var f=a.charAt(c);if("-"===f&&0<c&&c<e-1&&!d){var d=a.charCodeAt(c-1);f=a.charCodeAt(c+1);d>f&&y.$raise(g(l,"ArgumentError"),'invalid range "'+d+"-"+f+'" in string transliteration');for(d+=1;d<f+1;d++)b+=String.fromCharCode(d);d=!0;c++}else d="\\"===f,b+=f}return b}function c(a,b){if(0===a.length)return b;var c="",e,f=a.length;for(e=0;e<f;e++){var d=
a.charAt(e);-1!==b.indexOf(d)&&(c+=d)}return c}var e,f="",d="";var w=0;for(e=a.length;w<e;w++){var H=g(l,"Opal").$coerce_to(a[w],g(l,"String"),"to_str");var n="^"===H.charAt(0)&&1<H.length;H=b(n?H.slice(1):H);n?d=c(d,H):f=c(f,H)}if(0<f.length&&0<d.length){H="";w=0;for(e=f.length;w<e;w++)a=f.charAt(w),-1===d.indexOf(a)&&(H+=a);f=H;d=""}return 0<f.length?"["+g(l,"Regexp").$escape(f)+"]":0<d.length?"[^"+g(l,"Regexp").$escape(d)+"]":null}var y=G(m,$super,"String"),l=[y].concat(v),E,R,C,J,ca,aa,a,d,u,
D,K,r,k,c,A,p,Q,I,n,e,f,V,ha,la,T,M,Y,x,ua,ma,za,ta,ka,sa,S,da,Da,Ma,Ia,na,fa,qa,ja,W,ea,Aa,xa,Oa,va,X,Ja,Va,ya,Za,ia,Ba,pa,wa,Ea,ra,Ta,Qa,Fa,Ra,Na,Sa,Ga,Ka,$a,Pa,Wa,Xa,ab,Ya,Z,w;y.$include(g(l,"Comparable"));b.defineProperty(y.$$prototype,"$$is_string",!0);b.defineProperty(y.$$prototype,"$$cast",function(a){var b=this.$$class;return b.$$constructor===String?a:new b.$$constructor(a)});b.def(y,"$__id__",E=function(){return this.toString()},E.$$arity=0);b.alias(y,"object_id","__id__");b.defs(y,"$try_convert",
R=function(a){return g(l,"Opal")["$coerce_to?"](a,g(l,"String"),"to_str")},R.$$arity=1);b.defs(y,"$new",C=function(a){null==a&&(a="");a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str");return new this.$$constructor(a)},C.$$arity=-1);b.def(y,"$initialize",J=function(a){return void 0===a?this:this.$raise(g(l,"NotImplementedError"),"Mutable strings are not supported in Opal.")},J.$$arity=-1);b.def(y,"$%",ca=function(a){return h(g(l,"Array")["$==="](a))?F(this,"format",[this].concat(b.to_a(a))):this.$format(this,
a)},ca.$$arity=1);b.def(y,"$*",aa=function(a){a=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");0>a&&this.$raise(g(l,"ArgumentError"),"negative argument");if(0===a)return this.$$cast("");var b="",c=this.toString();for(268435456<=c.length*a&&this.$raise(g(l,"RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(b+=c);a>>>=1;if(0===a)break;c+=c}return this.$$cast(b)},aa.$$arity=1);b.def(y,"$+",a=function(a){a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str");return this+
a.$to_s()},a.$$arity=1);b.def(y,"$<=>",d=function(a){if(h(a["$respond_to?"]("to_str")))return a=a.$to_str().$to_s(),this>a?1:this<a?-1:0;a=a["$<=>"](this);return a===q?q:0<a?-1:0>a?1:0},d.$$arity=1);b.def(y,"$==",u=function(a){return a.$$is_string?this.toString()===a.toString():g(l,"Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1},u.$$arity=1);b.alias(y,"eql?","==");b.alias(y,"===","==");b.def(y,"$=~",D=function(a){a.$$is_string&&this.$raise(g(l,"TypeError"),"type mismatch: String given");return a["$=~"](this)},
D.$$arity=1);b.def(y,"$[]",K=function(a,b){var c=this.length;if(a.$$is_range){var e=a.excl;b=g(l,"Opal").$coerce_to(a.end,g(l,"Integer"),"to_int");a=g(l,"Opal").$coerce_to(a.begin,g(l,"Integer"),"to_int");if(Math.abs(a)>c)return q;0>a&&(a+=c);0>b&&(b+=c);e||(b+=1);b-=a;0>b&&(b=0);return this.$$cast(this.substr(a,b))}if(a.$$is_string)return null!=b&&this.$raise(g(l,"TypeError")),-1!==this.indexOf(a)?this.$$cast(a):q;if(a.$$is_regexp){c=this.match(a);if(null===c)return z["~"]=q;z["~"]=g(l,"MatchData").$new(a,
c);if(null==b)return this.$$cast(c[0]);b=g(l,"Opal").$coerce_to(b,g(l,"Integer"),"to_int");return 0>b&&-b<c.length?this.$$cast(c[b+c.length]):0<=b&&b<c.length?this.$$cast(c[b]):q}a=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");0>a&&(a+=c);if(null==b)return a>=c||0>a?q:this.$$cast(this.substr(a,1));b=g(l,"Opal").$coerce_to(b,g(l,"Integer"),"to_int");return 0>b||a>c||0>a?q:this.$$cast(this.substr(a,b))},K.$$arity=-2);b.alias(y,"byteslice","[]");b.def(y,"$b",r=function(){return this.$force_encoding("binary")},
r.$$arity=0);b.def(y,"$capitalize",k=function(){return this.$$cast(this.charAt(0).toUpperCase()+this.substr(1).toLowerCase())},k.$$arity=0);b.def(y,"$casecmp",c=function(a){var b=this;if(!h(a["$respond_to?"]("to_str")))return q;a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str").$to_s();var c=/^[\x00-\x7F]*$/;c.test(b)&&c.test(a)&&(b=b.toLowerCase(),a=a.toLowerCase());return b["$<=>"](a)},c.$$arity=1);b.def(y,"$casecmp?",A=function(a){a=this.$casecmp(a);return a===q?q:0===a},A.$$arity=1);b.def(y,"$center",
p=function(a,b){null==b&&(b=" ");a=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");b=g(l,"Opal").$coerce_to(b,g(l,"String"),"to_str").$to_s();h(b["$empty?"]())&&this.$raise(g(l,"ArgumentError"),"zero width padding");if(h(a<=this.length))return this;var c=this.$ljust(t(B(a,this.length),2).$ceil(),b);a=this.$rjust(t(B(a,this.length),2).$floor(),b);return this.$$cast(a+c.slice(this.length))},p.$$arity=-2);b.def(y,"$chars",Q=function(){var a=Q.$$p,b=a||q;a&&(Q.$$p=null);a&&(Q.$$p=null);return h(b)?
F(this,"each_char",[],b.$to_proc()):this.$each_char().$to_a()},Q.$$arity=0);b.def(y,"$chomp",I=function(a){null==z["/"]&&(z["/"]=q);null==a&&(a=z["/"]);if(h(a===q||0===this.length))return this;a=g(l,"Opal")["$coerce_to!"](a,g(l,"String"),"to_str").$to_s();var b;"\n"===a?b=this.replace(/\r?\n?$/,""):""===a?b=this.replace(/(\r?\n)+$/,""):this.length>=a.length&&this.substr(this.length-a.length,a.length)===a&&(b=this.substr(0,this.length-a.length));return null!=b?this.$$cast(b):this},I.$$arity=-1);b.def(y,
"$chop",n=function(){var a=this.length;a=1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1);return this.$$cast(a)},n.$$arity=0);b.def(y,"$chr",e=function(){return this.charAt(0)},e.$$arity=0);b.def(y,"$clone",f=function(){var a=this.slice();a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},f.$$arity=0);b.def(y,"$dup",V=function(){var a=this.slice();a.$initialize_dup(this);return a},V.$$arity=0);b.def(y,"$count",ha=function(a){var c=b.slice.call(arguments,
0,arguments.length);0===c.length&&this.$raise(g(l,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");c=O(c);return null===c?0:this.length-this.replace(new RegExp(c,"g"),"").length},ha.$$arity=-1);b.def(y,"$delete",la=function(a){var c=b.slice.call(arguments,0,arguments.length);0===c.length&&this.$raise(g(l,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");c=O(c);return null===c?this:this.$$cast(this.replace(new RegExp(c,"g"),""))},la.$$arity=-1);b.def(y,
"$delete_prefix",T=function(a){a.$$is_string||(a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str"));return this.slice(0,a.length)===a?this.$$cast(this.slice(a.length)):this},T.$$arity=1);b.def(y,"$delete_suffix",M=function(a){a.$$is_string||(a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str"));return this.slice(this.length-a.length)===a?this.$$cast(this.slice(0,this.length-a.length)):this},M.$$arity=1);b.def(y,"$downcase",Y=function(){return this.$$cast(this.toLowerCase())},Y.$$arity=0);b.def(y,"$each_char",
x=function(){var a=x.$$p,c=a||q,e;a&&(x.$$p=null);a&&(x.$$p=null);if(c===q)return F(this,"enum_for",["each_char"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.length;a<f;a++)b.yield1(c,this.charAt(a));return this},x.$$arity=0);b.def(y,"$each_line",ua=function(a){var c=ua.$$p,e=c||q;null==z["/"]&&(z["/"]=q);c&&(ua.$$p=null);c&&(ua.$$p=null);null==a&&(a=z["/"]);if(e===q)return this.$enum_for("each_line",a);if(a===q)return b.yield1(e,this),this;a=g(l,"Opal").$coerce_to(a,
g(l,"String"),"to_str");var f,d;if(0===a.length){a=this.split(/(\n{2,})/);c=0;for(f=a.length;c<f;c+=2)(a[c]||a[c+1])&&b.yield1(e,this.$$cast((a[c]||"")+(a[c+1]||"")));return this}c=this.$chomp(a);f=this.length!=c.length;var w=c.split(a);c=0;for(d=w.length;c<d;c++)c<d-1||f?b.yield1(e,this.$$cast(w[c]+a)):b.yield1(e,this.$$cast(w[c]));return this},ua.$$arity=-1);b.def(y,"$empty?",ma=function(){return 0===this.length},ma.$$arity=0);b.def(y,"$end_with?",za=function(a){var c=b.slice.call(arguments,0,arguments.length);
for(var e=0,f=c.length;e<f;e++){var d=g(l,"Opal").$coerce_to(c[e],g(l,"String"),"to_str").$to_s();if(this.length>=d.length&&this.substr(this.length-d.length,d.length)==d)return!0}return!1},za.$$arity=-1);b.alias(y,"equal?","===");b.def(y,"$gsub",ta=function(a,c){var e=ta.$$p,f=e||q,d=this;e&&(ta.$$p=null);e&&(ta.$$p=null);if(void 0===c&&f===q)return d.$enum_for("gsub",a);e="";var w=q,n=0;a.$$is_regexp?a=b.global_multiline_regexp(a):(a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,
"\\$&"),"gm"));for(var H;;){var p=a.exec(d);if(null===p){z["~"]=q;e+=d.slice(n);break}w=g(l,"MatchData").$new(a,p);if(void 0===c){H=a.lastIndex;var k=f(p[0]);a.lastIndex=H}else c.$$is_hash?k=c["$[]"](p[0]).$to_s():(c.$$is_string||(c=g(l,"Opal").$coerce_to(c,g(l,"String"),"to_str")),k=c.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=p.length-1;0<a;a--)if(void 0!==p[a])return b.slice(1)+p[a];return"";case "&":return b.slice(1)+p[0];case "`":return b.slice(1)+
d.slice(0,p.index);case "'":return b.slice(1)+d.slice(p.index+p[0].length);default:return b.slice(1)+(p[c]||"")}}).replace(/\\\\/g,"\\"));a.lastIndex===p.index?(e+=k+d.slice(n,p.index+1),a.lastIndex+=1):e+=d.slice(n,p.index)+k;n=a.lastIndex}z["~"]=w;return d.$$cast(e)},ta.$$arity=-2);b.def(y,"$hash",ka=function(){return this.toString()},ka.$$arity=0);b.def(y,"$hex",sa=function(){return this.$to_i(16)},sa.$$arity=0);b.def(y,"$include?",S=function(a){a.$$is_string||(a=g(l,"Opal").$coerce_to(a,g(l,"String"),
"to_str"));return-1!==this.indexOf(a)},S.$$arity=1);b.def(y,"$index",da=function(a,c){var e;if(void 0===c)c=0;else if(c=g(l,"Opal").$coerce_to(c,g(l,"Integer"),"to_int"),0>c&&(c+=this.length,0>c))return q;if(a.$$is_regexp)for(e=b.global_multiline_regexp(a);;){a=e.exec(this);if(null===a){z["~"]=q;c=-1;break}if(a.index>=c){z["~"]=g(l,"MatchData").$new(e,a);c=a.index;break}e.lastIndex=a.index+1}else a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str"),c=0===a.length&&c>this.length?-1:this.indexOf(a,c);
return-1===c?q:c},da.$$arity=-2);b.def(y,"$inspect",Da=function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(b){return a[b]||"\\u"+("0000"+b.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/#[\$@\{]/g,"\\$&")+'"'},Da.$$arity=0);b.def(y,"$intern",Ma=function(){return this.toString()},
Ma.$$arity=0);b.def(y,"$lines",Ia=function(a){var b=Ia.$$p,c=b||q;null==z["/"]&&(z["/"]=q);b&&(Ia.$$p=null);b&&(Ia.$$p=null);null==a&&(a=z["/"]);a=F(this,"each_line",[a],c.$to_proc());return h(c)?this:a.$to_a()},Ia.$$arity=-1);b.def(y,"$length",na=function(){return this.length},na.$$arity=0);b.def(y,"$ljust",fa=function(a,b){null==b&&(b=" ");a=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");b=g(l,"Opal").$coerce_to(b,g(l,"String"),"to_str").$to_s();h(b["$empty?"]())&&this.$raise(g(l,"ArgumentError"),
"zero width padding");if(h(a<=this.length))return this;var c=-1,e="";for(a-=this.length;++c<a;)e+=b;return this.$$cast(this+e.slice(0,a))},fa.$$arity=-2);b.def(y,"$lstrip",qa=function(){return this.replace(/^\s*/,"")},qa.$$arity=0);b.def(y,"$ascii_only?",ja=function(){return this.match(/[ -~\n]*/)[0]===this},ja.$$arity=0);b.def(y,"$match",W=function(a,b){var c=W.$$p,e=c||q,f;c&&(W.$$p=null);c&&(W.$$p=null);h(h(f=g(l,"String")["$==="](a))?f:a["$respond_to?"]("to_str"))&&(a=g(l,"Regexp").$new(a.$to_str()));
h(g(l,"Regexp")["$==="](a))||this.$raise(g(l,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return F(a,"match",[this,b],e.$to_proc())},W.$$arity=-2);b.def(y,"$match?",ea=function(a,b){var c;h(h(c=g(l,"String")["$==="](a))?c:a["$respond_to?"]("to_str"))&&(a=g(l,"Regexp").$new(a.$to_str()));h(g(l,"Regexp")["$==="](a))||this.$raise(g(l,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return a["$match?"](this,b)},ea.$$arity=-2);b.def(y,"$next",Aa=function(){var a=
this.length;if(0===a)return this.$$cast("");for(var b=this,c=this.search(/[a-zA-Z0-9]/),e,f;a--;){f=this.charCodeAt(a);if(48<=f&&57>=f||65<=f&&90>=f||97<=f&&122>=f)switch(f){case 57:e=!0;f=48;break;case 90:e=!0;f=65;break;case 122:e=!0;f=97;break;default:e=!1,f+=1}else-1===c?255===f?(e=!0,f=0):(e=!1,f+=1):e=!0;b=b.slice(0,a)+String.fromCharCode(f)+b.slice(a+1);if(e&&(0===a||a===c)){switch(f){case 65:break;case 97:break;default:f+=1}b=0===a?String.fromCharCode(f)+b:b.slice(0,a)+String.fromCharCode(f)+
b.slice(a);e=!1}if(!e)break}return this.$$cast(b)},Aa.$$arity=0);b.def(y,"$oct",xa=function(){var a=this;var b=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,c,e,f){switch(f.charAt(0)){case "+":case "-":return a;case "0":if("x"===f.charAt(1)&&"0x"===e)return a}switch(e){case "0b":b=2;break;case "0":case "0o":b=8;break;case "0d":b=10;break;case "0x":b=16}return c+f});a=parseInt(a.replace(/_(?!_)/g,""),b);return isNaN(a)?0:a},xa.$$arity=0);b.def(y,"$ord",Oa=function(){return this.charCodeAt(0)},
Oa.$$arity=0);b.def(y,"$partition",va=function(a){if(a.$$is_regexp){var b=a.exec(this);null===b?b=-1:(g(l,"MatchData").$new(a,b),a=b[0],b=b.index)}else a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str"),b=this.indexOf(a);return-1===b?[this,"",""]:[this.slice(0,b),this.slice(b,b+a.length),this.slice(b+a.length)]},va.$$arity=1);b.def(y,"$reverse",X=function(){return this.split("").reverse().join("")},X.$$arity=0);b.def(y,"$rindex",Ja=function(a,c){if(void 0===c)c=this.length;else if(c=g(l,"Opal").$coerce_to(c,
g(l,"Integer"),"to_int"),0>c&&(c+=this.length,0>c))return q;if(a.$$is_regexp){var e=null;for(a=b.global_multiline_regexp(a);;){var f=a.exec(this);if(null===f||f.index>c)break;e=f;a.lastIndex=e.index+1}null===e?(z["~"]=q,c=-1):(g(l,"MatchData").$new(a,e),c=e.index)}else a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str"),c=this.lastIndexOf(a,c);return-1===c?q:c},Ja.$$arity=-2);b.def(y,"$rjust",Va=function(a,b){null==b&&(b=" ");a=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");b=g(l,"Opal").$coerce_to(b,
g(l,"String"),"to_str").$to_s();h(b["$empty?"]())&&this.$raise(g(l,"ArgumentError"),"zero width padding");if(h(a<=this.length))return this;a=Math.floor(a-this.length);var c=Array(Math.floor(a/b.length)+1).join(b);return this.$$cast(c+b.slice(0,a-c.length)+this)},Va.$$arity=-2);b.def(y,"$rpartition",ya=function(a){var c;if(a.$$is_regexp){var e=null;for(c=b.global_multiline_regexp(a);;){var f=c.exec(this);if(null===f)break;e=f;c.lastIndex=e.index+1}null===e?e=-1:(g(l,"MatchData").$new(c,e),a=e[0],e=
e.index)}else a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str"),e=this.lastIndexOf(a);return-1===e?["","",this]:[this.slice(0,e),this.slice(e,e+a.length),this.slice(e+a.length)]},ya.$$arity=1);b.def(y,"$rstrip",Za=function(){return this.replace(/[\s\u0000]*$/,"")},Za.$$arity=0);b.def(y,"$scan",ia=function(a){var c=ia.$$p,e=c||q;c&&(ia.$$p=null);c&&(ia.$$p=null);c=[];var f=q,d;a.$$is_regexp?a=b.global_multiline_regexp(a):(a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,
"\\$&"),"gm"));for(;null!=(d=a.exec(this));)f=g(l,"MatchData").$new(a,d),e===q?1==d.length?c.push(d[0]):c.push(f.$captures()):1==d.length?e(d[0]):e.call(this,f.$captures()),a.lastIndex===d.index&&(a.lastIndex+=1);z["~"]=f;return e!==q?this:c},ia.$$arity=1);b.alias(y,"size","length");b.alias(y,"slice","[]");b.def(y,"$split",Ba=function(a,c){function e(){for(p=0;p<w.length;p++)w[p]=d.$$cast(w[p])}var f,d=this;null==z[";"]&&(z[";"]=q);if(0===d.length)return[];if(void 0===c)c=0;else if(c=g(l,"Opal")["$coerce_to!"](c,
g(l,"Integer"),"to_int"),1===c)return[d];if(void 0===a||a===q)a=h(f=z[";"])?f:" ";var w=[];f=d.toString();var n=0,p;a.$$is_regexp?a=b.global_multiline_regexp(a):(a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str").$to_s()," "===a?(a=/\s+/gm,f=f.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));w=f.split(a);if(1===w.length&&w[0]===f)return[d.$$cast(w[0])];for(;-1!==(p=w.indexOf(void 0));)w.splice(p,1);if(0===c){for(;""===w[w.length-1];)--w.length;e();return w}var k=a.exec(f);
if(0>c){if(null!==k&&""===k[0]&&-1===a.source.indexOf("(?="))for(p=0,a=k.length;p<a;p++)w.push("");e();return w}if(null!==k&&""===k[0])return w.splice(c-1,w.length-1,w.slice(c-1).join("")),e(),w;if(c>=w.length)return e(),w;for(p=0;null!==k;){p++;n=a.lastIndex;if(p+1===c)break;k=a.exec(f)}w.splice(c-1,w.length-1,f.slice(n));e();return w},Ba.$$arity=-1);b.def(y,"$squeeze",pa=function(a){var c=b.slice.call(arguments,0,arguments.length);if(0===c.length)return this.$$cast(this.replace(/(.)\1+/g,"$1"));
c=O(c);return null===c?this:this.$$cast(this.replace(new RegExp("("+c+")\\1+","g"),"$1"))},pa.$$arity=-1);b.def(y,"$start_with?",wa=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=0,f=c.length;e<f;e++){var d=g(l,"Opal").$coerce_to(c[e],g(l,"String"),"to_str").$to_s();if(0===this.indexOf(d))return!0}return!1},wa.$$arity=-1);b.def(y,"$strip",Ea=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},Ea.$$arity=0);b.def(y,"$sub",ra=function(a,b){var c=ra.$$p,e=c||
q,f=this;c&&(ra.$$p=null);c&&(ra.$$p=null);a.$$is_regexp||(a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var d=a.exec(f);null===d?(z["~"]=q,a=f.toString()):(g(l,"MatchData").$new(a,d),void 0===b?(e===q&&f.$raise(g(l,"ArgumentError"),"wrong number of arguments (1 for 2)"),a=f.slice(0,d.index)+e(d[0])+f.slice(d.index+d[0].length)):b.$$is_hash?a=f.slice(0,d.index)+b["$[]"](d[0]).$to_s()+f.slice(d.index+d[0].length):(b=g(l,"Opal").$coerce_to(b,
g(l,"String"),"to_str"),b=b.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=d.length-1;0<a;a--)if(void 0!==d[a])return b.slice(1)+d[a];return"";case "&":return b.slice(1)+d[0];case "`":return b.slice(1)+f.slice(0,d.index);case "'":return b.slice(1)+f.slice(d.index+d[0].length);default:return b.slice(1)+(d[c]||"")}}).replace(/\\\\/g,"\\"),a=f.slice(0,d.index)+b+f.slice(d.index+d[0].length)));return f.$$cast(a)},ra.$$arity=-2);b.alias(y,"succ","next");
b.def(y,"$sum",Ta=function(a){null==a&&(a=16);a=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");for(var b=0,c=this.length,e=0;e<c;e++)b+=this.charCodeAt(e);return 0>=a?b:b&Math.pow(2,a)-1},Ta.$$arity=-1);b.def(y,"$swapcase",Qa=function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,b,c){return b?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)},Qa.$$arity=0);b.def(y,"$to_f",Fa=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,
""));return isNaN(a)||Infinity==a||-Infinity==a?0:a},Fa.$$arity=0);b.def(y,"$to_i",Ra=function(a){null==a&&(a=10);var b=this.toLowerCase(),c=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");(1===c||0>c||36<c)&&this.$raise(g(l,"ArgumentError"),"invalid radix "+c);if(/^\s*_/.test(b))return 0;b=b.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,b,e,f){switch(f.charAt(0)){case "+":case "-":return a;case "0":if("x"===f.charAt(1)&&"0x"===e&&(0===c||16===c))return a}switch(e){case "0b":if(0===c||2===c)return c=
2,b+f;break;case "0":case "0o":if(0===c||8===c)return c=8,b+f;break;case "0d":if(0===c||10===c)return c=10,b+f;break;case "0x":if(0===c||16===c)return c=16,b+f}return a});a=parseInt(b.replace(/_(?!_)/g,""),c);return isNaN(a)?0:a},Ra.$$arity=-1);b.def(y,"$to_proc",Na=function(){var a,c=q;Na.$$p&&(Na.$$p=null);c=B("$",this.valueOf());return F(this,"proc",[],(a=function(e){var f=a.$$s||this,d=a.$$p,w=d||q;d&&(a.$$p=null);d=b.slice.call(arguments,0,arguments.length);0===d.length&&f.$raise(g(l,"ArgumentError"),
"no receiver given");f=d[0];null==f&&(f=q);var n=f[c];if(!n)return f.$method_missing.apply(f,d);"function"===typeof w&&(n.$$p=w);return 1===d.length?n.call(f):n.apply(f,d.slice(1))},a.$$s=this,a.$$arity=-1,a))},Na.$$arity=0);b.def(y,"$to_s",Sa=function(){return this.toString()},Sa.$$arity=0);b.alias(y,"to_str","to_s");b.alias(y,"to_sym","intern");b.def(y,"$tr",Ga=function(a,b){a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str").$to_s();b=g(l,"Opal").$coerce_to(b,g(l,"String"),"to_str").$to_s();if(0==
a.length||a===b)return this;var c={};var e=a.split("");var f=e.length,d=b.split(""),w=d.length;a=!1;var n=null;"^"===e[0]&&1<e.length&&(a=!0,e.shift(),n=d[w-1],--f);var p=[];var k=null;var r=!1;for(b=0;b<f;b++){var x=e[b];if(null==k)k=x,p.push(x);else if("-"===x)"-"===k?(p.push("-"),p.push("-")):b==f-1?p.push("-"):r=!0;else if(r){k=k.charCodeAt(0);r=x.charCodeAt(0);k>r&&this.$raise(g(l,"ArgumentError"),'invalid range "'+String.fromCharCode(k)+"-"+String.fromCharCode(r)+'" in string transliteration');
for(k+=1;k<r;k++)p.push(String.fromCharCode(k));p.push(x);k=r=null}else p.push(x)}e=p;f=e.length;if(a)for(b=0;b<f;b++)c[e[b]]=!0;else{if(0<w){p=[];k=null;r=!1;for(b=0;b<w;b++)if(x=d[b],null==k)k=x,p.push(x);else if("-"===x)"-"===k?(p.push("-"),p.push("-")):b==w-1?p.push("-"):r=!0;else if(r){k=k.charCodeAt(0);r=x.charCodeAt(0);k>r&&this.$raise(g(l,"ArgumentError"),'invalid range "'+String.fromCharCode(k)+"-"+String.fromCharCode(r)+'" in string transliteration');for(k+=1;k<r;k++)p.push(String.fromCharCode(k));
p.push(x);k=r=null}else p.push(x);d=p;w=d.length}x=f-w;if(0<x)for(w=0<w?d[w-1]:"",b=0;b<x;b++)d.push(w);for(b=0;b<f;b++)c[e[b]]=d[b]}f="";b=0;for(e=this.length;b<e;b++)x=this.charAt(b),d=c[x],f=a?f+(null==d?n:x):f+(null!=d?d:x);return this.$$cast(f)},Ga.$$arity=2);b.def(y,"$tr_s",Ka=function(a,b){a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str").$to_s();b=g(l,"Opal").$coerce_to(b,g(l,"String"),"to_str").$to_s();if(0==a.length)return this;var c={};var e=a.split("");var f=e.length,d=b.split(""),w=
d.length;a=!1;var n=null;"^"===e[0]&&1<e.length&&(a=!0,e.shift(),n=d[w-1],--f);var p=[];var k=null;var r=!1;for(b=0;b<f;b++){var x=e[b];if(null==k)k=x,p.push(x);else if("-"===x)"-"===k?(p.push("-"),p.push("-")):b==f-1?p.push("-"):r=!0;else if(r){k=k.charCodeAt(0);r=x.charCodeAt(0);k>r&&this.$raise(g(l,"ArgumentError"),'invalid range "'+String.fromCharCode(k)+"-"+String.fromCharCode(r)+'" in string transliteration');for(k+=1;k<r;k++)p.push(String.fromCharCode(k));p.push(x);k=r=null}else p.push(x)}e=
p;f=e.length;if(a)for(b=0;b<f;b++)c[e[b]]=!0;else{if(0<w){p=[];r=!1;for(b=0;b<w;b++)if(x=d[b],null==k)k=x,p.push(x);else if("-"===x)b==w-1?p.push("-"):r=!0;else if(r){k=k.charCodeAt(0);r=x.charCodeAt(0);k>r&&this.$raise(g(l,"ArgumentError"),'invalid range "'+String.fromCharCode(k)+"-"+String.fromCharCode(r)+'" in string transliteration');for(k+=1;k<r;k++)p.push(String.fromCharCode(k));p.push(x);k=r=null}else p.push(x);d=p;w=d.length}x=f-w;if(0<x)for(w=0<w?d[w-1]:"",b=0;b<x;b++)d.push(w);for(b=0;b<
f;b++)c[e[b]]=d[b]}f="";d=null;b=0;for(e=this.length;b<e;b++)if(x=this.charAt(b),w=c[x],a)null==w?null==d&&(f+=n,d=!0):(f+=x,d=null);else if(null!=w){if(null==d||d!==w)f+=w,d=w}else f+=x,d=null;return this.$$cast(f)},Ka.$$arity=2);b.def(y,"$upcase",$a=function(){return this.$$cast(this.toUpperCase())},$a.$$arity=0);b.def(y,"$upto",Pa=function(a,b){var c=Pa.$$p,e=c||q;c&&(Pa.$$p=null);c&&(Pa.$$p=null);null==b&&(b=!1);if(e===q)return this.$enum_for("upto",a,b);a=g(l,"Opal").$coerce_to(a,g(l,"String"),
"to_str");c=this.toString();if(1===c.length&&1===a.length)for(c=c.charCodeAt(0),a=a.charCodeAt(0);c<=a&&(!b||c!==a);)e(String.fromCharCode(c)),c+=1;else if(parseInt(c,10).toString()===c&&parseInt(a,10).toString()===a)for(c=parseInt(c,10),a=parseInt(a,10);c<=a&&(!b||c!==a);)e(c.toString()),c+=1;else for(;c.length<=a.length&&c<=a&&(!b||c!==a);)e(c),c=c.$succ();return this},Pa.$$arity=-2);b.def(y,"$instance_variables",Wa=function(){return[]},Wa.$$arity=0);b.defs(y,"$_load",Xa=function(a){var c=b.slice.call(arguments,
0,arguments.length);return F(this,"new",b.to_a(c))},Xa.$$arity=-1);b.def(y,"$unicode_normalize",ab=function(a){return this.toString()},ab.$$arity=-1);b.def(y,"$unicode_normalized?",Ya=function(a){return!0},Ya.$$arity=-1);b.def(y,"$unpack",Z=function(a){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Z.$$arity=1);return(b.def(y,"$unpack1",w=function(a){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},w.$$arity=
1),q)&&"unpack1"})(v[0],String,v);return b.const_set(v[0],"Symbol",g(v,"String"))};
Opal.modules["corelib/enumerable"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function B(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}function E(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}function v(b,g){return"number"===typeof b&&"number"===typeof g?b<=g:b["$<="](g)}var q=[],g=b.nil,G=b.const_get_qualified,h=b.const_get_relative,F=b.module,z=b.truthy,m=b.send,P=b.falsy,O=b.hash2,N=b.lambda;b.add_stubs("$each $public_send $destructure $to_enum $enumerator_size $new $yield $raise $slice_when $! $enum_for $flatten $map $warn $proc $== $nil? $respond_to? $coerce_to! $> $* $coerce_to $try_convert $< $+ $- $ceil $/ $size $__send__ $length $<= $[] $push $<< $[]= $=== $inspect $<=> $first $reverse $sort $to_proc $compare $call $dup $to_a $sort! $map! $key? $values $zip".split(" "));
return function(q,l){function y(a){0===a.length&&(a=[g]);1<a.length&&(a=[a]);return a}q=F(q,"Enumerable");var R=[q].concat(l),C,J,ca,aa,a,d,u,D,K,r,k,c,A,p,Q,I,n,e,f,V,ha,la,T,M,Y,x,ua,ma,za,ta,ka,sa,S,da,Da,Ma,Ia,na,fa,qa,ja,W,ea,Aa,xa,Oa,va,X;b.def(q,"$all?",C=function(a){try{var c=C.$$p,e=c||g,f,d,n;c&&(C.$$p=null);c&&(C.$$p=null);z(void 0!==a)?m(this,"each",[],(f=function(c){var e=b.slice.call(arguments,0,arguments.length);e=y(e);if(z(m(a,"public_send",["==="].concat(b.to_a(e)))))return g;b.ret(!1)},
f.$$s=this,f.$$arity=-1,f)):e!==g?m(this,"each",[],(d=function(a){var c=b.slice.call(arguments,0,arguments.length);if(z(b.yieldX(e,b.to_a(c))))return g;b.ret(!1)},d.$$s=this,d.$$arity=-1,d)):m(this,"each",[],(n=function(a){var c=b.slice.call(arguments,0,arguments.length);if(z(h(R,"Opal").$destructure(c)))return g;b.ret(!1)},n.$$s=this,n.$$arity=-1,n));return!0}catch(pa){if(pa===b.returner)return pa.$v;throw pa;}},C.$$arity=-1);b.def(q,"$any?",J=function(a){try{var c=J.$$p,e=c||g,f,d,n;c&&(J.$$p=null);
c&&(J.$$p=null);z(void 0!==a)?m(this,"each",[],(f=function(c){var e=b.slice.call(arguments,0,arguments.length);e=y(e);if(z(m(a,"public_send",["==="].concat(b.to_a(e)))))b.ret(!0);else return g},f.$$s=this,f.$$arity=-1,f)):e!==g?m(this,"each",[],(d=function(a){var c=b.slice.call(arguments,0,arguments.length);if(z(b.yieldX(e,b.to_a(c))))b.ret(!0);else return g},d.$$s=this,d.$$arity=-1,d)):m(this,"each",[],(n=function(a){var c=b.slice.call(arguments,0,arguments.length);if(z(h(R,"Opal").$destructure(c)))b.ret(!0);
else return g},n.$$s=this,n.$$arity=-1,n));return!1}catch(pa){if(pa===b.returner)return pa.$v;throw pa;}},J.$$arity=-1);b.def(q,"$chunk",ca=function(){var a=ca.$$p,c=a||g,e,f;a&&(ca.$$p=null);a&&(ca.$$p=null);return c===g?m(this,"to_enum",["chunk"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e)):m(G("::","Enumerator"),"new",[],(f=function(a){function e(){0<p.length&&a.$yield(n,p)}var d=f.$$s||this;null==a&&(a=g);var n=g,p=[];d.$each.$$p=function(a){var f=b.yield1(c,
a);f===g?(e(),p=[],n=g):(n===g||n===f?p.push(a):(e(),p=[a]),n=f)};d.$each();e()},f.$$s=this,f.$$arity=1,f))},ca.$$arity=0);b.def(q,"$chunk_while",aa=function(){var a=aa.$$p,c=a||g,e;a&&(aa.$$p=null);a&&(aa.$$p=null);c===g&&this.$raise(h(R,"ArgumentError"),"no block given");return m(this,"slice_when",[],(e=function(a,e){null==a&&(a=g);null==e&&(e=g);return b.yieldX(c,[a,e])["$!"]()},e.$$s=this,e.$$arity=2,e))},aa.$$arity=0);b.def(q,"$collect",a=function(){var c=a.$$p,e=c||g,f;c&&(a.$$p=null);c&&(a.$$p=
null);if(e===g)return m(this,"enum_for",["collect"],(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f.$$arity=0,f));var d=[];this.$each.$$p=function(){var a=b.yieldX(e,arguments);d.push(a)};this.$each();return d},a.$$arity=0);b.def(q,"$collect_concat",d=function(){var a=d.$$p,c=a||g,e,f;a&&(d.$$p=null);a&&(d.$$p=null);return c===g?m(this,"enum_for",["collect_concat"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e)):m(this,"map",[],(f=function(a){null==
a&&(a=g);return b.yield1(c,a)},f.$$s=this,f.$$arity=1,f)).$flatten(1)},d.$$arity=0);b.def(q,"$count",u=function(a){var c=u.$$p,e=c||g,f,d,n,p=g;c&&(u.$$p=null);c&&(u.$$p=null);p=0;null!=a&&e!==g&&this.$warn("warning: given block not used");z(null!=a)?e=m(this,"proc",[],(f=function(c){var e=b.slice.call(arguments,0,arguments.length);return h(R,"Opal").$destructure(e)["$=="](a)},f.$$s=this,f.$$arity=-1,f)):z(e["$nil?"]())&&(e=m(this,"proc",[],(d=function(){return!0},d.$$s=this,d.$$arity=0,d)));m(this,
"each",[],(n=function(a){var c=b.slice.call(arguments,0,arguments.length);return z(b.yieldX(e,c))?p++:g},n.$$s=this,n.$$arity=-1,n));return p},u.$$arity=-1);b.def(q,"$cycle",D=function(a){var c=D.$$p,e=c||g,f;c&&(D.$$p=null);c&&(D.$$p=null);null==a&&(a=g);if(e===g)return m(this,"enum_for",["cycle",a],(f=function(){var b=f.$$s||this;if(z(a["$nil?"]()))return z(b["$respond_to?"]("size"))?G(h(R,"Float"),"INFINITY"):g;a=h(R,"Opal")["$coerce_to!"](a,h(R,"Integer"),"to_int");return z(t(a,0))?(b=b.$enumerator_size(),
"number"===typeof b&&"number"===typeof a?b*a:b["$*"](a)):0},f.$$s=this,f.$$arity=0,f));if(!z(a["$nil?"]())&&(a=h(R,"Opal")["$coerce_to!"](a,h(R,"Integer"),"to_int"),z(0>=a)))return g;var d=[],n;this.$each.$$p=function(){var a=h(R,"Opal").$destructure(arguments);b.yield1(e,a);d.push(a)};this.$each();if(0===d.length)return g;if(a===g)for(;;)for(c=0,n=d.length;c<n;c++)b.yield1(e,d[c]);else for(;1<a;){c=0;for(n=d.length;c<n;c++)b.yield1(e,d[c]);a--}},D.$$arity=-1);b.def(q,"$detect",K=function(a){try{var c=
K.$$p,e=c||g,f;c&&(K.$$p=null);c&&(K.$$p=null);if(e===g)return this.$enum_for("detect",a);m(this,"each",[],(f=function(a){var c=b.slice.call(arguments,0,arguments.length);c=h(R,"Opal").$destructure(c);if(z(b.yield1(e,c)))b.ret(c);else return g},f.$$s=this,f.$$arity=-1,f));return void 0!==a?"function"===typeof a?a():a:g}catch(ia){if(ia===b.returner)return ia.$v;throw ia;}},K.$$arity=-1);b.def(q,"$drop",r=function(a){a=h(R,"Opal").$coerce_to(a,h(R,"Integer"),"to_int");z(0>a)&&this.$raise(h(R,"ArgumentError"),
"attempt to drop negative size");var b=[],c=0;this.$each.$$p=function(){a<=c&&b.push(h(R,"Opal").$destructure(arguments));c++};this.$each();return b},r.$$arity=1);b.def(q,"$drop_while",k=function(){var a=k.$$p,c=a||g;a&&(k.$$p=null);a&&(k.$$p=null);if(c===g)return this.$enum_for("drop_while");var e=[],f=!0;this.$each.$$p=function(){var a=h(R,"Opal").$destructure(arguments);if(f){var d=b.yield1(c,a);P(d)&&(f=!1,e.push(a))}else e.push(a)};this.$each();return e},k.$$arity=0);b.def(q,"$each_cons",c=function(a){var e=
c.$$p,f=e||g,d;e&&(c.$$p=null);e&&(c.$$p=null);z(1!=arguments.length)&&this.$raise(h(R,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");a=h(R,"Opal").$try_convert(a,h(R,"Integer"),"to_int");z(0>=a)&&this.$raise(h(R,"ArgumentError"),"invalid size");if(f===g)return m(this,"enum_for",["each_cons",a],(d=function(){var b;var c=(d.$$s||this).$enumerator_size();return z(c["$nil?"]())?g:z(z(b=c["$=="](0))?b:"number"===typeof c&&"number"===typeof a?c<a:c["$<"](a))?0:B(E(c,a),1)},
d.$$s=this,d.$$arity=0,d));var n=[];this.$each.$$p=function(){var c=h(R,"Opal").$destructure(arguments);n.push(c);n.length>a&&n.shift();n.length==a&&b.yield1(f,n.slice(0,a))};this.$each();return g},c.$$arity=1);b.def(q,"$each_entry",A=function(a){var c=A.$$p,e=c||g,f;c&&(A.$$p=null);c&&(A.$$p=null);c=b.slice.call(arguments,0,arguments.length);if(e===g)return m(this,"to_enum",["each_entry"].concat(b.to_a(c)),(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f.$$arity=0,f));this.$each.$$p=
function(){var a=h(R,"Opal").$destructure(arguments);b.yield1(e,a)};this.$each.apply(this,c);return this},A.$$arity=-1);b.def(q,"$each_slice",p=function(a){var c=p.$$p,e=c||g,f;c&&(p.$$p=null);c&&(p.$$p=null);a=h(R,"Opal").$coerce_to(a,h(R,"Integer"),"to_int");z(0>=a)&&this.$raise(h(R,"ArgumentError"),"invalid slice size");if(e===g)return m(this,"enum_for",["each_slice",a],(f=function(){var b=f.$$s||this;return z(b["$respond_to?"]("size"))?(b=b.$size(),("number"===typeof b&&"number"===typeof a?b/
a:b["$/"](a)).$ceil()):g},f.$$s=this,f.$$arity=0,f));var d=[];this.$each.$$p=function(){var c=h(R,"Opal").$destructure(arguments);d.push(c);d.length===a&&(b.yield1(e,d),d=[])};this.$each();0<d.length&&b.yield1(e,d);return g},p.$$arity=1);b.def(q,"$each_with_index",Q=function(a){var c=Q.$$p,e=c||g,f;c&&(Q.$$p=null);c&&(Q.$$p=null);c=b.slice.call(arguments,0,arguments.length);if(e===g)return m(this,"enum_for",["each_with_index"].concat(b.to_a(c)),(f=function(){return(f.$$s||this).$enumerator_size()},
f.$$s=this,f.$$arity=0,f));var d=0;this.$each.$$p=function(){var a=h(R,"Opal").$destructure(arguments);e(a,d);d++};this.$each.apply(this,c);return this},Q.$$arity=-1);b.def(q,"$each_with_object",I=function(a){var b=I.$$p,c=b||g,e;b&&(I.$$p=null);b&&(I.$$p=null);if(c===g)return m(this,"enum_for",["each_with_object",a],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));this.$each.$$p=function(){var b=h(R,"Opal").$destructure(arguments);c(b,a)};this.$each();return a},I.$$arity=
1);b.def(q,"$entries",n=function(a){var c=b.slice.call(arguments,0,arguments.length);var e=[];this.$each.$$p=function(){e.push(h(R,"Opal").$destructure(arguments))};this.$each.apply(this,c);return e},n.$$arity=-1);b.alias(q,"find","detect");b.def(q,"$find_all",e=function(){var a=e.$$p,c=a||g,f;a&&(e.$$p=null);a&&(e.$$p=null);if(c===g)return m(this,"enum_for",["find_all"],(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f.$$arity=0,f));var d=[];this.$each.$$p=function(){var a=h(R,"Opal").$destructure(arguments),
e=b.yield1(c,a);z(e)&&d.push(a)};this.$each();return d},e.$$arity=0);b.def(q,"$find_index",f=function(a){try{var c=f.$$p,e=c||g,d,n,p=g;c&&(f.$$p=null);c&&(f.$$p=null);if(z(void 0===a&&e===g))return this.$enum_for("find_index");null!=a&&e!==g&&this.$warn("warning: given block not used");p=0;z(null!=a)?m(this,"each",[],(d=function(c){var e=b.slice.call(arguments,0,arguments.length);h(R,"Opal").$destructure(e)["$=="](a)&&b.ret(p);return p+=1},d.$$s=this,d.$$arity=-1,d)):m(this,"each",[],(n=function(a){var c=
b.slice.call(arguments,0,arguments.length);z(b.yieldX(e,b.to_a(c)))&&b.ret(p);return p+=1},n.$$s=this,n.$$arity=-1,n));return g}catch(pa){if(pa===b.returner)return pa.$v;throw pa;}},f.$$arity=-1);b.def(q,"$first",V=function(a){try{var c,e,f=g,d=g;if(z(void 0===a))return m(this,"each",[],(c=function(a){null==a&&(a=g);b.ret(a)},c.$$s=this,c.$$arity=1,c));f=[];a=h(R,"Opal").$coerce_to(a,h(R,"Integer"),"to_int");z(0>a)&&this.$raise(h(R,"ArgumentError"),"attempt to take negative size");if(z(0==a))return[];
d=0;m(this,"each",[],(e=function(c){var e=b.slice.call(arguments,0,arguments.length);f.push(h(R,"Opal").$destructure(e));if(z(a<=++d))b.ret(f);else return g},e.$$s=this,e.$$arity=-1,e));return f}catch(Ba){if(Ba===b.returner)return Ba.$v;throw Ba;}},V.$$arity=-1);b.alias(q,"flat_map","collect_concat");b.def(q,"$grep",ha=function(a){var c=ha.$$p,e=c||g,f,d=g;c&&(ha.$$p=null);c&&(ha.$$p=null);d=[];m(this,"each",[],(f=function(c){var f=b.slice.call(arguments,0,arguments.length);var n=y(f);if(!z(m(a,"__send__",
["==="].concat(b.to_a(n)))))return g;e!==g?(z(t(f.$length(),1))&&(f=[f]),f=b.yieldX(e,b.to_a(f))):z(v(f.$length(),1))&&(f=f["$[]"](0));return d.$push(f)},f.$$s=this,f.$$arity=-1,f));return d},ha.$$arity=1);b.def(q,"$grep_v",la=function(a){var c=la.$$p,e=c||g,f,d=g;c&&(la.$$p=null);c&&(la.$$p=null);d=[];m(this,"each",[],(f=function(c){var f=b.slice.call(arguments,0,arguments.length);var n=y(f);if(z(m(a,"__send__",["==="].concat(b.to_a(n)))))return g;e!==g?(z(t(f.$length(),1))&&(f=[f]),f=b.yieldX(e,
b.to_a(f))):z(v(f.$length(),1))&&(f=f["$[]"](0));return d.$push(f)},f.$$s=this,f.$$arity=-1,f));return d},la.$$arity=1);b.def(q,"$group_by",T=function(){var a=T.$$p,c=a||g,e,f,d=g,n=g;a&&(T.$$p=null);a&&(T.$$p=null);if(c===g)return m(this,"enum_for",["group_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));d=O([],{});this.$each.$$p=function(){var a=h(R,"Opal").$destructure(arguments),e=b.yield1(c,a);(z(f=d["$[]"](e))?f:(n=[e,[]],m(d,"[]=",b.to_a(n)),n[E(n.length,
1)]))["$<<"](a)};this.$each();return d},T.$$arity=0);b.def(q,"$include?",M=function(a){try{var c;m(this,"each",[],(c=function(c){var e=b.slice.call(arguments,0,arguments.length);if(h(R,"Opal").$destructure(e)["$=="](a))b.ret(!0);else return g},c.$$s=this,c.$$arity=-1,c));return!1}catch(ya){if(ya===b.returner)return ya.$v;throw ya;}},M.$$arity=1);b.def(q,"$inject",Y=function(a,c){var e=Y.$$p,f=e||g;e&&(Y.$$p=null);e&&(Y.$$p=null);var d=a;f!==g&&void 0===c?this.$each.$$p=function(){var a=h(R,"Opal").$destructure(arguments);
void 0!==d&&(a=b.yieldX(f,[d,a]));d=a}:(void 0===c&&(h(R,"Symbol")["$==="](a)||this.$raise(h(R,"TypeError"),""+a.$inspect()+" is not a Symbol"),c=a,d=void 0),this.$each.$$p=function(){var a=h(R,"Opal").$destructure(arguments);d=void 0===d?a:d.$__send__(c,a)});this.$each();return void 0==d?g:d},Y.$$arity=-1);b.def(q,"$lazy",x=function(){var a;return m(G(h(R,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(a=function(a,c){null==a&&(a=g);var e=b.slice.call(arguments,1,arguments.length);return m(a,
"yield",b.to_a(e))},a.$$s=this,a.$$arity=-2,a))},x.$$arity=0);b.def(q,"$enumerator_size",ua=function(){return z(this["$respond_to?"]("size"))?this.$size():g},ua.$$arity=0);b.alias(q,"map","collect");b.def(q,"$max",ma=function(a){var c=ma.$$p,e=c||g,f=this;c&&(ma.$$p=null);c&&(ma.$$p=null);if(void 0===a||a===g){var d,n;f.$each.$$p=function(){var a=h(R,"Opal").$destructure(arguments);void 0===d?d=a:(n=e!==g?b.yieldX(e,[a,d]):a["$<=>"](d),n===g&&f.$raise(h(R,"ArgumentError"),"comparison failed"),0<n&&
(d=a))};f.$each();return void 0===d?g:d}a=h(R,"Opal").$coerce_to(a,h(R,"Integer"),"to_int");return m(f,"sort",[],e.$to_proc()).$reverse().$first(a)},ma.$$arity=-1);b.def(q,"$max_by",za=function(){var a=za.$$p,c=a||g,e;a&&(za.$$p=null);a&&(za.$$p=null);if(!z(c))return m(this,"enum_for",["max_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f,d;this.$each.$$p=function(){var a=h(R,"Opal").$destructure(arguments),e=b.yield1(c,a);void 0===f?(f=a,d=e):0<e["$<=>"](d)&&
(f=a,d=e)};this.$each();return void 0===f?g:f},za.$$arity=0);b.alias(q,"member?","include?");b.def(q,"$min",ta=function(){var a=ta.$$p,b=a||g,c=this;a&&(ta.$$p=null);a&&(ta.$$p=null);var e;c.$each.$$p=b!==g?function(){var a=h(R,"Opal").$destructure(arguments);if(void 0===e)e=a;else{var f=b(a,e);f===g&&c.$raise(h(R,"ArgumentError"),"comparison failed");0>f&&(e=a)}}:function(){var a=h(R,"Opal").$destructure(arguments);void 0===e?e=a:0>h(R,"Opal").$compare(a,e)&&(e=a)};c.$each();return void 0===e?g:
e},ta.$$arity=0);b.def(q,"$min_by",ka=function(){var a=ka.$$p,c=a||g,e;a&&(ka.$$p=null);a&&(ka.$$p=null);if(!z(c))return m(this,"enum_for",["min_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f,d;this.$each.$$p=function(){var a=h(R,"Opal").$destructure(arguments),e=b.yield1(c,a);void 0===f?(f=a,d=e):0>e["$<=>"](d)&&(f=a,d=e)};this.$each();return void 0===f?g:f},ka.$$arity=0);b.def(q,"$minmax",sa=function(){var a=sa.$$p,b=a||g,c,e,f=this;a&&(sa.$$p=null);
a&&(sa.$$p=null);b=z(c=b)?c:m(f,"proc",[],(e=function(a,b){null==a&&(a=g);null==b&&(b=g);return a["$<=>"](b)},e.$$s=f,e.$$arity=2,e));var d=g,n=g,p=!0;f.$each.$$p=function(){var a=h(R,"Opal").$destructure(arguments);if(p)d=n=a,p=!1;else{var c=b.$call(d,a);c===g?f.$raise(h(R,"ArgumentError"),"comparison failed"):0<c&&(d=a);c=b.$call(n,a);c===g?f.$raise(h(R,"ArgumentError"),"comparison failed"):0>c&&(n=a)}};f.$each();return[d,n]},sa.$$arity=0);b.def(q,"$minmax_by",S=function(){var a=S.$$p;a&&(S.$$p=
null);a&&(S.$$p=null);return this.$raise(h(R,"NotImplementedError"))},S.$$arity=0);b.def(q,"$none?",da=function(a){try{var c=da.$$p,e=c||g,f,d,n;c&&(da.$$p=null);c&&(da.$$p=null);z(void 0!==a)?m(this,"each",[],(f=function(c){var e=b.slice.call(arguments,0,arguments.length);e=y(e);if(z(m(a,"public_send",["==="].concat(b.to_a(e)))))b.ret(!1);else return g},f.$$s=this,f.$$arity=-1,f)):e!==g?m(this,"each",[],(d=function(a){var c=b.slice.call(arguments,0,arguments.length);if(z(b.yieldX(e,b.to_a(c))))b.ret(!1);
else return g},d.$$s=this,d.$$arity=-1,d)):m(this,"each",[],(n=function(a){var c=b.slice.call(arguments,0,arguments.length);c=h(R,"Opal").$destructure(c);if(z(c))b.ret(!1);else return g},n.$$s=this,n.$$arity=-1,n));return!0}catch(pa){if(pa===b.returner)return pa.$v;throw pa;}},da.$$arity=-1);b.def(q,"$one?",Da=function(a){try{var c=Da.$$p,e=c||g,f,d,n,p=g;c&&(Da.$$p=null);c&&(Da.$$p=null);p=0;z(void 0!==a)?m(this,"each",[],(f=function(c){var e=b.slice.call(arguments,0,arguments.length);e=y(e);if(z(m(a,
"public_send",["==="].concat(b.to_a(e)))))if(p=B(p,1),z(t(p,1)))b.ret(!1);else return g;else return g},f.$$s=this,f.$$arity=-1,f)):e!==g?m(this,"each",[],(d=function(a){var c=b.slice.call(arguments,0,arguments.length);if(!z(b.yieldX(e,b.to_a(c))))return g;p=B(p,1);if(z(t(p,1)))b.ret(!1);else return g},d.$$s=this,d.$$arity=-1,d)):m(this,"each",[],(n=function(a){var c=b.slice.call(arguments,0,arguments.length);if(!z(h(R,"Opal").$destructure(c)))return g;p=B(p,1);if(z(t(p,1)))b.ret(!1);else return g},
n.$$s=this,n.$$arity=-1,n));return p["$=="](1)}catch(wa){if(wa===b.returner)return wa.$v;throw wa;}},Da.$$arity=-1);b.def(q,"$partition",Ma=function(){var a=Ma.$$p,c=a||g,e;a&&(Ma.$$p=null);a&&(Ma.$$p=null);if(c===g)return m(this,"enum_for",["partition"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f=[],d=[];this.$each.$$p=function(){var a=h(R,"Opal").$destructure(arguments),e=b.yield1(c,a);z(e)?f.push(a):d.push(a)};this.$each();return[f,d]},Ma.$$arity=0);b.alias(q,
"reduce","inject");b.def(q,"$reject",Ia=function(){var a=Ia.$$p,c=a||g,e;a&&(Ia.$$p=null);a&&(Ia.$$p=null);if(c===g)return m(this,"enum_for",["reject"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f=[];this.$each.$$p=function(){var a=h(R,"Opal").$destructure(arguments),e=b.yield1(c,a);P(e)&&f.push(a)};this.$each();return f},Ia.$$arity=0);b.def(q,"$reverse_each",na=function(){var a=na.$$p,c=a||g,e;a&&(na.$$p=null);a&&(na.$$p=null);if(c===g)return m(this,"enum_for",
["reverse_each"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f=[];this.$each.$$p=function(){f.push(arguments)};this.$each();for(a=f.length-1;0<=a;a--)b.yieldX(c,f[a]);return f},na.$$arity=0);b.alias(q,"select","find_all");b.def(q,"$slice_before",fa=function(a){var c=fa.$$p,e=c||g,f;c&&(fa.$$p=null);c&&(fa.$$p=null);z(void 0===a&&e===g)&&this.$raise(h(R,"ArgumentError"),"both pattern and block are given");z(void 0!==a&&e!==g||1<arguments.length)&&this.$raise(h(R,
"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");return m(h(R,"Enumerator"),"new",[],(f=function(c){var d=f.$$s||this;null==c&&(c=g);var n=[];d.$each.$$p=e!==g?void 0===a?function(){var a=h(R,"Opal").$destructure(arguments),f=b.yield1(e,a);z(f)&&0<n.length&&(c["$<<"](n),n=[]);n.push(a)}:function(){var b=h(R,"Opal").$destructure(arguments),f=e(b,a.$dup());z(f)&&0<n.length&&(c["$<<"](n),n=[]);n.push(b)}:function(){var b=h(R,"Opal").$destructure(arguments),e=a["$==="](b);
z(e)&&0<n.length&&(c["$<<"](n),n=[]);n.push(b)};d.$each();if(0<n.length)c["$<<"](n)},f.$$s=this,f.$$arity=1,f))},fa.$$arity=-1);b.def(q,"$slice_after",qa=function(a){var c=qa.$$p,e=c||g,f,d;c&&(qa.$$p=null);c&&(qa.$$p=null);z(void 0===a&&e===g)&&this.$raise(h(R,"ArgumentError"),"both pattern and block are given");z(void 0!==a&&e!==g||1<arguments.length)&&this.$raise(h(R,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");z(void 0!==a)&&(e=m(this,"proc",[],(f=function(b){null==
b&&(b=g);return a["$==="](b)},f.$$s=this,f.$$arity=1,f)));return m(h(R,"Enumerator"),"new",[],(d=function(a){var c=d.$$s||this;null==a&&(a=g);var f;c.$each.$$p=function(){var c=h(R,"Opal").$destructure(arguments),d=b.yield1(e,c);null==f&&(f=[]);z(d)?(f.push(c),a.$yield(f),f=null):f.push(c)};c.$each();null!=f&&a.$yield(f)},d.$$s=this,d.$$arity=1,d))},qa.$$arity=-1);b.def(q,"$slice_when",ja=function(){var a=ja.$$p,c=a||g,e;a&&(ja.$$p=null);a&&(ja.$$p=null);c===g&&this.$raise(h(R,"ArgumentError"),"wrong number of arguments (0 for 1)");
return m(h(R,"Enumerator"),"new",[],(e=function(a){var f=e.$$s||this;null==a&&(a=g);var d=g,n=g;f.$each_cons.$$p=function(){var e=h(R,"Opal").$destructure(arguments),f=e[0];e=e[1];var p=b.yieldX(c,[f,e]);n=e;d===g&&(d=[]);z(p)?(d.push(f),a.$yield(d),d=[]):d.push(f)};f.$each_cons(2);d!==g&&(d.push(n),a.$yield(d))},e.$$s=this,e.$$arity=1,e))},ja.$$arity=0);b.def(q,"$sort",W=function(){var a=W.$$p,b=a||g,c,e=g;a&&(W.$$p=null);a&&(W.$$p=null);e=this.$to_a();b===g&&(b=N((c=function(a,b){null==a&&(a=g);
null==b&&(b=g);return a["$<=>"](b)},c.$$s=this,c.$$arity=2,c)));return m(e,"sort",[],b.$to_proc())},W.$$arity=0);b.def(q,"$sort_by",ea=function(){var a=ea.$$p,c=a||g,e,f,d,n,p=g;a&&(ea.$$p=null);a&&(ea.$$p=null);if(c===g)return m(this,"enum_for",["sort_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));p=m(this,"map",[],(f=function(){var a=h(R,"Opal").$destructure(arguments);return[b.yield1(c,a),a]},f.$$s=this,f.$$arity=0,f));m(p,"sort!",[],(d=function(a,b){null==
a&&(a=g);null==b&&(b=g);return a[0]["$<=>"](b[0])},d.$$s=this,d.$$arity=2,d));return m(p,"map!",[],(n=function(a){null==a&&(a=g);return a[1]},n.$$s=this,n.$$arity=1,n))},ea.$$arity=0);b.def(q,"$sum",Aa=function(a){var c,e=Aa.$$p,f=e||g,d=g;e&&(Aa.$$p=null);null==a&&(a=0);d=a;m(this,"each",[],(c=function(a){var c=b.slice.call(arguments,0,arguments.length);c=f!==g?b.yieldX(f,b.to_a(c)):h(R,"Opal").$destructure(c);return d=B(d,c)},c.$$s=this,c.$$arity=-1,c));return d},Aa.$$arity=-1);b.def(q,"$take",
xa=function(a){return this.$first(a)},xa.$$arity=1);b.def(q,"$take_while",Oa=function(){try{var a=Oa.$$p,c=a||g,e,f=g;a&&(Oa.$$p=null);a&&(Oa.$$p=null);if(!z(c))return this.$enum_for("take_while");f=[];return m(this,"each",[],(e=function(a){var e=b.slice.call(arguments,0,arguments.length);e=h(R,"Opal").$destructure(e);z(b.yield1(c,e))||b.ret(f);return f.push(e)},e.$$s=this,e.$$arity=-1,e))}catch(ia){if(ia===b.returner)return ia.$v;throw ia;}},Oa.$$arity=0);b.def(q,"$uniq",va=function(){var a=va.$$p,
c=a||g,e,f=g;a&&(va.$$p=null);a&&(va.$$p=null);f=O([],{});m(this,"each",[],(e=function(a){var e=b.slice.call(arguments,0,arguments.length);e=h(R,"Opal").$destructure(e);var d=c!==g?b.yield1(c,e):e;if(z(f["$key?"](d)))return g;e=[d,e];m(f,"[]=",b.to_a(e));return e[E(e.length,1)]},e.$$s=this,e.$$arity=-1,e));return f.$values()},va.$$arity=0);b.alias(q,"to_a","entries");b.def(q,"$zip",X=function(a){var c=X.$$p;c&&(X.$$p=null);c&&(X.$$p=null);c=b.slice.call(arguments,0,arguments.length);return m(this.$to_a(),
"zip",b.to_a(c))},X.$$arity=-1)}(q[0],q)};
Opal.modules["corelib/enumerator"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}function B(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}var E=b.top,v=[],q=b.nil,g=b.const_get_relative,G=b.breaker,h=b.slice,F=b.klass,z=b.truthy,m=b.send,P=b.falsy;b.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $any? $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));E.$require("corelib/enumerable");
return function(v,$super,E){v=F(v,$super,"Enumerator");var l=[v].concat(E),O,y,C,J,ca,aa;v.$$prototype.size=v.$$prototype.args=v.$$prototype.object=v.$$prototype.method=q;v.$include(g(l,"Enumerable"));v.$$prototype.$$is_enumerator=!0;b.defs(v,"$for",O=function(a,d,g){var u=O.$$p,l=u||q;u&&(O.$$p=null);u&&(O.$$p=null);u=b.slice.call(arguments,1,arguments.length);if(0<u.length){var r=u[0];u.splice(0,1)}null==r&&(r="each");var k=this.$allocate();k.object=a;k.size=l;k.method=r;k.args=u;return k},O.$$arity=
-2);b.def(v,"$initialize",y=function(a){var d=y.$$p,u=d||q;d&&(y.$$p=null);d&&(y.$$p=null);b.slice.call(arguments,0,arguments.length);if(z(u))return this.object=m(g(l,"Generator"),"new",[],u.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||q,z(this.size)?this.size=g(l,"Opal").$coerce_to(this.size,g(l,"Integer"),"to_int"):q;this.object=arguments[0];this.method=arguments[1]||"each";this.args=h.call(arguments,2);return this.size=q},y.$$arity=-1);b.def(v,"$each",C=function(a){var d=
C.$$p,g=d||q,l;d&&(C.$$p=null);d&&(C.$$p=null);d=b.slice.call(arguments,0,arguments.length);if(z(z(l=g["$nil?"]())?d["$empty?"]():l))return this;d=t(this.args,d);return z(g["$nil?"]())?m(this.$class(),"new",[this.object,this.method].concat(b.to_a(d))):m(this.object,"__send__",[this.method].concat(b.to_a(d)),g.$to_proc())},C.$$arity=-1);b.def(v,"$size",J=function(){return z(g(l,"Proc")["$==="](this.size))?m(this.size,"call",b.to_a(this.args)):this.size},J.$$arity=0);b.def(v,"$with_index",ca=function(a){var b=
ca.$$p,u=b||q,h;b&&(ca.$$p=null);b&&(ca.$$p=null);null==a&&(a=0);a=z(a)?g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int"):0;if(!z(u))return m(this,"enum_for",["with_index",a],(h=function(){return(h.$$s||this).$size()},h.$$s=this,h.$$arity=0,h));var K=a;this.$each.$$p=function(){var a=g(l,"Opal").$destructure(arguments);a=u(a,K);K++;return a};return this.$each()},ca.$$arity=-1);b.alias(v,"with_object","each_with_object");b.def(v,"$inspect",aa=function(){var a="#<"+this.$class()+": "+this.object.$inspect()+
":"+this.method;z(this.args["$any?"]())&&(a=t(a,"("+this.args.$inspect()["$[]"](g(l,"Range").$new(1,-2))+")"));return t(a,">")},aa.$$arity=0);(function(a,$super,u){a=F(a,$super,"Generator");var l=[a].concat(u),h,r;a.$$prototype.block=q;a.$include(g(l,"Enumerable"));b.def(a,"$initialize",h=function(){var a=h.$$p,b=a||q;a&&(h.$$p=null);a&&(h.$$p=null);z(b)||this.$raise(g(l,"LocalJumpError"),"no block given");return this.block=b},h.$$arity=0);return(b.def(a,"$each",r=function(a){var c=r.$$p,k=c||q;c&&
(r.$$p=null);c&&(r.$$p=null);c=b.slice.call(arguments,0,arguments.length);k=m(g(l,"Yielder"),"new",[],k.$to_proc());try{c.unshift(k),b.yieldX(this.block,c)}catch(p){if(p===G)return G.$v;throw p;}return this},r.$$arity=-1),q)&&"each"})(l[0],null,l);(function(a,$super,g){a=F(a,$super,"Yielder");[a].concat(g);var u,l,r;a.$$prototype.block=q;b.def(a,"$initialize",u=function(){var a=u.$$p,b=a||q;a&&(u.$$p=null);a&&(u.$$p=null);return this.block=b},u.$$arity=0);b.def(a,"$yield",l=function(a){var c=b.slice.call(arguments,
0,arguments.length);c=b.yieldX(this.block,c);if(c===G)throw G;return c},l.$$arity=-1);return(b.def(a,"$<<",r=function(a){var c=b.slice.call(arguments,0,arguments.length);m(this,"yield",b.to_a(c));return this},r.$$arity=-1),q)&&"<<"})(l[0],null,l);return function(a,$super,u){a=F(a,$super,"Lazy");var l=[a].concat(u),h,r,k,c,A,p,Q,I,n,e,f,V,ha;a.$$prototype.enumerator=q;(function(a,$super,b){[F(a,$super,"StopLazyError")].concat(b);return q})(l[0],g(l,"Exception"),l);b.def(a,"$initialize",h=function(a,
c){var e=h.$$p,f=e||q,n;e&&(h.$$p=null);e&&(h.$$p=null);null==c&&(c=q);f===q&&this.$raise(g(l,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=a;return m(this,b.find_super_dispatcher(this,"initialize",h,!1),[c],(n=function(c,e){var p=n.$$s||this,k;null==c&&(c=q);var r=b.slice.call(arguments,1,arguments.length);try{return m(a,"each",b.to_a(r),(k=function(a){var e=b.slice.call(arguments,0,arguments.length);e.unshift(c);b.yieldX(f,e)},k.$$s=p,k.$$arity=-1,k))}catch(sa){if(b.rescue(sa,
[g(l,"Exception")]))try{return q}finally{b.pop_exception()}else throw sa;}},n.$$s=this,n.$$arity=-2,n))},h.$$arity=-2);b.alias(a,"force","to_a");b.def(a,"$lazy",r=function(){return this},r.$$arity=0);b.def(a,"$collect",k=function(){var a=k.$$p,c=a||q,e;a&&(k.$$p=null);a&&(k.$$p=null);z(c)||this.$raise(g(l,"ArgumentError"),"tried to call lazy map without a block");return m(g(l,"Lazy"),"new",[this,this.$enumerator_size()],(e=function(a,e){null==a&&(a=q);var f=b.slice.call(arguments,1,arguments.length);
f=b.yieldX(c,f);a.$yield(f)},e.$$s=this,e.$$arity=-2,e))},k.$$arity=0);b.def(a,"$collect_concat",c=function(){var a=c.$$p,e=a||q,f;a&&(c.$$p=null);a&&(c.$$p=null);z(e)||this.$raise(g(l,"ArgumentError"),"tried to call lazy map without a block");return m(g(l,"Lazy"),"new",[this,q],(f=function(a,c){var n=f.$$s||this,p,k;null==a&&(a=q);var r=b.slice.call(arguments,1,arguments.length);r=b.yieldX(e,r);r["$respond_to?"]("force")&&r["$respond_to?"]("each")?m(r,"each",[],(p=function(b){null==b&&(b=q);return a.$yield(b)},
p.$$s=n,p.$$arity=1,p)):g(l,"Opal").$try_convert(r,g(l,"Array"),"to_ary")===q?a.$yield(r):m(r,"each",[],(k=function(b){null==b&&(b=q);return a.$yield(b)},k.$$s=n,k.$$arity=1,k))},f.$$s=this,f.$$arity=-2,f))},c.$$arity=0);b.def(a,"$drop",A=function(a){var c,e=q,f=e=q;a=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");z(B(a,0))&&this.$raise(g(l,"ArgumentError"),"attempt to drop negative size");e=this.$enumerator_size();e=z(g(l,"Integer")["$==="](e))?z(B(a,e))?a:e:e;f=0;return m(g(l,"Lazy"),"new",[this,
e],(c=function(c,e){null==c&&(c=q);var n=b.slice.call(arguments,1,arguments.length);return z(B(f,a))?f=t(f,1):m(c,"yield",b.to_a(n))},c.$$s=this,c.$$arity=-2,c))},A.$$arity=1);b.def(a,"$drop_while",p=function(){var a=p.$$p,c=a||q,e,f=q;a&&(p.$$p=null);a&&(p.$$p=null);z(c)||this.$raise(g(l,"ArgumentError"),"tried to call lazy drop_while without a block");f=!0;return m(g(l,"Lazy"),"new",[this,q],(e=function(a,e){null==a&&(a=q);var n=b.slice.call(arguments,1,arguments.length);if(z(f)){var p=b.yieldX(c,
n);P(p)&&(f=!1,m(a,"yield",b.to_a(n)))}else return m(a,"yield",b.to_a(n))},e.$$s=this,e.$$arity=-2,e))},p.$$arity=0);b.def(a,"$enum_for",Q=function(a,c){var e=Q.$$p,f=e||q;e&&(Q.$$p=null);e&&(Q.$$p=null);e=b.slice.call(arguments,0,arguments.length);if(0<e.length){var n=e[0];e.splice(0,1)}null==n&&(n="each");return m(this.$class(),"for",[this,n].concat(b.to_a(e)),f.$to_proc())},Q.$$arity=-1);b.def(a,"$find_all",I=function(){var a=I.$$p,c=a||q,e;a&&(I.$$p=null);a&&(I.$$p=null);z(c)||this.$raise(g(l,
"ArgumentError"),"tried to call lazy select without a block");return m(g(l,"Lazy"),"new",[this,q],(e=function(a,e){null==a&&(a=q);var f=b.slice.call(arguments,1,arguments.length);var n=b.yieldX(c,f);z(n)&&m(a,"yield",b.to_a(f))},e.$$s=this,e.$$arity=-2,e))},I.$$arity=0);b.alias(a,"flat_map","collect_concat");b.def(a,"$grep",n=function(a){var c=n.$$p,e=c||q,f,p;c&&(n.$$p=null);c&&(n.$$p=null);return z(e)?m(g(l,"Lazy"),"new",[this,q],(f=function(c,f){null==c&&(c=q);var n=b.slice.call(arguments,1,arguments.length);
n=g(l,"Opal").$destructure(n);var p=a["$==="](n);z(p)&&(b.yield1(e,n),c.$yield(b.yield1(e,n)))},f.$$s=this,f.$$arity=-2,f)):m(g(l,"Lazy"),"new",[this,q],(p=function(c,e){null==c&&(c=q);var f=b.slice.call(arguments,1,arguments.length);f=g(l,"Opal").$destructure(f);var n=a["$==="](f);z(n)&&c.$yield(f)},p.$$s=this,p.$$arity=-2,p))},n.$$arity=1);b.alias(a,"map","collect");b.alias(a,"select","find_all");b.def(a,"$reject",e=function(){var a=e.$$p,c=a||q,f;a&&(e.$$p=null);a&&(e.$$p=null);z(c)||this.$raise(g(l,
"ArgumentError"),"tried to call lazy reject without a block");return m(g(l,"Lazy"),"new",[this,q],(f=function(a,e){null==a&&(a=q);var f=b.slice.call(arguments,1,arguments.length);var n=b.yieldX(c,f);P(n)&&m(a,"yield",b.to_a(f))},f.$$s=this,f.$$arity=-2,f))},e.$$arity=0);b.def(a,"$take",f=function(a){var c,e=q,f=e=q;a=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");z(B(a,0))&&this.$raise(g(l,"ArgumentError"),"attempt to take negative size");e=this.$enumerator_size();e=z(g(l,"Integer")["$==="](e))?
z(B(a,e))?a:e:e;f=0;return m(g(l,"Lazy"),"new",[this,e],(c=function(e,n){var p=c.$$s||this;null==e&&(e=q);var k=b.slice.call(arguments,1,arguments.length);return z(B(f,a))?(m(e,"yield",b.to_a(k)),f=t(f,1)):p.$raise(g(l,"StopLazyError"))},c.$$s=this,c.$$arity=-2,c))},f.$$arity=1);b.def(a,"$take_while",V=function(){var a=V.$$p,c=a||q,e;a&&(V.$$p=null);a&&(V.$$p=null);z(c)||this.$raise(g(l,"ArgumentError"),"tried to call lazy take_while without a block");return m(g(l,"Lazy"),"new",[this,q],(e=function(a,
f){var n=e.$$s||this;null==a&&(a=q);var p=b.slice.call(arguments,1,arguments.length);var k=b.yieldX(c,p);z(k)?m(a,"yield",b.to_a(p)):n.$raise(g(l,"StopLazyError"))},e.$$s=this,e.$$arity=-2,e))},V.$$arity=0);b.alias(a,"to_enum","enum_for");return(b.def(a,"$inspect",ha=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},ha.$$arity=0),q)&&"inspect"}(l[0],v,l)}(v[0],null,v)};
Opal.modules["corelib/numeric"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}function B(b,g){return"number"===typeof b&&"number"===typeof g?b*g:b["$*"](g)}function E(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}function v(b,g){return"number"===typeof b&&"number"===typeof g?b/g:b["$/"](g)}var q=b.top,g=[],G=b.nil,h=b.const_get_qualified,F=b.const_get_relative,z=b.klass,m=b.truthy,P=b.hash2;b.add_stubs("$require $include $instance_of? $class $Float $respond_to? $coerce $__send__ $=== $raise $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));
q.$require("corelib/comparable");return function(g,$super,q){g=z(g,$super,"Numeric");var l=[g].concat(q),y,O,C,J,ca,aa,a,d,u,D,K,r,k,c,A,p,Q,I,n,e,f,V,ha,la,T,M,Y,x,ua,ma,za,ta,ka,sa,S,da,Da;g.$include(F(l,"Comparable"));b.def(g,"$coerce",y=function(a){return m(a["$instance_of?"](this.$class()))?[a,this]:[this.$Float(a),this.$Float(this)]},y.$$arity=1);b.def(g,"$__coerced__",O=function(a,c){if(m(c["$respond_to?"]("coerce"))){c=c.$coerce(this);var e=b.to_ary(c);var f=null==e[0]?G:e[0];e=null==e[1]?
G:e[1];c;return f.$__send__(a,e)}return"+"["$==="](a)||"-"["$==="](a)||"*"["$==="](a)||"/"["$==="](a)||"%"["$==="](a)||"&"["$==="](a)||"|"["$==="](a)||"^"["$==="](a)||"**"["$==="](a)?this.$raise(F(l,"TypeError"),""+c.$class()+" can't be coerced into Numeric"):">"["$==="](a)||">="["$==="](a)||"<"["$==="](a)||"<="["$==="](a)||"<=>"["$==="](a)?this.$raise(F(l,"ArgumentError"),"comparison of "+this.$class()+" with "+c.$class()+" failed"):G},O.$$arity=2);b.def(g,"$<=>",C=function(a){return m(this["$equal?"](a))?
0:G},C.$$arity=1);b.def(g,"$+@",J=function(){return this},J.$$arity=0);b.def(g,"$-@",ca=function(){return t(0,this)},ca.$$arity=0);b.def(g,"$%",aa=function(a){return t(this,B(a,this.$div(a)))},aa.$$arity=1);b.def(g,"$abs",a=function(){return E(this,0)?this["$-@"]():this},a.$$arity=0);b.def(g,"$abs2",d=function(){return B(this,this)},d.$$arity=0);b.def(g,"$angle",u=function(){return E(this,0)?h(F(l,"Math"),"PI"):0},u.$$arity=0);b.alias(g,"arg","angle");b.def(g,"$ceil",D=function(a){null==a&&(a=0);
return this.$to_f().$ceil(a)},D.$$arity=-1);b.def(g,"$conj",K=function(){return this},K.$$arity=0);b.alias(g,"conjugate","conj");b.def(g,"$denominator",r=function(){return this.$to_r().$denominator()},r.$$arity=0);b.def(g,"$div",k=function(a){a["$=="](0)&&this.$raise(F(l,"ZeroDivisionError"),"divided by o");return v(this,a).$floor()},k.$$arity=1);b.def(g,"$divmod",c=function(a){return[this.$div(a),this["$%"](a)]},c.$$arity=1);b.def(g,"$fdiv",A=function(a){return v(this.$to_f(),a)},A.$$arity=1);b.def(g,
"$floor",p=function(a){null==a&&(a=0);return this.$to_f().$floor(a)},p.$$arity=-1);b.def(g,"$i",Q=function(){return this.$Complex(0,this)},Q.$$arity=0);b.def(g,"$imag",I=function(){return 0},I.$$arity=0);b.alias(g,"imaginary","imag");b.def(g,"$integer?",n=function(){return!1},n.$$arity=0);b.alias(g,"magnitude","abs");b.alias(g,"modulo","%");b.def(g,"$nonzero?",e=function(){return m(this["$zero?"]())?G:this},e.$$arity=0);b.def(g,"$numerator",f=function(){return this.$to_r().$numerator()},f.$$arity=
0);b.alias(g,"phase","arg");b.def(g,"$polar",V=function(){return[this.$abs(),this.$arg()]},V.$$arity=0);b.def(g,"$quo",ha=function(a){return v(F(l,"Opal")["$coerce_to!"](this,F(l,"Rational"),"to_r"),a)},ha.$$arity=1);b.def(g,"$real",la=function(){return this},la.$$arity=0);b.def(g,"$real?",T=function(){return!0},T.$$arity=0);b.def(g,"$rect",M=function(){return[this,0]},M.$$arity=0);b.alias(g,"rectangular","rect");b.def(g,"$round",Y=function(a){return this.$to_f().$round(a)},Y.$$arity=-1);b.def(g,
"$to_c",x=function(){return this.$Complex(this,0)},x.$$arity=0);b.def(g,"$to_int",ua=function(){return this.$to_i()},ua.$$arity=0);b.def(g,"$truncate",ma=function(a){null==a&&(a=0);return this.$to_f().$truncate(a)},ma.$$arity=-1);b.def(g,"$zero?",za=function(){return this["$=="](0)},za.$$arity=0);b.def(g,"$positive?",ta=function(){return"number"===typeof this?0<this:this["$>"](0)},ta.$$arity=0);b.def(g,"$negative?",ka=function(){return E(this,0)},ka.$$arity=0);b.def(g,"$dup",sa=function(){return this},
sa.$$arity=0);b.def(g,"$clone",S=function(a){if(null==a)P([],{});else if(!a.$$is_hash)throw b.ArgumentError.$new("expected kwargs");return this},S.$$arity=-1);b.def(g,"$finite?",da=function(){return!0},da.$$arity=0);return(b.def(g,"$infinite?",Da=function(){return G},Da.$$arity=0),G)&&"infinite?"}(g[0],null,g)};
Opal.modules["corelib/array"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}var B=b.top,E=[],v=b.nil,q=b.const_get_qualified,g=b.const_get_relative,G=b.klass,h=b.truthy,F=b.hash2,z=b.send,m=b.gvars;b.add_stubs("$require $include $to_a $warn $raise $replace $respond_to? $to_ary $coerce_to $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $nil? $coerce_to! $> $* $enumerator_size $empty? $size $map $equal? $dup $each $[] $dig $eql? $length $begin $end $exclude_end? $flatten $__id__ $to_s $new $max $min $! $>= $** $delete_if $reverse $rotate $rand $at $keep_if $shuffle! $< $sort $sort_by $!= $times $[]= $- $<< $values $is_a? $last $first $upto $reject $pristine $singleton_class".split(" "));
B.$require("corelib/enumerable");B.$require("corelib/numeric");return function(E,$super,B){function y(a,c){return c.$$name===b.Array?a:c.$allocate().$replace(a.$to_a())}function l(a,c){var e=a.length;var f=c.excl;var d=b.Opal.$coerce_to(c.begin,b.Integer,"to_int");c=b.Opal.$coerce_to(c.end,b.Integer,"to_int");if(0>d&&(d+=e,0>d)||d>e)return v;if(0>c&&(c+=e,0>c))return[];f||(c+=1);e=a.slice(d,c);return y(e,a.$class())}function N(a,c,e){var f=a.length;c=b.Opal.$coerce_to(c,b.Integer,"to_int");if(0>c&&
(c+=f,0>c))return v;if(void 0===e)return c>=f||0>c?v:a[c];e=b.Opal.$coerce_to(e,b.Integer,"to_int");if(0>e||c>f||0>c)return v;c=a.slice(c,c+e);return y(c,a.$class())}function R(a,b){return a===b||0===b?1:0<b&&a>b?R(a-1,b-1)+R(a-1,b):0}var C=G(E,$super,"Array"),J=[C].concat(B),P,aa,a,d,u,D,K,r,k,c,A,p,Q,I,n,e,f,V,ha,la,T,M,Y,x,ua,ma,za,ta,ka,sa,S,da,Da,Ma,Ia,na,fa,qa,ja,W,ea,Aa,xa,Oa,va,X,Ja,Va,ya,Za,ia,Ba,pa,wa,Ea,ra,Ta,Qa,Fa,Ra,Na,Sa,Ga,Ka,$a,Pa,Wa,Xa,ab,Ya,Z,w,H,ba,L,U,Ha,db,Ca,Ua,mb,eb,jb,kb,lb,
La,bb,nb,ob,gb,pb,cb,qb;C.$include(g(J,"Enumerable"));b.defineProperty(C.$$prototype,"$$is_array",!0);b.defs(C,"$[]",P=function(a){var c=b.slice.call(arguments,0,arguments.length);return y(c,this)},P.$$arity=-1);b.def(C,"$initialize",aa=function(a,b){var c=aa.$$p,e=c||v;c&&(aa.$$p=null);c&&(aa.$$p=null);null==a&&(a=v);null==b&&(b=v);b!==v&&e!==v&&this.$warn("warning: block supersedes default value argument");a>q(g(J,"Integer"),"MAX")&&this.$raise(g(J,"ArgumentError"),"array size too big");2<arguments.length&&
this.$raise(g(J,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(a.$$is_array)return this.$replace(a.$to_a()),this;if(a["$respond_to?"]("to_ary"))return this.$replace(a.$to_ary()),this}a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");0>a&&this.$raise(g(J,"ArgumentError"),"negative array size");this.splice(0,this.length);if(e===v)for(c=0;c<a;c++)this.push(b);else for(c=0,f;c<a;c++){var f=
e(c);this[c]=f}return this},aa.$$arity=-1);b.defs(C,"$try_convert",a=function(a){return g(J,"Opal")["$coerce_to?"](a,g(J,"Array"),"to_ary")},a.$$arity=1);b.def(C,"$&",d=function(a){a=h(g(J,"Array")["$==="](a))?a.$to_a():g(J,"Opal").$coerce_to(a,g(J,"Array"),"to_ary").$to_a();var c=[],e=F([],{}),f;var d=0;for(f=a.length;d<f;d++)b.hash_put(e,a[d],!0);d=0;for(f=this.length;d<f;d++)a=this[d],void 0!==b.hash_delete(e,a)&&c.push(a);return c},d.$$arity=1);b.def(C,"$|",u=function(a){a=h(g(J,"Array")["$==="](a))?
a.$to_a():g(J,"Opal").$coerce_to(a,g(J,"Array"),"to_ary").$to_a();var c=F([],{}),e;var f=0;for(e=this.length;f<e;f++)b.hash_put(c,this[f],!0);f=0;for(e=a.length;f<e;f++)b.hash_put(c,a[f],!0);return c.$keys()},u.$$arity=1);b.def(C,"$*",D=function(a){if(h(a["$respond_to?"]("to_str")))return this.$join(a.$to_str());a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");h(0>a)&&this.$raise(g(J,"ArgumentError"),"negative argument");for(var b=[],c=this.$to_a(),e=0;e<a;e++)b=b.concat(c);return y(b,this.$class())},
D.$$arity=1);b.def(C,"$+",K=function(a){a=h(g(J,"Array")["$==="](a))?a.$to_a():g(J,"Opal").$coerce_to(a,g(J,"Array"),"to_ary").$to_a();return this.concat(a)},K.$$arity=1);b.def(C,"$-",r=function(a){a=h(g(J,"Array")["$==="](a))?a.$to_a():g(J,"Opal").$coerce_to(a,g(J,"Array"),"to_ary").$to_a();if(h(0===this.length))return[];if(h(0===a.length))return this.slice();var c=[],e=F([],{}),f;var d=0;for(f=a.length;d<f;d++)b.hash_put(e,a[d],!0);d=0;for(f=this.length;d<f;d++)a=this[d],void 0===b.hash_get(e,a)&&
c.push(a);return c},r.$$arity=1);b.def(C,"$<<",k=function(a){this.push(a);return this},k.$$arity=1);b.def(C,"$<=>",c=function(a){if(h(g(J,"Array")["$==="](a)))a=a.$to_a();else if(h(a["$respond_to?"]("to_ary")))a=a.$to_ary().$to_a();else return v;if(this.$hash()===a.$hash())return 0;for(var b=Math.min(this.length,a.length),c=0;c<b;c++){var e=this[c]["$<=>"](a[c]);if(0!==e)return e}return this.length["$<=>"](a.length)},c.$$arity=1);b.def(C,"$==",A=function(a){function b(a,e){var f;if(a===e)return!0;
if(!e.$$is_array)return g(J,"Opal")["$respond_to?"](e,"to_ary")?e["$=="](a):!1;a.$$constructor!==Array&&(a=a.$to_a());e.$$constructor!==Array&&(e=e.$to_a());if(a.length!==e.length)return!1;c[a.$object_id()]=!0;var d=0;for(f=a.length;d<f;d++){var w=a[d];var n=e[d];if(w.$$is_array){if(n.$$is_array&&n.length!==w.length||!c.hasOwnProperty(w.$object_id())&&!b(w,n))return!1}else if(!w["$=="](n))return!1}return!0}var c={};return b(this,a)},A.$$arity=1);b.def(C,"$[]",p=function(a,b){return a.$$is_range?l(this,
a):N(this,a,b)},p.$$arity=-2);b.def(C,"$[]=",Q=function(a,b,c){var e=v;var f=this.length;if(h(g(J,"Range")["$==="](a))){e=h(g(J,"Array")["$==="](b))?b.$to_a():h(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b];var d=a.excl;c=g(J,"Opal").$coerce_to(a.begin,g(J,"Integer"),"to_int");var w=g(J,"Opal").$coerce_to(a.end,g(J,"Integer"),"to_int");0>c&&(c+=f,0>c&&this.$raise(g(J,"RangeError"),""+a.$inspect()+" out of range"));0>w&&(w+=f);d||(w+=1);if(c>f)for(;f<c;f++)this[f]=v;0>w?this.splice.apply(this,
[c,0].concat(e)):this.splice.apply(this,[c,w-c].concat(e))}else{h(void 0===c)?w=1:(w=b,b=c,e=h(g(J,"Array")["$==="](b))?b.$to_a():h(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b]);a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");w=g(J,"Opal").$coerce_to(w,g(J,"Integer"),"to_int");0>a&&(d=a,a+=f,0>a&&this.$raise(g(J,"IndexError"),"index "+d+" too small for array; minimum "+-this.length));0>w&&this.$raise(g(J,"IndexError"),"negative length ("+w+")");if(a>f)for(;f<a;f++)this[f]=v;void 0===c?
this[a]=b:this.splice.apply(this,[a,w].concat(e))}return b},Q.$$arity=-3);b.def(C,"$any?",I=function(a){var c=I.$$p,e;c&&(I.$$p=null);var f=0;var d=arguments.length;for(e=Array(d);f<d;f++)e[f]=arguments[f];c&&(I.$$p=null);return 0===this.length?!1:z(this,b.find_super_dispatcher(this,"any?",I,!1),e,c)},I.$$arity=-1);b.def(C,"$assoc",n=function(a){for(var b=0,c=this.length,e;b<c;b++)if(e=this[b],e.length&&e[0]["$=="](a))return e;return v},n.$$arity=1);b.def(C,"$at",e=function(a){a=g(J,"Opal").$coerce_to(a,
g(J,"Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?v:this[a]},e.$$arity=1);b.def(C,"$bsearch_index",f=function(){var a=f.$$p,c=a||v;a&&(f.$$p=null);a&&(f.$$p=null);if(c===v)return this.$enum_for("bsearch_index");a=0;for(var e=this.length,d,w,n=!1,p=v;a<e;){d=a+Math.floor((e-a)/2);w=this[d];w=b.yield1(c,w);if(!0===w)p=d,n=!0;else if(!1===w||w===v)n=!1;else if(w.$$is_number){if(0===w)return d;n=0>w}else this.$raise(g(J,"TypeError"),"wrong argument type "+w.$class()+" (must be numeric, true, false or nil)");
n?e=d:a=d+1}return p},f.$$arity=0);b.def(C,"$bsearch",V=function(){var a=V.$$p,b=a||v;a&&(V.$$p=null);a&&(V.$$p=null);if(b===v)return this.$enum_for("bsearch");a=z(this,"bsearch_index",[],b.$to_proc());return null!=a&&a.$$is_number?this[a]:a},V.$$arity=0);b.def(C,"$cycle",ha=function(a){var c=ha.$$p,e=c||v,f,d;c&&(ha.$$p=null);c&&(ha.$$p=null);null==a&&(a=v);if(e===v)return z(this,"enum_for",["cycle",a],(f=function(){var b=f.$$s||this;if(h(a["$nil?"]()))return q(g(J,"Float"),"INFINITY");a=g(J,"Opal")["$coerce_to!"](a,
g(J,"Integer"),"to_int");return h(t(a,0))?(b=b.$enumerator_size(),"number"===typeof b&&"number"===typeof a?b*a:b["$*"](a)):0},f.$$s=this,f.$$arity=0,f));if(h(h(d=this["$empty?"]())?d:a["$=="](0)))return v;if(a===v)for(;;)for(c=0,d=this.length;c<d;c++)b.yield1(e,this[c]);else{a=g(J,"Opal")["$coerce_to!"](a,g(J,"Integer"),"to_int");if(0>=a)return this;for(;0<a;){c=0;for(d=this.length;c<d;c++)b.yield1(e,this[c]);a--}}return this},ha.$$arity=-1);b.def(C,"$clear",la=function(){this.splice(0,this.length);
return this},la.$$arity=0);b.def(C,"$count",T=function(a){var c=T.$$p,e=c||v,f,d;c&&(T.$$p=null);var w=0;var n=arguments.length;for(d=Array(n);w<n;w++)d[w]=arguments[w];c&&(T.$$p=null);null==a&&(a=v);return h(h(f=a)?f:e)?z(this,b.find_super_dispatcher(this,"count",T,!1),d,c):this.$size()},T.$$arity=-1);b.def(C,"$initialize_copy",M=function(a){return this.$replace(a)},M.$$arity=1);b.def(C,"$collect",Y=function(){var a=Y.$$p,c=a||v,e;a&&(Y.$$p=null);a&&(Y.$$p=null);if(c===v)return z(this,"enum_for",
["collect"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=[];for(var f=0,d=this.length;f<d;f++){var w=b.yield1(c,this[f]);a.push(w)}return a},Y.$$arity=0);b.def(C,"$collect!",x=function(){var a=x.$$p,c=a||v,e;a&&(x.$$p=null);a&&(x.$$p=null);if(c===v)return z(this,"enum_for",["collect!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.length;a<f;a++){var d=b.yield1(c,this[a]);this[a]=d}return this},x.$$arity=0);b.def(C,"$combination",
ua=function(a){var c,e=ua.$$p,f=e||v,d=v;e&&(ua.$$p=null);d=g(J,"Opal")["$coerce_to!"](a,g(J,"Integer"),"to_int");if(f===v)return z(this,"enum_for",["combination",d],(c=function(){return R((c.$$s||this).length,d)},c.$$s=this,c.$$arity=0,c));if(0===d)b.yield1(f,[]);else if(1===d)for(e=0,a=this.length;e<a;e++)b.yield1(f,[this[e]]);else if(d===this.length)b.yield1(f,this.slice());else if(0<=d&&d<this.length){a=[];for(e=0;e<=d+1;e++)a.push(0);e=[];var w=0;var n=!1;for(a[0]=-1;!n;){for(e[w]=this[a[w+1]];w<
d-1;)w++,n=a[w+1]=a[w]+1,e[w]=this[n];b.yield1(f,e.slice());w++;do n=0===w,a[w]++,w--;while(a[w+1]+d===this.length+w+1)}}return this},ua.$$arity=1);b.def(C,"$repeated_combination",ma=function(a){function c(a,e,f,w){if(f.length==a)a=f.slice(),b.yield1(d,a);else for(;e<w.length;e++)f.push(w[e]),c(a,e,f,w),f.pop()}var e,f=ma.$$p,d=f||v,w=v;f&&(ma.$$p=null);w=g(J,"Opal")["$coerce_to!"](a,g(J,"Integer"),"to_int");if(d===v)return z(this,"enum_for",["repeated_combination",w],(e=function(){return R((e.$$s||
this).length+w-1,w)},e.$$s=this,e.$$arity=0,e));0<=w&&c(w,0,[],this);return this},ma.$$arity=1);b.def(C,"$compact",za=function(){for(var a=[],b=0,c=this.length,e;b<c;b++)(e=this[b])!==v&&a.push(e);return a},za.$$arity=0);b.def(C,"$compact!",ta=function(){for(var a=this.length,b=0,c=this.length;b<c;b++)this[b]===v&&(this.splice(b,1),c--,b--);return this.length===a?v:this},ta.$$arity=0);b.def(C,"$concat",ka=function(a){var c,e;var f=b.slice.call(arguments,0,arguments.length);f=z(f,"map",[],(c=function(a){var b=
c.$$s||this;null==a&&(a=v);a=h(g(J,"Array")["$==="](a))?a.$to_a():g(J,"Opal").$coerce_to(a,g(J,"Array"),"to_ary").$to_a();h(a["$equal?"](b))&&(a=a.$dup());return a},c.$$s=this,c.$$arity=1,c));z(f,"each",[],(e=function(a){var b=e.$$s||this;null==a&&(a=v);for(var c=0,f=a.length;c<f;c++)b.push(a[c])},e.$$s=this,e.$$arity=1,e));return this},ka.$$arity=-1);b.def(C,"$delete",sa=function(a){var c=sa.$$p,e=c||v;c&&(sa.$$p=null);c=this.length;for(var f=0,d=c;f<d;f++)this[f]["$=="](a)&&(this.splice(f,1),d--,
f--);return this.length===c?e!==v?b.yieldX(e,[]):v:a},sa.$$arity=1);b.def(C,"$delete_at",S=function(a){a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return v;var b=this[a];this.splice(a,1);return b},S.$$arity=1);b.def(C,"$delete_if",da=function(){var a=da.$$p,b=a||v,c;a&&(da.$$p=null);a&&(da.$$p=null);if(b===v)return z(this,"enum_for",["delete_if"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=0;for(var e=this.length,f;a<
e;a++)f=b(this[a]),!1!==f&&f!==v&&(this.splice(a,1),e--,a--);return this},da.$$arity=0);b.def(C,"$dig",Da=function(a,c){var e=b.slice.call(arguments,1,arguments.length);var f=this["$[]"](a);if(f===v||0===e.length)return f;h(f["$respond_to?"]("dig"))||this.$raise(g(J,"TypeError"),""+f.$class()+" does not have #dig method");return z(f,"dig",b.to_a(e))},Da.$$arity=-2);b.def(C,"$drop",Ma=function(a){0>a&&this.$raise(g(J,"ArgumentError"));return this.slice(a)},Ma.$$arity=1);b.def(C,"$dup",Ia=function(){var a=
Ia.$$p,c;a&&(Ia.$$p=null);var e=0;var f=arguments.length;for(c=Array(f);e<f;e++)c[e]=arguments[e];return this.$$class===b.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):z(this,b.find_super_dispatcher(this,"dup",Ia,!1),c,a)},Ia.$$arity=0);b.def(C,"$each",na=function(){var a=na.$$p,c=a||v,e;a&&(na.$$p=null);a&&(na.$$p=null);if(c===v)return z(this,"enum_for",["each"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,
e.$$arity=0,e));a=0;for(var f=this.length;a<f;a++)b.yield1(c,this[a]);return this},na.$$arity=0);b.def(C,"$each_index",fa=function(){var a=fa.$$p,c=a||v,e;a&&(fa.$$p=null);a&&(fa.$$p=null);if(c===v)return z(this,"enum_for",["each_index"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.length;a<f;a++)b.yield1(c,a);return this},fa.$$arity=0);b.def(C,"$empty?",qa=function(){return 0===this.length},qa.$$arity=0);b.def(C,"$eql?",ja=function(a){function b(a,e){var f;
if(!e.$$is_array)return!1;e=e.$to_a();if(a.length!==e.length)return!1;c[a.$object_id()]=!0;var d=0;for(f=a.length;d<f;d++){var w=a[d];var n=e[d];if(w.$$is_array){if(n.$$is_array&&n.length!==w.length||!c.hasOwnProperty(w.$object_id())&&!b(w,n))return!1}else if(!w["$eql?"](n))return!1}return!0}var c={};return b(this,a)},ja.$$arity=1);b.def(C,"$fetch",W=function(a,b){var c=W.$$p,e=c||v;c&&(W.$$p=null);c&&(W.$$p=null);c=a;a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");0>a&&(a+=this.length);if(0<=
a&&a<this.length)return this[a];e!==v&&null!=b&&this.$warn("warning: block supersedes default value argument");if(e!==v)return e(c);if(null!=b)return b;0===this.length?this.$raise(g(J,"IndexError"),"index "+c+" outside of array bounds: 0...0"):this.$raise(g(J,"IndexError"),"index "+c+" outside of array bounds: -"+this.length+"..."+this.length)},W.$$arity=-2);b.def(C,"$fill",ea=function(a){var c=ea.$$p,e=c||v,f=v;c&&(ea.$$p=null);c&&(ea.$$p=null);c=b.slice.call(arguments,0,arguments.length);if(h(e)){h(2<
c.length)&&this.$raise(g(J,"ArgumentError"),"wrong number of arguments ("+c.$length()+" for 0..2)");var d=c;var w=b.to_ary(d);c=null==w[0]?v:w[0];w=null==w[1]?v:w[1]}else h(0==c.length)?this.$raise(g(J,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):h(3<c.length)&&this.$raise(g(J,"ArgumentError"),"wrong number of arguments ("+c.$length()+" for 1..3)"),d=c,w=b.to_ary(d),f=null==w[0]?v:w[0],c=null==w[1]?v:w[1],w=null==w[2]?v:w[2];d;if(h(g(J,"Range")["$==="](c))){if(h(w)&&this.$raise(g(J,
"TypeError"),"length invalid with range"),d=g(J,"Opal").$coerce_to(c.$begin(),g(J,"Integer"),"to_int"),h(0>d)&&(d+=this.length),h(0>d)&&this.$raise(g(J,"RangeError"),""+c.$inspect()+" out of range"),w=g(J,"Opal").$coerce_to(c.$end(),g(J,"Integer"),"to_int"),h(0>w)&&(w+=this.length),h(c["$exclude_end?"]())||(w+=1),h(w<=d))return this}else if(h(c))if(d=g(J,"Opal").$coerce_to(c,g(J,"Integer"),"to_int"),h(0>d)&&(d+=this.length),h(0>d)&&(d=0),h(w)){w=g(J,"Opal").$coerce_to(w,g(J,"Integer"),"to_int");if(h(0==
w))return this;w+=d}else w=this.length;else d=0,w=this.length;if(h(d>this.length))for(c=this.length;c<w;c++)this[c]=v;h(w>this.length)&&(this.length=w);if(h(e))for(;d<w;d++)f=e(d),this[d]=f;else for(;d<w;d++)this[d]=f;return this},ea.$$arity=-1);b.def(C,"$first",Aa=function(a){if(null==a)return 0===this.length?v:this[0];a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");0>a&&this.$raise(g(J,"ArgumentError"),"negative array size");return this.slice(0,a)},Aa.$$arity=-1);b.def(C,"$flatten",xa=function(a){function b(a,
e){var f=[],d;a=a.$to_a();var w=0;for(d=a.length;w<d;w++){var n=a[w];if(g(J,"Opal")["$respond_to?"](n,"to_ary",!0)){var p=n.$to_ary();if(p===v)f.push(n);else switch(p.$$is_array||c.$raise(g(J,"TypeError")),p===c&&c.$raise(g(J,"ArgumentError")),e){case void 0:f=f.concat(b(p));break;case 0:f.push(p);break;default:f.push.apply(f,b(p,e-1))}}else f.push(n)}return f}var c=this;void 0!==a&&(a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int"));return y(b(c,a),c.$class())},xa.$$arity=-1);b.def(C,"$flatten!",
Oa=function(a){a=this.$flatten(a);if(this.length==a.length){for(var b=0,c=this.length;b<c&&this[b]===a[b];b++);if(b==c)return v}this.$replace(a);return this},Oa.$$arity=-1);b.def(C,"$hash",va=function(){var a=void 0===b.hash_ids,c=["A"],e=this.$object_id(),f,d;try{a&&(b.hash_ids=Object.create(null));if(b.hash_ids[e])return"self";for(d in b.hash_ids){var w=b.hash_ids[d];if(this["$eql?"](w))return"self"}b.hash_ids[e]=this;for(f=0;f<this.length;f++)w=this[f],c.push(w.$hash());return c.join(",")}finally{a&&
(b.hash_ids=void 0)}},va.$$arity=0);b.def(C,"$include?",X=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]["$=="](a))return!0;return!1},X.$$arity=1);b.def(C,"$index",Ja=function(a){var b=Ja.$$p,c=b||v;b&&(Ja.$$p=null);b&&(Ja.$$p=null);var e;null!=a&&c!==v&&this.$warn("warning: given block not used");if(null!=a)for(b=0,e=this.length;b<e;b++){if(this[b]["$=="](a))return b}else if(c!==v)for(b=0,e=this.length;b<e;b++){if(a=c(this[b]),!1!==a&&a!==v)return b}else return this.$enum_for("index");
return v},Ja.$$arity=-1);b.def(C,"$insert",Va=function(a,c){var e=b.slice.call(arguments,1,arguments.length);a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");if(0<e.length){0>a&&(a+=this.length+1,0>a&&this.$raise(g(J,"IndexError"),""+a+" is out of bounds"));if(a>this.length)for(var f=this.length;f<a;f++)this.push(v);this.splice.apply(this,[a,0].concat(e))}return this},Va.$$arity=-2);b.def(C,"$inspect",ya=function(){for(var a=[],b=this.$__id__(),c=0,e=this.length;c<e;c++){var f=this["$[]"](c);f.$__id__()===
b?a.push("[...]"):a.push(f.$inspect())}return"["+a.join(", ")+"]"},ya.$$arity=0);b.def(C,"$join",Za=function(a){null==m[","]&&(m[","]=v);null==a&&(a=v);if(h(0===this.length))return"";h(a===v)&&(a=m[","]);var c=[],e;var f=0;for(e=this.length;f<e;f++){var d=this[f];if(g(J,"Opal")["$respond_to?"](d,"to_str")){var w=d.$to_str();if(w!==v){c.push(w.$to_s());continue}}if(g(J,"Opal")["$respond_to?"](d,"to_ary")&&(w=d.$to_ary(),w===this&&this.$raise(g(J,"ArgumentError")),w!==v)){c.push(w.$join(a));continue}if(g(J,
"Opal")["$respond_to?"](d,"to_s")&&(w=d.$to_s(),w!==v)){c.push(w);continue}this.$raise(g(J,"NoMethodError").$new(""+b.inspect(d)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===v?c.join(""):c.join(g(J,"Opal")["$coerce_to!"](a,g(J,"String"),"to_str").$to_s())},Za.$$arity=-1);b.def(C,"$keep_if",ia=function(){var a=ia.$$p,b=a||v,c;a&&(ia.$$p=null);a&&(ia.$$p=null);if(b===v)return z(this,"enum_for",["keep_if"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));
a=0;for(var e=this.length,f;a<e;a++)if(f=b(this[a]),!1===f||f===v)this.splice(a,1),e--,a--;return this},ia.$$arity=0);b.def(C,"$last",Ba=function(a){if(null==a)return 0===this.length?v:this[this.length-1];a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");0>a&&this.$raise(g(J,"ArgumentError"),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)},Ba.$$arity=-1);b.def(C,"$length",pa=function(){return this.length},pa.$$arity=0);b.alias(C,"map","collect");
b.alias(C,"map!","collect!");b.def(C,"$max",wa=function(a){var b=wa.$$p,c=b||v;b&&(wa.$$p=null);b&&(wa.$$p=null);return z(this.$each(),"max",[a],c.$to_proc())},wa.$$arity=-1);b.def(C,"$min",Ea=function(){var a=Ea.$$p,b=a||v;a&&(Ea.$$p=null);a&&(Ea.$$p=null);return z(this.$each(),"min",[],b.$to_proc())},Ea.$$arity=0);b.def(C,"$permutation",ra=function(a){var c=ra.$$p,e=c||v,f,d=this,w=v,n=v;c&&(ra.$$p=null);c&&(ra.$$p=null);if(e===v)return z(d,"enum_for",["permutation",a],(f=function(){var b=f.$$s||
this,c=b.length;b=void 0===a?b.length:a;for(var e=0<=b?1:0;b;)e*=c,c--,b--;return e},f.$$s=d,f.$$arity=0,f));var p;a=void 0===a?d.length:g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");if(!(0>a||d.length<a))if(0===a)b.yield1(e,[]);else if(1===a)for(w=0;w<d.length;w++)b.yield1(e,[d[w]]);else{w=g(J,"Array").$new(a);n=g(J,"Array").$new(d.length,!1);var k=function(a,c,e,f,w){d=this;for(var n=0;n<d.length;n++)if(f["$[]"](n)["$!"]())if(c[e]=n,e<a-1)f[n]=!0,k.call(d,a,c,e+1,f,w),f[n]=!1;else{p=[];for(var r=
0;r<c.length;r++)p.push(d[c[r]]);b.yield1(w,p)}};e!==v?(c=d.slice(),k.call(c,a,w,0,n,e)):k.call(d,a,w,0,n,e)}return d},ra.$$arity=-1);b.def(C,"$repeated_permutation",Ta=function(a){function c(a,e,f){if(e.length==a)a=e.slice(),b.yield1(d,a);else for(var w=0;w<f.length;w++)e.push(f[w]),c(a,e,f),e.pop()}var e,f=Ta.$$p,d=f||v,w=v;f&&(Ta.$$p=null);w=g(J,"Opal")["$coerce_to!"](a,g(J,"Integer"),"to_int");if(d===v)return z(this,"enum_for",["repeated_permutation",w],(e=function(){var a=e.$$s||this;return h("number"===
typeof w?0<=w:w["$>="](0))?a.$size()["$**"](w):0},e.$$s=this,e.$$arity=0,e));c(w,[],this.slice());return this},Ta.$$arity=1);b.def(C,"$pop",Qa=function(a){if(h(void 0===a))return h(0===this.length)?v:this.pop();a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");h(0>a)&&this.$raise(g(J,"ArgumentError"),"negative array size");return h(0===this.length)?[]:h(a>this.length)?this.splice(0,this.length):this.splice(this.length-a,this.length)},Qa.$$arity=-1);b.def(C,"$product",Fa=function(a){var c=Fa.$$p,
e=c||v;c&&(Fa.$$p=null);c&&(Fa.$$p=null);var f=b.slice.call(arguments,0,arguments.length);c=e!==v?null:[];var d=f.length+1,w=Array(d),n=Array(d),p=Array(d),k;var r=1;p[0]=this;for(k=1;k<d;k++)p[k]=g(J,"Opal").$coerce_to(f[k-1],g(J,"Array"),"to_ary");for(k=0;k<d;k++){f=p[k].length;if(0===f)return c||this;r*=f;2147483647<r&&this.$raise(g(J,"RangeError"),"too big to product");n[k]=f;w[k]=0}a:for(;;){r=[];for(k=0;k<d;k++)r.push(p[k][w[k]]);c?c.push(r):b.yield1(e,r);k=d-1;for(w[k]++;w[k]===n[k];){w[k]=
0;if(0>--k)break a;w[k]++}}return c||this},Fa.$$arity=-1);b.def(C,"$push",Ra=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=0,f=c.length;e<f;e++)this.push(c[e]);return this},Ra.$$arity=-1);b.alias(C,"append","push");b.def(C,"$rassoc",Na=function(a){for(var b=0,c=this.length,e;b<c;b++)if(e=this[b],e.length&&void 0!==e[1]&&e[1]["$=="](a))return e;return v},Na.$$arity=1);b.def(C,"$reject",Sa=function(){var a=Sa.$$p,b=a||v,c;a&&(Sa.$$p=null);a&&(Sa.$$p=null);if(b===v)return z(this,
"enum_for",["reject"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=[];for(var e=0,f=this.length,d;e<f;e++)d=b(this[e]),!1!==d&&d!==v||a.push(this[e]);return a},Sa.$$arity=0);b.def(C,"$reject!",Ga=function(){var a=Ga.$$p,b=a||v,c,e=v;a&&(Ga.$$p=null);a&&(Ga.$$p=null);if(b===v)return z(this,"enum_for",["reject!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));e=this.$length();z(this,"delete_if",[],b.$to_proc());return this.$length()["$=="](e)?v:this},
Ga.$$arity=0);b.def(C,"$replace",Ka=function(a){a=h(g(J,"Array")["$==="](a))?a.$to_a():g(J,"Opal").$coerce_to(a,g(J,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,a);return this},Ka.$$arity=1);b.def(C,"$reverse",$a=function(){return this.slice(0).reverse()},$a.$$arity=0);b.def(C,"$reverse!",Pa=function(){return this.reverse()},Pa.$$arity=0);b.def(C,"$reverse_each",Wa=function(){var a=Wa.$$p,b=a||v,c;a&&(Wa.$$p=null);a&&(Wa.$$p=null);if(b===v)return z(this,"enum_for",["reverse_each"],
(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));z(this.$reverse(),"each",[],b.$to_proc());return this},Wa.$$arity=0);b.def(C,"$rindex",Xa=function(a){var b=Xa.$$p,c=b||v;b&&(Xa.$$p=null);b&&(Xa.$$p=null);null!=a&&c!==v&&this.$warn("warning: given block not used");if(null!=a)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(this[b]["$=="](a))return b}else if(c!==v)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(a=c(this[b]),!1!==a&&a!==v)return b}else if(null==a)return this.$enum_for("rindex");
return v},Xa.$$arity=-1);b.def(C,"$rotate",ab=function(a){null==a&&(a=1);a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");if(1===this.length)return this.slice();if(0===this.length)return[];var b=this.slice();var c=a%b.length;a=b.slice(c);b=b.slice(0,c);return a.concat(b)},ab.$$arity=-1);b.def(C,"$rotate!",Ya=function(a){null==a&&(a=1);if(0===this.length||1===this.length)return this;a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");a=this.$rotate(a);return this.$replace(a)},Ya.$$arity=-1);(function(a,
$super,c){a=G(a,$super,"SampleRandom");var e=[a].concat(c),f,d;a.$$prototype.rng=v;b.def(a,"$initialize",f=function(a){return this.rng=a},f.$$arity=1);return(b.def(a,"$rand",d=function(a){var b=g(e,"Opal").$coerce_to(this.rng.$rand(a),g(e,"Integer"),"to_int");h(0>b)&&this.$raise(g(e,"RangeError"),"random value must be >= 0");h(b<a)||this.$raise(g(e,"RangeError"),"random value must be less than Array size");return b},d.$$arity=1),v)&&"rand"})(J[0],null,J);b.def(C,"$sample",Z=function(a,b){var c,e=
v;if(h(void 0===a))return this.$at(g(J,"Kernel").$rand(this.length));h(void 0===b)?h(b=g(J,"Opal")["$coerce_to?"](a,g(J,"Hash"),"to_hash"))?a=v:(b=v,a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int")):(a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int"),b=g(J,"Opal").$coerce_to(b,g(J,"Hash"),"to_hash"));h(h(c=a)?0>a:c)&&this.$raise(g(J,"ArgumentError"),"count must be greater than 0");h(b)&&(e=b["$[]"]("random"));e=h(h(c=e)?e["$respond_to?"]("rand"):c)?g(J,"SampleRandom").$new(e):g(J,"Kernel");if(!h(a))return this[e.$rand(this.length)];
a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[e.$rand(this.length)]];case 2:var f=e.$rand(this.length);var d=e.$rand(this.length);f===d&&(d=0===f?f+1:f-1);return[this[f],this[d]];default:if(3<this.length/a){b=!1;var w=0;c=g(J,"Array").$new(a);f=1;for(c[0]=e.$rand(this.length);f<a;){var n=e.$rand(this.length);for(d=0;d<f;){for(;n===c[d];){w++;if(100<w){b=!0;break}n=e.$rand(this.length)}if(b)break;d++}if(b)break;c[f]=n;f++}if(!b){for(f=0;f<a;)c[f]=this[c[f]],f++;return c}}c=
this.slice();for(f=0;f<a;f++)b=e.$rand(this.length),w=c[f],c[f]=c[b],c[b]=w;return a===this.length?c:c["$[]"](0,a)}},Z.$$arity=-1);b.def(C,"$select",w=function(){var a=w.$$p,c=a||v,e;a&&(w.$$p=null);a&&(w.$$p=null);if(c===v)return z(this,"enum_for",["select"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=[];for(var f=0,d=this.length,n,p;f<d;f++)n=this[f],p=b.yield1(c,n),b.truthy(p)&&a.push(n);return a},w.$$arity=0);b.def(C,"$select!",H=function(){var a=H.$$p,b=a||v,c;a&&
(H.$$p=null);a&&(H.$$p=null);if(b===v)return z(this,"enum_for",["select!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=this.length;z(this,"keep_if",[],b.$to_proc());return this.length===a?v:this},H.$$arity=0);b.def(C,"$shift",ba=function(a){if(h(void 0===a)){if(h(0===this.length))return v;a=this[0];for(var b=1,c=this.length;b<c;b++)this[b-1]=this[b];this.pop();return a}a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");h(0>a)&&this.$raise(g(J,"ArgumentError"),"negative array size");
return h(0===this.length)?[]:this.splice(0,a)},ba.$$arity=-1);b.alias(C,"size","length");b.def(C,"$shuffle",L=function(a){return this.$dup().$to_a()["$shuffle!"](a)},L.$$arity=-1);b.def(C,"$shuffle!",U=function(a){var b,c=this.length;void 0!==a&&(a=g(J,"Opal")["$coerce_to?"](a,g(J,"Hash"),"to_hash"),a!==v&&(a=a["$[]"]("random"),a!==v&&a["$respond_to?"]("rand")&&(b=a)));for(;c;){b?(a=b.$rand(c).$to_int(),0>a&&this.$raise(g(J,"RangeError"),"random number too small "+a),a>=c&&this.$raise(g(J,"RangeError"),
"random number too big "+a)):a=this.$rand(c);var e=this[--c];this[c]=this[a];this[a]=e}return this},U.$$arity=-1);b.alias(C,"slice","[]");b.def(C,"$slice!",Ha=function(a,b){if(h(void 0===b))if(h(g(J,"Range")["$==="](a))){var c=this["$[]"](a);b=g(J,"Opal").$coerce_to(a.$begin(),g(J,"Integer"),"to_int");var e=g(J,"Opal").$coerce_to(a.$end(),g(J,"Integer"),"to_int");0>b&&(b+=this.length);0>e?e+=this.length:e>=this.length&&(e=this.length-1,a.excl&&(e+=1));var f=e-b;a.excl?--e:f+=1;b<this.length&&0<=b&&
e<this.length&&0<=e&&0<f&&this.splice(b,f)}else{a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return v;c=this[a];0===a?this.shift():this.splice(a,1)}else{a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");b=g(J,"Opal").$coerce_to(b,g(J,"Integer"),"to_int");if(0>b)return v;c=this["$[]"](a,b);0>a&&(a+=this.length);a+b>this.length&&(b=this.length-a);a<this.length&&0<=a&&this.splice(a,b)}return c},Ha.$$arity=-2);b.def(C,"$sort",db=function(){var a=db.$$p,
b=a||v,c=this;a&&(db.$$p=null);a&&(db.$$p=null);if(!h(1<c.length))return c;b===v&&(b=function(a,b){return a["$<=>"](b)});return c.slice().sort(function(a,e){var f=b(a,e);f===v&&c.$raise(g(J,"ArgumentError"),"comparison of "+a.$inspect()+" with "+e.$inspect()+" failed");return t(f,0)?1:("number"===typeof f?0>f:f["$<"](0))?-1:0})},db.$$arity=0);b.def(C,"$sort!",Ca=function(){var a=Ca.$$p,b=a||v;a&&(Ca.$$p=null);a&&(Ca.$$p=null);a=b!==v?z(this.slice(),"sort",[],b.$to_proc()):this.slice().$sort();b=this.length=
0;for(var c=a.length;b<c;b++)this.push(a[b]);return this},Ca.$$arity=0);b.def(C,"$sort_by!",Ua=function(){var a=Ua.$$p,b=a||v,c;a&&(Ua.$$p=null);a&&(Ua.$$p=null);return b===v?z(this,"enum_for",["sort_by!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c)):this.$replace(z(this,"sort_by",[],b.$to_proc()))},Ua.$$arity=0);b.def(C,"$take",mb=function(a){0>a&&this.$raise(g(J,"ArgumentError"));return this.slice(0,a)},mb.$$arity=1);b.def(C,"$take_while",eb=function(){var a=eb.$$p,b=a||
v;a&&(eb.$$p=null);a&&(eb.$$p=null);a=[];for(var c=0,e=this.length,f,d;c<e;c++){f=this[c];d=b(f);if(!1===d||d===v)break;a.push(f)}return a},eb.$$arity=0);b.def(C,"$to_a",jb=function(){return this},jb.$$arity=0);b.alias(C,"to_ary","to_a");b.def(C,"$to_h",kb=function(){var a,c=this.length,e=F([],{});for(a=0;a<c;a++){var f=g(J,"Opal")["$coerce_to?"](this[a],g(J,"Array"),"to_ary");f.$$is_array||this.$raise(g(J,"TypeError"),"wrong element type "+f.$class()+" at "+a+" (expected array)");2!==f.length&&this.$raise(g(J,
"ArgumentError"),"wrong array length at "+a+" (expected 2, was "+f.$length()+")");var d=f[0];f=f[1];b.hash_put(e,d,f)}return e},kb.$$arity=0);b.alias(C,"to_s","inspect");b.def(C,"$transpose",lb=function(){var a,c=v,e=v;if(h(this["$empty?"]()))return[];c=[];e=v;z(this,"each",[],(a=function(f){var d=a.$$s||this,w,n;null==f&&(f=v);f=h(g(J,"Array")["$==="](f))?f.$to_a():g(J,"Opal").$coerce_to(f,g(J,"Array"),"to_ary").$to_a();e=h(w=e)?w:f.length;h(f.length["$!="](e))&&d.$raise(g(J,"IndexError"),"element size differs ("+
f.length+" should be "+e+")");return z(f.length,"times",[],(n=function(a){var e;null==a&&(a=v);if(!h(e=c["$[]"](a))){e=[a,[]];z(c,"[]=",b.to_a(e));var d=e.length;d="number"===typeof d?d-1:d["$-"](1);e=e[d]}return e["$<<"](f.$at(a))},n.$$s=d,n.$$arity=1,n))},a.$$s=this,a.$$arity=1,a));return c},lb.$$arity=0);b.def(C,"$uniq",La=function(){var a=La.$$p,c=a||v;a&&(La.$$p=null);a&&(La.$$p=null);a=F([],{});var e;if(c===v){var f=0;for(e=this.length;f<e;f++){var d=this[f];void 0===b.hash_get(a,d)&&b.hash_put(a,
d,d)}}else for(f=0,e=this.length;f<e;f++){d=this[f];var w=b.yield1(c,d);void 0===b.hash_get(a,w)&&b.hash_put(a,w,d)}return y(a.$values(),this.$class())},La.$$arity=0);b.def(C,"$uniq!",bb=function(){var a=bb.$$p,c=a||v;a&&(bb.$$p=null);a&&(bb.$$p=null);a=this.length;var e=F([],{}),f;var d=0;for(f=a;d<f;d++){var w=this[d];var n=c===v?w:b.yield1(c,w);void 0===b.hash_get(e,n)?b.hash_put(e,n,w):(this.splice(d,1),f--,d--)}return this.length===a?v:this},bb.$$arity=0);b.def(C,"$unshift",nb=function(a){var c=
b.slice.call(arguments,0,arguments.length);for(var e=c.length-1;0<=e;e--)this.unshift(c[e]);return this},nb.$$arity=-1);b.alias(C,"prepend","unshift");b.def(C,"$values_at",ob=function(a){var c,e=v;var f=b.slice.call(arguments,0,arguments.length);e=[];z(f,"each",[],(c=function(a){var b=c.$$s||this,f,d=v,w=v;d=v;null==a&&(a=v);if(h(a["$is_a?"](g(J,"Range")))){d=g(J,"Opal").$coerce_to(a.$last(),g(J,"Integer"),"to_int");w=g(J,"Opal").$coerce_to(a.$first(),g(J,"Integer"),"to_int");if(0>w)return w+=b.length,
v;0>d&&(d+=b.length);a["$exclude_end?"]()&&d--;return d<w?v:z(w,"upto",[d],(f=function(a){var b=f.$$s||this;null==a&&(a=v);return e["$<<"](b.$at(a))},f.$$s=b,f.$$arity=1,f))}d=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");return e["$<<"](b.$at(d))},c.$$s=this,c.$$arity=1,c));return e},ob.$$arity=-1);b.def(C,"$zip",gb=function(a){var c=gb.$$p,e=c||v,f;c&&(gb.$$p=null);c&&(gb.$$p=null);c=b.slice.call(arguments,0,arguments.length);var d=[],w=this.length,n,p;var k=0;for(p=c.length;k<p;k++){var r=
c[k];r.$$is_array||(r.$$is_enumerator?Infinity===r.$size()?c[k]=r.$take(w):c[k]=r.$to_a():c[k]=(h(f=g(J,"Opal")["$coerce_to?"](r,g(J,"Array"),"to_ary"))?f:g(J,"Opal")["$coerce_to!"](r,g(J,"Enumerator"),"each")).$to_a())}for(n=0;n<w;n++){f=[this[n]];k=0;for(p=c.length;k<p;k++)r=c[k][n],null==r&&(r=v),f[k+1]=r;d[n]=f}if(e!==v){for(n=0;n<w;n++)e(d[n]);return v}return d},gb.$$arity=-1);b.defs(C,"$inherited",pb=function(a){a.$$prototype.$to_a=function(){return this.slice(0,this.length)}},pb.$$arity=1);
b.def(C,"$instance_variables",cb=function(){var a,c=cb.$$p,e=v,f=v,d=v;c&&(cb.$$p=null);f=0;d=arguments.length;for(e=Array(d);f<d;f++)e[f]=arguments[f];return z(z(this,b.find_super_dispatcher(this,"instance_variables",cb,!1),e,c),"reject",[],(a=function(a){var b;null==a&&(a=v);return h(b=/^@\d+$/.test(a))?b:a["$=="]("@length")},a.$$s=this,a.$$arity=1,a))},cb.$$arity=0);g(J,"Opal").$pristine(C.$singleton_class(),"allocate");g(J,"Opal").$pristine(C,"copy_instance_variables","initialize_dup");return(b.def(C,
"$pack",qb=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},qb.$$arity=-1),v)&&"pack"}(E[0],Array,E)};
Opal.modules["corelib/hash"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b>=g:b["$>="](g)}var B=b.top,E=[],v=b.nil,q=b.const_get_relative,g=b.klass,G=b.send,h=b.hash2,F=b.truthy;b.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $enum_for $size $respond_to? $class $dig $new $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $proc".split(" "));B.$require("corelib/enumerable");
return function(z,$super,E){z=g(z,$super,"Hash");var B=[z].concat(E),N,y,l,P,R,C,J,ca,aa,a,d,u,D,K,r,k,c,A,p,Q,I,n,e,f,V,ha,la,T,M,Y,x,ua,ma,za,ta,ka,sa,S,da,Da,Ma,Ia,na,fa,qa,ja,W,ea,Aa,xa,Oa,va,X,Ja,Va,ya,Za,ia,Ba,pa,wa,Ea;z.$include(q(B,"Enumerable"));z.$$prototype.$$is_hash=!0;b.defs(z,"$[]",N=function(a){var c=b.slice.call(arguments,0,arguments.length);var e=c.length,f;if(1===e){var d=q(B,"Opal")["$coerce_to?"](c["$[]"](0),q(B,"Hash"),"to_hash");if(d!==v)return this.$allocate()["$merge!"](d);
c=q(B,"Opal")["$coerce_to?"](c["$[]"](0),q(B,"Array"),"to_ary");c===v&&this.$raise(q(B,"ArgumentError"),"odd number of arguments for Hash");e=c.length;d=this.$allocate();for(f=0;f<e;f++)if(c[f].$$is_array)switch(c[f].length){case 1:d.$store(c[f][0],v);break;case 2:d.$store(c[f][0],c[f][1]);break;default:this.$raise(q(B,"ArgumentError"),"invalid number of elements ("+c[f].length+" for 1..2)")}return d}0!==e%2&&this.$raise(q(B,"ArgumentError"),"odd number of arguments for Hash");d=this.$allocate();
for(f=0;f<e;f+=2)d.$store(c[f],c[f+1]);return d},N.$$arity=-1);b.defs(z,"$allocate",y=function(){var a=new this.$$constructor;b.hash_init(a);a.$$none=v;a.$$proc=v;return a},y.$$arity=0);b.defs(z,"$try_convert",l=function(a){return q(B,"Opal")["$coerce_to?"](a,q(B,"Hash"),"to_hash")},l.$$arity=1);b.def(z,"$initialize",P=function(a){var b=P.$$p,c=b||v;b&&(P.$$p=null);b&&(P.$$p=null);void 0!==a&&c!==v&&this.$raise(q(B,"ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=void 0===a?v:a;
this.$$proc=c;return this},P.$$arity=-1);b.def(z,"$==",R=function(a){if(this===a)return!0;if(!a.$$is_hash||this.$$keys.length!==a.$$keys.length)return!1;for(var c=0,e=this.$$keys,f=e.length,d,n;c<f;c++)if(d=e[c],d.$$is_string?(n=this.$$smap[d],d=a.$$smap[d]):(n=d.value,d=b.hash_get(a,d.key)),void 0===d||!n["$eql?"](d))return!1;return!0},R.$$arity=1);b.def(z,"$>=",C=function(a){var b,c=v;a=q(B,"Opal")["$coerce_to!"](a,q(B,"Hash"),"to_hash");if(this.$$keys.length<a.$$keys.length)return!1;c=!0;G(a,"each",
[],(b=function(a,e){var f=b.$$s||this;null==a&&(a=v);null==e&&(e=v);a=f.$fetch(a,null);if(null==a||a!==e)c=!1},b.$$s=this,b.$$arity=2,b));return c},C.$$arity=1);b.def(z,"$>",J=function(a){a=q(B,"Opal")["$coerce_to!"](a,q(B,"Hash"),"to_hash");return this.$$keys.length<=a.$$keys.length?!1:t(this,a)},J.$$arity=1);b.def(z,"$<",ca=function(a){a=q(B,"Opal")["$coerce_to!"](a,q(B,"Hash"),"to_hash");return"number"===typeof a&&"number"===typeof this?a>this:a["$>"](this)},ca.$$arity=1);b.def(z,"$<=",aa=function(a){a=
q(B,"Opal")["$coerce_to!"](a,q(B,"Hash"),"to_hash");return t(a,this)},aa.$$arity=1);b.def(z,"$[]",a=function(a){var c=b.hash_get(this,a);return void 0!==c?c:this.$default(a)},a.$$arity=1);b.def(z,"$[]=",d=function(a,c){b.hash_put(this,a,c);return c},d.$$arity=2);b.def(z,"$assoc",u=function(a){for(var b=0,c=this.$$keys,e=c.length,f;b<e;b++)if(f=c[b],f.$$is_string){if(f["$=="](a))return[f,this.$$smap[f]]}else if(f.key["$=="](a))return[f.key,f.value];return v},u.$$arity=1);b.def(z,"$clear",D=function(){b.hash_init(this);
return this},D.$$arity=0);b.def(z,"$clone",K=function(){var a=new this.$$class;b.hash_init(a);b.hash_clone(this,a);return a},K.$$arity=0);b.def(z,"$compact",r=function(){for(var a=b.hash(),c=0,e=this.$$keys,f=e.length,d,n;c<f;c++)d=e[c],d.$$is_string?n=this.$$smap[d]:(n=d.value,d=d.key),n!==v&&b.hash_put(a,d,n);return a},r.$$arity=0);b.def(z,"$compact!",k=function(){for(var a=!1,c=0,e=this.$$keys,f=e.length,d,n;c<f;c++)d=e[c],d.$$is_string?n=this.$$smap[d]:(n=d.value,d=d.key),n===v&&void 0!==b.hash_delete(this,
d)&&(a=!0,f--,c--);return a?this:v},k.$$arity=0);b.def(z,"$compare_by_identity",c=function(){var a,c=this.$$keys;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;var e=h([],{}).$compare_by_identity();var f=0;for(a=c.length;f<a;f++){var d=c[f];d.$$is_string||(d=d.key);b.hash_put(e,d,b.hash_get(this,d))}this.$$by_identity=!0;this.$$map=e.$$map;this.$$smap=e.$$smap;return this},c.$$arity=0);b.def(z,"$compare_by_identity?",A=function(){return!0===this.$$by_identity},
A.$$arity=0);b.def(z,"$default",p=function(a){return void 0!==a&&this.$$proc!==v&&void 0!==this.$$proc?this.$$proc.$call(this,a):void 0===this.$$none?v:this.$$none},p.$$arity=-1);b.def(z,"$default=",Q=function(a){this.$$proc=v;return this.$$none=a},Q.$$arity=1);b.def(z,"$default_proc",I=function(){return void 0!==this.$$proc?this.$$proc:v},I.$$arity=0);b.def(z,"$default_proc=",n=function(a){var b=a;b!==v&&(b=q(B,"Opal")["$coerce_to!"](b,q(B,"Proc"),"to_proc"),b["$lambda?"]()&&2!==b.$arity().$abs()&&
this.$raise(q(B,"TypeError"),"default_proc takes two arguments"));this.$$none=v;this.$$proc=b;return a},n.$$arity=1);b.def(z,"$delete",e=function(a){var c=e.$$p,f=c||v;c&&(e.$$p=null);c&&(e.$$p=null);c=b.hash_delete(this,a);return void 0!==c?c:f!==v?b.yield1(f,a):v},e.$$arity=1);b.def(z,"$delete_if",f=function(){var a=f.$$p,c=a||v,e;a&&(f.$$p=null);a&&(f.$$p=null);if(!F(c))return G(this,"enum_for",["delete_if"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var d=this.$$keys,
n=d.length,p,k;a<n;a++)p=d[a],p.$$is_string?k=this.$$smap[p]:(k=p.value,p=p.key),k=c(p,k),!1!==k&&k!==v&&void 0!==b.hash_delete(this,p)&&(n--,a--);return this},f.$$arity=0);b.alias(z,"dup","clone");b.def(z,"$dig",V=function(a,c){var e=b.slice.call(arguments,1,arguments.length);var f=this["$[]"](a);if(f===v||0===e.length)return f;F(f["$respond_to?"]("dig"))||this.$raise(q(B,"TypeError"),""+f.$class()+" does not have #dig method");return G(f,"dig",b.to_a(e))},V.$$arity=-2);b.def(z,"$each",ha=function(){var a=
ha.$$p,c=a||v,e;a&&(ha.$$p=null);a&&(ha.$$p=null);if(!F(c))return G(this,"enum_for",["each"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.$$keys,d=f.length,n,p;a<d;a++)n=f[a],n.$$is_string?p=this.$$smap[n]:(p=n.value,n=n.key),b.yield1(c,[n,p]);return this},ha.$$arity=0);b.def(z,"$each_key",la=function(){var a=la.$$p,b=a||v,c;a&&(la.$$p=null);a&&(la.$$p=null);if(!F(b))return G(this,"enum_for",["each_key"],(c=function(){return(c.$$s||this).$size()},c.$$s=
this,c.$$arity=0,c));a=0;for(var e=this.$$keys,f=e.length,d;a<f;a++)d=e[a],b(d.$$is_string?d:d.key);return this},la.$$arity=0);b.alias(z,"each_pair","each");b.def(z,"$each_value",T=function(){var a=T.$$p,b=a||v,c;a&&(T.$$p=null);a&&(T.$$p=null);if(!F(b))return G(this,"enum_for",["each_value"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=0;for(var e=this.$$keys,f=e.length,d;a<f;a++)d=e[a],b(d.$$is_string?this.$$smap[d]:d.value);return this},T.$$arity=0);b.def(z,"$empty?",
M=function(){return 0===this.$$keys.length},M.$$arity=0);b.alias(z,"eql?","==");b.def(z,"$fetch",Y=function(a,c){var e=Y.$$p,f=e||v;e&&(Y.$$p=null);e&&(Y.$$p=null);e=b.hash_get(this,a);return void 0!==e?e:f!==v?f(a):void 0!==c?c:this.$raise(q(B,"KeyError").$new("key not found: "+a.$inspect(),h(["key","receiver"],{key:a,receiver:this})))},Y.$$arity=-2);b.def(z,"$fetch_values",x=function(a){var c=x.$$p,e=c||v,f;c&&(x.$$p=null);c&&(x.$$p=null);c=b.slice.call(arguments,0,arguments.length);return G(c,
"map",[],(f=function(a){var b=f.$$s||this;null==a&&(a=v);return G(b,"fetch",[a],e.$to_proc())},f.$$s=this,f.$$arity=1,f))},x.$$arity=-1);b.def(z,"$flatten",ua=function(a){null==a&&(a=1);a=q(B,"Opal")["$coerce_to!"](a,q(B,"Integer"),"to_int");for(var b=[],c=0,e=this.$$keys,f=e.length,d,n;c<f;c++)d=e[c],d.$$is_string?n=this.$$smap[d]:(n=d.value,d=d.key),b.push(d),n.$$is_array?1===a?b.push(n):b=b.concat(n.$flatten(a-2)):b.push(n);return b},ua.$$arity=-1);b.def(z,"$has_key?",ma=function(a){return void 0!==
b.hash_get(this,a)},ma.$$arity=1);b.def(z,"$has_value?",za=function(a){for(var b=0,c=this.$$keys,e=c.length,f;b<e;b++)if(f=c[b],(f.$$is_string?this.$$smap[f]:f.value)["$=="](a))return!0;return!1},za.$$arity=1);b.def(z,"$hash",ta=function(){var a=void 0===b.hash_ids,c=this.$object_id(),e=["Hash"];try{a&&(b.hash_ids=Object.create(null));if(b[c])return"self";for(p in b.hash_ids){var f=b.hash_ids[p];if(this["$eql?"](f))return"self"}b.hash_ids[c]=this;c=0;for(var d=this.$$keys,n=d.length;c<n;c++){var p=
d[c];p.$$is_string?e.push([p,this.$$smap[p].$hash()]):e.push([p.key_hash,p.value.$hash()])}return e.sort().join()}finally{a&&(b.hash_ids=void 0)}},ta.$$arity=0);b.alias(z,"include?","has_key?");b.def(z,"$index",ka=function(a){for(var b=0,c=this.$$keys,e=c.length,f,d;b<e;b++)if(f=c[b],f.$$is_string?d=this.$$smap[f]:(d=f.value,f=f.key),d["$=="](a))return f;return v},ka.$$arity=1);b.def(z,"$indexes",sa=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=[],f=0,d=c.length,n;f<d;f++)n=
c[f],n=b.hash_get(this,n),void 0===n?e.push(this.$default()):e.push(n);return e},sa.$$arity=-1);b.alias(z,"indices","indexes");var ra;b.def(z,"$inspect",S=function(){var a=void 0===ra,b=this.$object_id(),c=[];try{a&&(ra={});if(ra.hasOwnProperty(b))return"{...}";ra[b]=!0;b=0;for(var e=this.$$keys,f=e.length,d,n;b<f;b++)d=e[b],d.$$is_string?n=this.$$smap[d]:(n=d.value,d=d.key),c.push(d.$inspect()+"=>"+n.$inspect());return"{"+c.join(", ")+"}"}finally{a&&(ra=void 0)}},S.$$arity=0);b.def(z,"$invert",da=
function(){for(var a=b.hash(),c=0,e=this.$$keys,f=e.length,d,n;c<f;c++)d=e[c],d.$$is_string?n=this.$$smap[d]:(n=d.value,d=d.key),b.hash_put(a,n,d);return a},da.$$arity=0);b.def(z,"$keep_if",Da=function(){var a=Da.$$p,c=a||v,e;a&&(Da.$$p=null);a&&(Da.$$p=null);if(!F(c))return G(this,"enum_for",["keep_if"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.$$keys,d=f.length,n,p;a<d;a++)n=f[a],n.$$is_string?p=this.$$smap[n]:(p=n.value,n=n.key),p=c(n,p),!1!==p&&p!==
v||void 0===b.hash_delete(this,n)||(d--,a--);return this},Da.$$arity=0);b.alias(z,"key","index");b.alias(z,"key?","has_key?");b.def(z,"$keys",Ma=function(){for(var a=[],b=0,c=this.$$keys,e=c.length,f;b<e;b++)f=c[b],f.$$is_string?a.push(f):a.push(f.key);return a},Ma.$$arity=0);b.def(z,"$length",Ia=function(){return this.$$keys.length},Ia.$$arity=0);b.alias(z,"member?","has_key?");b.def(z,"$merge",na=function(a){var b=na.$$p,c=b||v;b&&(na.$$p=null);b&&(na.$$p=null);return G(this.$dup(),"merge!",[a],
c.$to_proc())},na.$$arity=1);b.def(z,"$merge!",fa=function(a){var c=fa.$$p,e=c||v;c&&(fa.$$p=null);c&&(fa.$$p=null);a.$$is_hash||(a=q(B,"Opal")["$coerce_to!"](a,q(B,"Hash"),"to_hash"));var f=a.$$keys,d=f.length;if(e===v){for(c=0;c<d;c++){var n=f[c];if(n.$$is_string)var p=a.$$smap[n];else p=n.value,n=n.key;b.hash_put(this,n,p)}return this}for(c=0;c<d;c++){n=f[c];n.$$is_string?p=a.$$smap[n]:(p=n.value,n=n.key);var k=b.hash_get(this,n);void 0===k?b.hash_put(this,n,p):b.hash_put(this,n,e(n,k,p))}return this},
fa.$$arity=1);b.def(z,"$rassoc",qa=function(a){for(var b=0,c=this.$$keys,e=c.length,f,d;b<e;b++)if(f=c[b],f.$$is_string?d=this.$$smap[f]:(d=f.value,f=f.key),d["$=="](a))return[f,d];return v},qa.$$arity=1);b.def(z,"$rehash",ja=function(){b.hash_rehash(this);return this},ja.$$arity=0);b.def(z,"$reject",W=function(){var a=W.$$p,c=a||v,e;a&&(W.$$p=null);a&&(W.$$p=null);if(!F(c))return G(this,"enum_for",["reject"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=b.hash();for(var f=
0,d=this.$$keys,n=d.length,p,k,r;f<n;f++)p=d[f],p.$$is_string?k=this.$$smap[p]:(k=p.value,p=p.key),r=c(p,k),!1!==r&&r!==v||b.hash_put(a,p,k);return a},W.$$arity=0);b.def(z,"$reject!",ea=function(){var a=ea.$$p,c=a||v,e;a&&(ea.$$p=null);a&&(ea.$$p=null);if(!F(c))return G(this,"enum_for",["reject!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=!1;for(var f=0,d=this.$$keys,n=d.length,p,k;f<n;f++)p=d[f],p.$$is_string?k=this.$$smap[p]:(k=p.value,p=p.key),k=c(p,k),!1!==k&&k!==
v&&void 0!==b.hash_delete(this,p)&&(a=!0,n--,f--);return a?this:v},ea.$$arity=0);b.def(z,"$replace",Aa=function(a){a=q(B,"Opal")["$coerce_to!"](a,q(B,"Hash"),"to_hash");b.hash_init(this);var c=0;for(var e=a.$$keys,f=e.length,d,n;c<f;c++)d=e[c],d.$$is_string?n=a.$$smap[d]:(n=d.value,d=d.key),b.hash_put(this,d,n);F(a.$default_proc())?(c=[a.$default_proc()],G(this,"default_proc=",b.to_a(c))):(c=[a.$default()],G(this,"default=",b.to_a(c)));a=c;c=c.length;c="number"===typeof c?c-1:c["$-"](1);a[c];return this},
Aa.$$arity=1);b.def(z,"$select",xa=function(){var a=xa.$$p,c=a||v,e;a&&(xa.$$p=null);a&&(xa.$$p=null);if(!F(c))return G(this,"enum_for",["select"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=b.hash();for(var f=0,d=this.$$keys,n=d.length,p,k,r;f<n;f++)p=d[f],p.$$is_string?k=this.$$smap[p]:(k=p.value,p=p.key),r=c(p,k),!1!==r&&r!==v&&b.hash_put(a,p,k);return a},xa.$$arity=0);b.def(z,"$select!",Oa=function(){var a=Oa.$$p,c=a||v,e;a&&(Oa.$$p=null);a&&(Oa.$$p=null);if(!F(c))return G(this,
"enum_for",["select!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=v;for(var f=0,d=this.$$keys,n=d.length,p,k;f<n;f++)if(p=d[f],p.$$is_string?k=this.$$smap[p]:(k=p.value,p=p.key),k=c(p,k),!1===k||k===v)void 0!==b.hash_delete(this,p)&&(n--,f--),a=this;return a},Oa.$$arity=0);b.def(z,"$shift",va=function(){var a=this.$$keys;return 0<a.length?(a=a[0],a=a.$$is_string?a:a.key,[a,b.hash_delete(this,a)]):this.$default(v)},va.$$arity=0);b.alias(z,"size","length");b.def(z,"$slice",
X=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=b.hash(),f=0,d=c.length;f<d;f++){var n=c[f],p=b.hash_get(this,n);void 0!==p&&b.hash_put(e,n,p)}return e},X.$$arity=-1);b.alias(z,"store","[]=");b.def(z,"$to_a",Ja=function(){for(var a=[],b=0,c=this.$$keys,e=c.length,f,d;b<e;b++)f=c[b],f.$$is_string?d=this.$$smap[f]:(d=f.value,f=f.key),a.push([f,d]);return a},Ja.$$arity=0);b.def(z,"$to_h",Va=function(){if(this.$$class===b.Hash)return this;var a=new b.Hash;b.hash_init(a);b.hash_clone(this,
a);return a},Va.$$arity=0);b.def(z,"$to_hash",ya=function(){return this},ya.$$arity=0);b.def(z,"$to_proc",Za=function(){var a;return G(this,"proc",[],(a=function(b){var c=a.$$s||this;null==b&&c.$raise(q(B,"ArgumentError"),"no key given");return c["$[]"](b)},a.$$s=this,a.$$arity=-1,a))},Za.$$arity=0);b.alias(z,"to_s","inspect");b.def(z,"$transform_keys",ia=function(){var a=ia.$$p,c=a||v,e;a&&(ia.$$p=null);a&&(ia.$$p=null);if(!F(c))return G(this,"enum_for",["transform_keys"],(e=function(){return(e.$$s||
this).$size()},e.$$s=this,e.$$arity=0,e));a=b.hash();for(var f=0,d=this.$$keys,n=d.length,p,k;f<n;f++)p=d[f],p.$$is_string?k=this.$$smap[p]:(k=p.value,p=p.key),p=b.yield1(c,p),b.hash_put(a,p,k);return a},ia.$$arity=0);b.def(z,"$transform_keys!",Ba=function(){var a=Ba.$$p,c=a||v,e;a&&(Ba.$$p=null);a&&(Ba.$$p=null);if(!F(c))return G(this,"enum_for",["transform_keys!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=b.slice.call(this.$$keys);var f,d=a.length;for(f=0;f<d;f++){var n=
a[f];if(n.$$is_string)var p=this.$$smap[n];else p=n.value,n=n.key;var k=b.yield1(c,n);b.hash_delete(this,n);b.hash_put(this,k,p)}return this},Ba.$$arity=0);b.def(z,"$transform_values",pa=function(){var a=pa.$$p,c=a||v,e;a&&(pa.$$p=null);a&&(pa.$$p=null);if(!F(c))return G(this,"enum_for",["transform_values"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=b.hash();for(var f=0,d=this.$$keys,n=d.length,p,k;f<n;f++)p=d[f],p.$$is_string?k=this.$$smap[p]:(k=p.value,p=p.key),k=b.yield1(c,
k),b.hash_put(a,p,k);return a},pa.$$arity=0);b.def(z,"$transform_values!",wa=function(){var a=wa.$$p,c=a||v,e;a&&(wa.$$p=null);a&&(wa.$$p=null);if(!F(c))return G(this,"enum_for",["transform_values!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.$$keys,d=f.length,n,p;a<d;a++)n=f[a],n.$$is_string?p=this.$$smap[n]:(p=n.value,n=n.key),p=b.yield1(c,p),b.hash_put(this,n,p);return this},wa.$$arity=0);b.alias(z,"update","merge!");b.alias(z,"value?","has_value?");
b.alias(z,"values_at","indexes");return(b.def(z,"$values",Ea=function(){for(var a=[],b=0,c=this.$$keys,e=c.length,f;b<e;b++)f=c[b],f.$$is_string?a.push(this.$$smap[f]):a.push(f.value);return a},Ea.$$arity=0),v)&&"values"}(E[0],null,E)};
Opal.modules["corelib/number"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function B(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}function E(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}function v(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}function q(b,g){return"number"===typeof b&&"number"===typeof g?b/g:b["$/"](g)}function g(b,g){return"number"===typeof b&&"number"===typeof g?b*g:b["$*"](g)}
var G=b.top,h=[],F=b.nil,z=b.const_get_qualified,m=b.const_get_relative,P=b.klass,O=b.truthy,N=b.send,y=b.hash2;b.add_stubs("$require $bridge $raise $name $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $% $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $truncate $-@ $size $<= $>= $<=> $compare $any?".split(" "));G.$require("corelib/numeric");(function(l,$super,h){l=P(l,$super,"Number");var C=[l].concat(h),J,G,R,a,d,
u,D,K,r,k,c,A,p,Q,I,n,e,f,V,ha,la,T,M,Y,x,ua,ma,za,ta,ka,sa,S,da,Da,Ma,Ia,na,fa,qa,ja,W,ea,Aa,xa,Oa,va,X,Ja,Va,ya,Za,ia,Ba,pa,wa,Ea,ra,Ta,Qa,Fa,Ra,Na,Sa,Ga,Ka,$a,Pa,Wa,Xa,ab,Ya,Z;m(C,"Opal").$bridge(Number,l);b.defineProperty(l.$$prototype,"$$is_number",!0);l.$$is_number_class=!0;(function(a,c){var e=[a].concat(c),f;b.def(a,"$allocate",f=function(){return this.$raise(m(e,"TypeError"),"allocator undefined for "+this.$name())},f.$$arity=0);b.udef(a,"$new");return F})(b.get_singleton_class(l),C);b.def(l,
"$coerce",J=function(a){if(a!==F){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[m(C,"Opal")["$coerce_to!"](a,m(C,"Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(m(C,"TypeError"),"can't convert "+a.$class()+" into Float")},J.$$arity=1);b.def(l,"$__id__",G=function(){return 2*this+1},G.$$arity=0);b.alias(l,"object_id","__id__");b.def(l,"$+",R=function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)},R.$$arity=1);b.def(l,"$-",a=function(a){return a.$$is_number?
this-a:this.$__coerced__("-",a)},a.$$arity=1);b.def(l,"$*",d=function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)},d.$$arity=1);b.def(l,"$/",u=function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)},u.$$arity=1);b.alias(l,"fdiv","/");b.def(l,"$%",D=function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(m(C,"ZeroDivisionError"),"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)},D.$$arity=1);b.def(l,"$&",K=function(a){return a.$$is_number?
this&a:this.$__coerced__("&",a)},K.$$arity=1);b.def(l,"$|",r=function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)},r.$$arity=1);b.def(l,"$^",k=function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)},k.$$arity=1);b.def(l,"$<",c=function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)},c.$$arity=1);b.def(l,"$<=",A=function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)},A.$$arity=1);b.def(l,"$>",p=function(a){return a.$$is_number?this>a:this.$__coerced__(">",
a)},p.$$arity=1);b.def(l,"$>=",Q=function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)},Q.$$arity=1);b.def(l,"$<=>",I=function(a){try{return a.$$is_number?isNaN(this)||isNaN(a)?F:this>a?1:this<a?-1:0:this.$__coerced__("<=>",a)}catch(H){if(b.rescue(H,[m(C,"ArgumentError")]))try{return F}finally{b.pop_exception()}else throw H;}},I.$$arity=1);b.def(l,"$<<",n=function(a){a=m(C,"Opal")["$coerce_to!"](a,m(C,"Integer"),"to_int");return 0<a?this<<a:this>>-a},n.$$arity=1);b.def(l,"$>>",e=function(a){a=
m(C,"Opal")["$coerce_to!"](a,m(C,"Integer"),"to_int");return 0<a?this>>a:this<<-a},e.$$arity=1);b.def(l,"$[]",f=function(a){a=m(C,"Opal")["$coerce_to!"](a,m(C,"Integer"),"to_int");return 0>a?0:32<=a?0>this?1:0:this>>a&1},f.$$arity=1);b.def(l,"$+@",V=function(){return+this},V.$$arity=0);b.def(l,"$-@",ha=function(){return-this},ha.$$arity=0);b.def(l,"$~",la=function(){return~this},la.$$arity=0);b.def(l,"$**",T=function(a){var b,c;return O(m(C,"Integer")["$==="](a))?O(O(b=m(C,"Integer")["$==="](this)["$!"]())?
b:t(a,0))?Math.pow(this,a):m(C,"Rational").$new(this,1)["$**"](a):O(B(this,0)?O(c=m(C,"Float")["$==="](a))?c:m(C,"Rational")["$==="](a):B(this,0))?m(C,"Complex").$new(this,0)["$**"](a.$to_f()):O(null!=a.$$is_number)?Math.pow(this,a):this.$__coerced__("**",a)},T.$$arity=1);b.def(l,"$===",M=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},M.$$arity=1);b.def(l,"$==",Y=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?
a["$=="](this):!1},Y.$$arity=1);b.def(l,"$abs",x=function(){return Math.abs(this)},x.$$arity=0);b.def(l,"$abs2",ua=function(){return Math.abs(this*this)},ua.$$arity=0);b.def(l,"$allbits?",ma=function(a){a=m(C,"Opal")["$coerce_to!"](a,m(C,"Integer"),"to_int");return(this&a)==a},ma.$$arity=1);b.def(l,"$anybits?",za=function(a){a=m(C,"Opal")["$coerce_to!"](a,m(C,"Integer"),"to_int");return 0!==(this&a)},za.$$arity=1);b.def(l,"$angle",ta=function(){return O(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:
0>this?Math.PI:0},ta.$$arity=0);b.alias(l,"arg","angle");b.alias(l,"phase","angle");b.def(l,"$bit_length",ka=function(){O(m(C,"Integer")["$==="](this))||this.$raise(m(C,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var a=0,b=0>this?~this:this;0!=b;)a+=1,b>>>=1;return a},ka.$$arity=0);b.def(l,"$ceil",sa=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.ceil(b*a)/a;0===b%1&&(a=
Math.round(a));return a},sa.$$arity=-1);b.def(l,"$chr",S=function(a){return String.fromCharCode(this)},S.$$arity=-1);b.def(l,"$denominator",da=function(){var a,c=da.$$p,e;c&&(da.$$p=null);var f=0;var d=arguments.length;for(e=Array(d);f<d;f++)e[f]=arguments[f];return O(O(a=this["$nan?"]())?a:this["$infinite?"]())?1:N(this,b.find_super_dispatcher(this,"denominator",da,!1),e,c)},da.$$arity=0);b.def(l,"$downto",Da=function(a){var b=Da.$$p,c=b||F,e;b&&(Da.$$p=null);b&&(Da.$$p=null);if(c===F)return N(this,
"enum_for",["downto",a],(e=function(){var b=e.$$s||this;O(m(C,"Numeric")["$==="](a))||b.$raise(m(C,"ArgumentError"),"comparison of "+b.$class()+" with "+a.$class()+" failed");return O(t(a,b))?0:E(v(b,a),1)},e.$$s=this,e.$$arity=0,e));a.$$is_number||this.$raise(m(C,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(b=this;b>=a;b--)c(b);return this},Da.$$arity=1);b.alias(l,"eql?","==");b.def(l,"$equal?",Ma=function(a){var b;return O(b=this["$=="](a))?b:isNaN(this)&&isNaN(a)},
Ma.$$arity=1);b.def(l,"$even?",Ia=function(){return 0===this%2},Ia.$$arity=0);b.def(l,"$floor",na=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.floor(b*a)/a;0===b%1&&(a=Math.round(a));return a},na.$$arity=-1);b.def(l,"$gcd",fa=function(a){O(m(C,"Integer")["$==="](a))||this.$raise(m(C,"TypeError"),"not an integer");var b=Math.abs(this);for(a=Math.abs(a);0<b;){var c=b;b=a%b;a=c}return a},fa.$$arity=1);b.def(l,"$gcdlcm",qa=function(a){return[this.$gcd(),
this.$lcm()]},qa.$$arity=1);b.def(l,"$integer?",ja=function(){return 0===this%1},ja.$$arity=0);b.def(l,"$is_a?",W=function(a){var c=W.$$p,e;c&&(W.$$p=null);var f=0;var d=arguments.length;for(e=Array(d);f<d;f++)e[f]=arguments[f];return O(a["$=="](m(C,"Integer"))?m(C,"Integer")["$==="](this):a["$=="](m(C,"Integer")))||O(a["$=="](m(C,"Integer"))?m(C,"Integer")["$==="](this):a["$=="](m(C,"Integer")))||O(a["$=="](m(C,"Float"))?m(C,"Float")["$==="](this):a["$=="](m(C,"Float")))?!0:N(this,b.find_super_dispatcher(this,
"is_a?",W,!1),e,c)},W.$$arity=1);b.alias(l,"kind_of?","is_a?");b.def(l,"$instance_of?",ea=function(a){var c=ea.$$p,e;c&&(ea.$$p=null);var f=0;var d=arguments.length;for(e=Array(d);f<d;f++)e[f]=arguments[f];return O(a["$=="](m(C,"Integer"))?m(C,"Integer")["$==="](this):a["$=="](m(C,"Integer")))||O(a["$=="](m(C,"Integer"))?m(C,"Integer")["$==="](this):a["$=="](m(C,"Integer")))||O(a["$=="](m(C,"Float"))?m(C,"Float")["$==="](this):a["$=="](m(C,"Float")))?!0:N(this,b.find_super_dispatcher(this,"instance_of?",
ea,!1),e,c)},ea.$$arity=1);b.def(l,"$lcm",Aa=function(a){O(m(C,"Integer")["$==="](a))||this.$raise(m(C,"TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))},Aa.$$arity=1);b.alias(l,"magnitude","abs");b.alias(l,"modulo","%");b.def(l,"$next",xa=function(){return this+1},xa.$$arity=0);b.def(l,"$nobits?",Oa=function(a){a=m(C,"Opal")["$coerce_to!"](a,m(C,"Integer"),"to_int");return 0==(this&a)},Oa.$$arity=1);b.def(l,"$nonzero?",va=function(){return 0==this?F:this},va.$$arity=
0);b.def(l,"$numerator",X=function(){var a,c=X.$$p,e;c&&(X.$$p=null);var f=0;var d=arguments.length;for(e=Array(d);f<d;f++)e[f]=arguments[f];return O(O(a=this["$nan?"]())?a:this["$infinite?"]())?this:N(this,b.find_super_dispatcher(this,"numerator",X,!1),e,c)},X.$$arity=0);b.def(l,"$odd?",Ja=function(){return 0!==this%2},Ja.$$arity=0);b.def(l,"$ord",Va=function(){return this},Va.$$arity=0);b.def(l,"$pow",ya=function(a,b){0==this&&this.$raise(m(C,"ZeroDivisionError"),"divided by 0");if(void 0===b)return this["$**"](a);
m(C,"Integer")["$==="](a)||this.$raise(m(C,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer");0>a&&this.$raise(m(C,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified");m(C,"Integer")["$==="](b)||this.$raise(m(C,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers");0===b&&this.$raise(m(C,"ZeroDivisionError"),"divided by 0");return this["$**"](a)["$%"](b)},ya.$$arity=-2);b.def(l,"$pred",Za=function(){return this-
1},Za.$$arity=0);b.def(l,"$quo",ia=function(a){var c=ia.$$p,e;c&&(ia.$$p=null);var f=0;var d=arguments.length;for(e=Array(d);f<d;f++)e[f]=arguments[f];return O(m(C,"Integer")["$==="](this))?N(this,b.find_super_dispatcher(this,"quo",ia,!1),e,c):q(this,a)},ia.$$arity=1);b.def(l,"$rationalize",Ba=function(a){1<arguments.length&&this.$raise(m(C,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(O(m(C,"Integer")["$==="](this)))return m(C,"Rational").$new(this,1);if(O(this["$infinite?"]()))return this.$raise(m(C,
"FloatDomainError"),"Infinity");if(O(this["$nan?"]()))return this.$raise(m(C,"FloatDomainError"),"NaN");if(O(null==a)){var c=m(C,"Math").$frexp(this);var e=b.to_ary(c);var f=null==e[0]?F:e[0];e=null==e[1]?F:e[1];c;f=m(C,"Math").$ldexp(f,z(m(C,"Float"),"MANT_DIG")).$to_i();e=v(e,z(m(C,"Float"),"MANT_DIG"));return m(C,"Rational").$new(g(2,f),1["$<<"](v(1,e))).$rationalize(m(C,"Rational").$new(1,1["$<<"](v(1,e))))}return this.$to_r().$rationalize(a)},Ba.$$arity=-1);b.def(l,"$remainder",pa=function(a){return v(this,
g(a,q(this,a).$truncate()))},pa.$$arity=1);b.def(l,"$round",wa=function(a){var c;if(O(m(C,"Integer")["$==="](this))){if(O(null==a))return this;O(O(c=m(C,"Float")["$==="](a))?a["$infinite?"]():c)&&this.$raise(m(C,"RangeError"),"Infinity");a=m(C,"Opal")["$coerce_to!"](a,m(C,"Integer"),"to_int");O(B(a,z(m(C,"Integer"),"MIN")))&&this.$raise(m(C,"RangeError"),"out of bounds");if(O(0<=a))return this;a=a["$-@"]();if(.415241*a-.125>this.$size())return 0;a=Math.pow(10,a);var e=Math.floor((Math.abs(e)+a/2)/
a)*a;return 0>this?-e:e}O(O(c=this["$nan?"]())?null==a:c)&&this.$raise(m(C,"FloatDomainError"),"NaN");a=m(C,"Opal")["$coerce_to!"](a||0,m(C,"Integer"),"to_int");if(O("number"===typeof a?0>=a:a["$<="](0)))O(this["$nan?"]())?this.$raise(m(C,"RangeError"),"NaN"):O(this["$infinite?"]())&&this.$raise(m(C,"FloatDomainError"),"Infinity");else{if(a["$=="](0))return Math.round(this);if(O(O(c=this["$nan?"]())?c:this["$infinite?"]()))return this}e=m(C,"Math").$frexp(this);c=b.to_ary(e);c=null==c[1]?F:c[1];e;
e=v(E(z(m(C,"Float"),"DIG"),2),O(t(c,0))?q(c,4):v(q(c,3),1));e="number"===typeof a&&"number"===typeof e?a>=e:a["$>="](e);return O(e)?this:O(B(a,(O(t(c,0))?E(q(c,3),1):q(c,4))["$-@"]()))?0:Math.round(this*Math.pow(10,a))/Math.pow(10,a)},wa.$$arity=-1);b.def(l,"$step",Ea=function(a,c,e){function f(){void 0!==H&&(u=H);void 0===u&&(u=F);l===F&&g.$raise(m(C,"TypeError"),"step must be numeric");0===l&&g.$raise(m(C,"ArgumentError"),"step can't be 0");void 0!==M&&(l=M);if(l===F||null==l)l=1;var a=l["$<=>"](0);
a===F&&g.$raise(m(C,"ArgumentError"),"0 can't be coerced into "+l.$class());if(u===F||null==u)u=0<a?z(m(C,"Float"),"INFINITY"):z(m(C,"Float"),"INFINITY")["$-@"]();m(C,"Opal").$compare(g,u)}function d(){if(0<l&&g>u||0>l&&g<u)return 0;if(Infinity===l||-Infinity===l)return 1;var a=Math.abs,b=Math.floor;a=(a(g)+a(u)+a(u-g))/a(l)*z(m(C,"Float"),"EPSILON");if(Infinity===a||-Infinity===a)return 0;.5<a&&(a=.5);return b((u-g)/l+a)+1}function n(){f();if(0===l)return Infinity;if(0!==l%1)return d();if(0<l&&g>
u||0>l&&g<u)return 0;var a=Math.ceil,b=Math.abs,c=b(g-u)+1;b=b(l);return a(c/b)}var w=Ea.$$p,p=w||F,k,r,g=this,x=k=F;w&&(Ea.$$p=null);w&&(Ea.$$p=null);w=b.slice.call(arguments,0,arguments.length);k=b.extract_kwargs(w);if(null==k)k=y([],{});else if(!k.$$is_hash)throw b.ArgumentError.$new("expected kwargs");if(0<w.length){var u=w[0];w.splice(0,1)}if(0<w.length){var l=w[0];w.splice(0,1)}var H=k.$$smap.to;var M=k.$$smap.by;void 0!==u&&void 0!==H&&g.$raise(m(C,"ArgumentError"),"to is given twice");void 0!==
l&&void 0!==M&&g.$raise(m(C,"ArgumentError"),"step is given twice");if(p===F)return k=[],x=y([],{}),void 0!==u&&k.push(u),void 0!==l&&k.push(l),void 0!==H&&b.hash_put(x,"to",H),void 0!==M&&b.hash_put(x,"by",M),x["$any?"]()&&k.push(x),N(g,"enum_for",["step"].concat(b.to_a(k)),(r=function(){return n()},r.$$s=g,r.$$arity=0,r));f();if(0===l)for(;;)p(g);if(0!==g%1||0!==u%1||0!==l%1){if(r=d(),0<r)if(Infinity===l||-Infinity===l)p(g);else if(w=0,0<l)for(;w<r;)k=w*l+g,u<k&&(k=u),p(k),w+=1;else for(;w<r;)k=
w*l+g,u>k&&(k=u),p(k),w+=1}else if(r=g,0<l)for(;r<=u;)p(r),r+=l;else for(;r>=u;)p(r),r+=l;return g},Ea.$$arity=-1);b.alias(l,"succ","next");b.def(l,"$times",ra=function(){var a=ra.$$p,b=a||F,c;a&&(ra.$$p=null);a&&(ra.$$p=null);if(!O(b))return N(this,"enum_for",["times"],(c=function(){return c.$$s||this},c.$$s=this,c.$$arity=0,c));for(a=0;a<this;a++)b(a);return this},ra.$$arity=0);b.def(l,"$to_f",Ta=function(){return this},Ta.$$arity=0);b.def(l,"$to_i",Qa=function(){return parseInt(this,10)},Qa.$$arity=
0);b.alias(l,"to_int","to_i");b.def(l,"$to_r",Fa=function(){if(O(m(C,"Integer")["$==="](this)))return m(C,"Rational").$new(this,1);var a=m(C,"Math").$frexp(this);var c=b.to_ary(a);var e=null==c[0]?F:c[0];c=null==c[1]?F:c[1];a;e=m(C,"Math").$ldexp(e,z(m(C,"Float"),"MANT_DIG")).$to_i();c=v(c,z(m(C,"Float"),"MANT_DIG"));return g(e,z(m(C,"Float"),"RADIX")["$**"](c)).$to_r()},Fa.$$arity=0);b.def(l,"$to_s",Ra=function(a){var b;null==a&&(a=10);a=m(C,"Opal")["$coerce_to!"](a,m(C,"Integer"),"to_int");O(O(b=
B(a,2))?b:t(a,36))&&this.$raise(m(C,"ArgumentError"),"invalid radix "+a);return this.toString(a)},Ra.$$arity=-1);b.def(l,"$truncate",Na=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=parseInt(b*a,10)/a;0===b%1&&(a=Math.round(a));return a},Na.$$arity=-1);b.alias(l,"inspect","to_s");b.def(l,"$digits",Sa=function(a){null==a&&(a=10);B(this,0)&&this.$raise(z(m(C,"Math"),"DomainError"),"out of domain");a=m(C,"Opal")["$coerce_to!"](a,m(C,"Integer"),"to_int");O(B(a,
2))&&this.$raise(m(C,"ArgumentError"),"invalid radix "+a);for(var b=this,c=[];0!==b;)c.push(b%a),b=parseInt(b/a,10);return c},Sa.$$arity=-1);b.def(l,"$divmod",Ga=function(a){var c,e=Ga.$$p,f;e&&(Ga.$$p=null);var d=0;var n=arguments.length;for(f=Array(n);d<n;d++)f[d]=arguments[d];return O(O(c=this["$nan?"]())?c:a["$nan?"]())?this.$raise(m(C,"FloatDomainError"),"NaN"):O(this["$infinite?"]())?this.$raise(m(C,"FloatDomainError"),"Infinity"):N(this,b.find_super_dispatcher(this,"divmod",Ga,!1),f,e)},Ga.$$arity=
1);b.def(l,"$upto",Ka=function(a){var b=Ka.$$p,c=b||F,e;b&&(Ka.$$p=null);b&&(Ka.$$p=null);if(c===F)return N(this,"enum_for",["upto",a],(e=function(){var b=e.$$s||this;O(m(C,"Numeric")["$==="](a))||b.$raise(m(C,"ArgumentError"),"comparison of "+b.$class()+" with "+a.$class()+" failed");return O(B(a,b))?0:E(v(a,b),1)},e.$$s=this,e.$$arity=0,e));a.$$is_number||this.$raise(m(C,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(b=this;b<=a;b++)c(b);return this},Ka.$$arity=
1);b.def(l,"$zero?",$a=function(){return 0==this},$a.$$arity=0);b.def(l,"$size",Pa=function(){return 4},Pa.$$arity=0);b.def(l,"$nan?",Wa=function(){return isNaN(this)},Wa.$$arity=0);b.def(l,"$finite?",Xa=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},Xa.$$arity=0);b.def(l,"$infinite?",ab=function(){return Infinity==this?1:-Infinity==this?-1:F},ab.$$arity=0);b.def(l,"$positive?",Ya=function(){return 0!=this&&(Infinity==this||0<1/this)},Ya.$$arity=0);return(b.def(l,"$negative?",Z=
function(){return-Infinity==this||0>1/this},Z.$$arity=0),F)&&"negative?"})(h[0],m(h,"Numeric"),h);b.const_set(h[0],"Fixnum",m(h,"Number"));(function(g,$super,h){g=P(g,$super,"Integer");h=[g].concat(h);g.$$is_number_class=!0;(function(g,l){var h=[g].concat(l),q,a,d;b.def(g,"$allocate",q=function(){return this.$raise(m(h,"TypeError"),"allocator undefined for "+this.$name())},q.$$arity=0);b.udef(g,"$new");b.def(g,"$===",a=function(a){return a.$$is_number?0===a%1:!1},a.$$arity=1);return(b.def(g,"$sqrt",
d=function(a){a=m(h,"Opal")["$coerce_to!"](a,m(h,"Integer"),"to_int");0>a&&this.$raise(z(m(h,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"');return parseInt(Math.sqrt(a),10)},d.$$arity=1),F)&&"sqrt"})(b.get_singleton_class(g),h);b.const_set(h[0],"MAX",Math.pow(2,30)-1);return b.const_set(h[0],"MIN",-Math.pow(2,30))})(h[0],m(h,"Numeric"),h);return function(g,$super,h){g=P(g,$super,"Float");h=[g].concat(h);g.$$is_number_class=!0;(function(g,l){var h=[g].concat(l),q,a;b.def(g,
"$allocate",q=function(){return this.$raise(m(h,"TypeError"),"allocator undefined for "+this.$name())},q.$$arity=0);b.udef(g,"$new");return(b.def(g,"$===",a=function(a){return!!a.$$is_number},a.$$arity=1),F)&&"==="})(b.get_singleton_class(g),h);b.const_set(h[0],"INFINITY",Infinity);b.const_set(h[0],"MAX",Number.MAX_VALUE);b.const_set(h[0],"MIN",Number.MIN_VALUE);b.const_set(h[0],"NAN",NaN);b.const_set(h[0],"DIG",15);b.const_set(h[0],"MANT_DIG",53);b.const_set(h[0],"RADIX",2);return b.const_set(h[0],
"EPSILON",Number.EPSILON||2.220446049250313E-16)}(h[0],m(h,"Numeric"),h)};
Opal.modules["corelib/range"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b<=g:b["$<="](g)}function B(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}function E(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function v(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}var q=b.top,g=[],G=b.nil,h=b.const_get_qualified,F=b.const_get_relative,z=b.klass,m=b.truthy,P=b.send;b.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $size $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));
q.$require("corelib/enumerable");return function(g,$super,q){g=z(g,$super,"Range");var l=[g].concat(q),y,R,C,J,O,aa,a,d,u,D,K,r,k,c,A,p,Q,I;g.$$prototype.begin=g.$$prototype.end=g.$$prototype.excl=G;g.$include(F(l,"Enumerable"));g.$$prototype.$$is_range=!0;g.$attr_reader("begin","end");b.def(g,"$initialize",y=function(a,b,c){null==c&&(c=!1);m(this.begin)&&this.$raise(F(l,"NameError"),"'initialize' called twice");m(a["$<=>"](b))||this.$raise(F(l,"ArgumentError"),"bad value for range");this.begin=a;
this.end=b;return this.excl=c},y.$$arity=-3);b.def(g,"$==",R=function(a){return a.$$is_range?this.excl===a.excl&&this.begin==a.begin&&this.end==a.end:!1},R.$$arity=1);b.def(g,"$===",C=function(a){return this["$include?"](a)},C.$$arity=1);b.def(g,"$cover?",J=function(a){var b;var c=this.begin["$<=>"](a);if(!m(m(b=c)?t(c,0):b))return!1;a=a["$<=>"](this.end);return m(this.excl)?m(b=a)?B(a,0):b:m(b=a)?t(a,0):b},J.$$arity=1);b.def(g,"$each",O=function(){var a=O.$$p,c=a||G;a&&(O.$$p=null);a&&(O.$$p=null);
if(c===G)return this.$enum_for("each");if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(F(l,"TypeError"),"can't iterate from Float");var f=this.begin;for(a=this.end+(m(this.excl)?0:1);f<a;f++)c(f);return this}if(this.begin.$$is_string&&this.end.$$is_string)return P(this.begin,"upto",[this.end,this.excl],c.$to_proc()),this;a=this.begin;var d=this.end;for(m(a["$respond_to?"]("succ"))||this.$raise(F(l,"TypeError"),"can't iterate from "+a.$class());m(B(a["$<=>"](d),
0));)b.yield1(c,a),a=a.$succ();m(m(f=this.excl["$!"]())?a["$=="](d):f)&&b.yield1(c,a);return this},O.$$arity=0);b.def(g,"$eql?",aa=function(a){var b,c;return m(F(l,"Range")["$==="](a))?m(b=m(c=this.excl["$==="](a["$exclude_end?"]()))?this.begin["$eql?"](a.$begin()):c)?this.end["$eql?"](a.$end()):b:!1},aa.$$arity=1);b.def(g,"$exclude_end?",a=function(){return this.excl},a.$$arity=0);b.def(g,"$first",d=function(a){var c=d.$$p,f;c&&(d.$$p=null);var n=0;var p=arguments.length;for(f=Array(p);n<p;n++)f[n]=
arguments[n];return m(null==a)?this.begin:P(this,b.find_super_dispatcher(this,"first",d,!1),f,c)},d.$$arity=-1);b.alias(g,"include?","cover?");b.def(g,"$last",u=function(a){return m(null==a)?this.end:this.$to_a().$last(a)},u.$$arity=-1);b.def(g,"$max",D=function(){var a,c=D.$$p,f=c||G,d;c&&(D.$$p=null);var p=0;var k=arguments.length;for(d=Array(k);p<k;p++)d[p]=arguments[p];return f!==G?P(this,b.find_super_dispatcher(this,"max",D,!1),d,c):m(E(this.begin,this.end))?G:m(m(a=this.excl)?this.begin["$=="](this.end):
a)?G:this.excl?this.end-1:this.end},D.$$arity=0);b.alias(g,"member?","cover?");b.def(g,"$min",K=function(){var a,c=K.$$p,f=c||G,d;c&&(K.$$p=null);var p=0;var k=arguments.length;for(d=Array(k);p<k;p++)d[p]=arguments[p];return f!==G?P(this,b.find_super_dispatcher(this,"min",K,!1),d,c):m(E(this.begin,this.end))?G:m(m(a=this.excl)?this.begin["$=="](this.end):a)?G:this.begin},K.$$arity=0);b.def(g,"$size",r=function(){var a;var b=this.begin;var c=this.end;m(this.excl)&&(c="number"===typeof c?c-1:c["$-"](1));
if(!m(m(a=F(l,"Numeric")["$==="](b))?F(l,"Numeric")["$==="](c):a))return G;if(m(B(c,b)))return 0;a=h(F(l,"Float"),"INFINITY");return m([b.$abs(),c.$abs()]["$include?"](a))?a:(Math.abs(c-b)+1).$to_i()},r.$$arity=0);b.def(g,"$step",k=function(a){function c(){a.$$is_number||(a=F(l,"Opal")["$coerce_to!"](a,F(l,"Integer"),"to_int"));0>a?u.$raise(F(l,"ArgumentError"),"step can't be negative"):0===a&&u.$raise(F(l,"ArgumentError"),"step can't be 0")}function f(){if(!u.begin["$respond_to?"]("succ")||u.begin.$$is_string&&
u.end.$$is_string)return G;if(0===a%1){var b=u.$size();return("number"===typeof b&&"number"===typeof a?b/a:b["$/"](a)).$ceil()}b=u.begin;var c=u.end,e=Math.abs,f=Math.floor;e=(e(b)+e(c)+e(c-b))/e(a)*h(F(l,"Float"),"EPSILON");.5<e&&(e=.5);u.excl?(f=f((c-b)/a-e),f*a+b<c&&f++):f=f((c-b)/a+e)+1;return f}var d,n,p,g=k.$$p,r=g||G,u=this,x=G;g&&(k.$$p=null);null==a&&(a=1);if(r===G)return P(u,"enum_for",["step",a],(d=function(){c();return f()},d.$$s=u,d.$$arity=0,d));c();m(u.begin.$$is_number&&u.end.$$is_number)?
(x=0,function(){var c=b.new_brk();try{return P(u,"loop",[],(n=function(){var e=n.$$s||this;null==e.begin&&(e.begin=G);null==e.excl&&(e.excl=G);null==e.end&&(e.end=G);var f=v(e.begin,"number"===typeof x&&"number"===typeof a?x*a:x["$*"](a));m(e.excl)?(e=e.end,e="number"===typeof f&&"number"===typeof e?f>=e:f["$>="](e),m(e)&&b.brk(G,c)):m(E(f,e.end))&&b.brk(G,c);b.yield1(r,f);return x=v(x,1)},n.$$s=u,n.$$brk=c,n.$$arity=0,n))}catch(ma){if(ma===c)return ma.$v;throw ma;}}()):(u.begin.$$is_string&&u.end.$$is_string&&
0!==a%1&&u.$raise(F(l,"TypeError"),"no implicit conversion to float from string"),P(u,"each_with_index",[],(p=function(c,e){null==c&&(c=G);null==e&&(e=G);return e["$%"](a)["$=="](0)?b.yield1(r,c):G},p.$$s=u,p.$$arity=2,p)));return u},k.$$arity=-1);b.def(g,"$bsearch",c=function(){var a=c.$$p,b=a||G;a&&(c.$$p=null);a&&(c.$$p=null);if(b===G)return this.$enum_for("bsearch");m(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(F(l,"TypeError"),"can't do binary search for "+this.begin.$class());
return P(this.$to_a(),"bsearch",[],b.$to_proc())},c.$$arity=0);b.def(g,"$to_s",A=function(){return""+this.begin+(m(this.excl)?"...":"..")+this.end},A.$$arity=0);b.def(g,"$inspect",p=function(){return""+this.begin.$inspect()+(m(this.excl)?"...":"..")+this.end.$inspect()},p.$$arity=0);b.def(g,"$marshal_load",Q=function(a){this.begin=a["$[]"]("begin");this.end=a["$[]"]("end");return this.excl=a["$[]"]("excl")},Q.$$arity=1);return(b.def(g,"$hash",I=function(){return[this.begin,this.end,this.excl].$hash()},
I.$$arity=0),G)&&"hash"}(g[0],null,g)};
Opal.modules["corelib/proc"]=function(b){var t=[],B=b.nil,E=b.const_get_relative,v=b.slice,q=b.klass,g=b.truthy;b.add_stubs(["$raise","$coerce_to!"]);return function(t,$super,F){t=q(t,$super,"Proc");var z=[t].concat(F),m,G,O,N,y,l,oa,R,C,J;b.defineProperty(t.$$prototype,"$$is_proc",!0);b.defineProperty(t.$$prototype,"$$is_lambda",!1);b.defs(t,"$new",m=function(){var b=m.$$p,l=b||B;b&&(m.$$p=null);b&&(m.$$p=null);g(l)||this.$raise(E(z,"ArgumentError"),"tried to create a Proc object without a block");return l},
m.$$arity=0);b.def(t,"$call",G=function(g){var l=G.$$p,a=l||B;l&&(G.$$p=null);l&&(G.$$p=null);l=b.slice.call(arguments,0,arguments.length);a!==B&&(this.$$p=a);if(a=this.$$brk)try{var d=this.$$is_lambda?this.apply(null,l):b.yieldX(this,l)}catch(u){if(u===a)return a.$v;throw u;}else d=this.$$is_lambda?this.apply(null,l):b.yieldX(this,l);return d},G.$$arity=-1);b.alias(t,"[]","call");b.alias(t,"===","call");b.alias(t,"yield","call");b.def(t,"$to_proc",O=function(){return this},O.$$arity=0);b.def(t,"$lambda?",
N=function(){return!!this.$$is_lambda},N.$$arity=0);b.def(t,"$arity",y=function(){return this.$$is_curried?-1:this.$$arity},y.$$arity=0);b.def(t,"$source_location",l=function(){return B},l.$$arity=0);b.def(t,"$binding",oa=function(){this.$$is_curried&&this.$raise(E(z,"ArgumentError"),"Can't create Binding");return B},oa.$$arity=0);b.def(t,"$parameters",R=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var b=[],g;var a=0;for(g=this.$$parameters.length;a<
g;a++){var d=this.$$parameters[a];"req"===d[0]&&(d=["opt",d[1]]);b.push(d)}return b}return[]},R.$$arity=0);b.def(t,"$curry",C=function(b){function g(){var d=v.call(arguments),u=d.length;u>b&&a.$$is_lambda&&!a.$$is_curried&&a.$raise(E(z,"ArgumentError"),"wrong number of arguments ("+u+" for "+b+")");if(u>=b)return a.$call.apply(a,d);u=function(){return g.apply(null,d.concat(v.call(arguments)))};u.$$is_lambda=a.$$is_lambda;u.$$is_curried=!0;return u}var a=this;void 0===b?b=a.length:(b=E(z,"Opal")["$coerce_to!"](b,
E(z,"Integer"),"to_int"),a.$$is_lambda&&b!==a.length&&a.$raise(E(z,"ArgumentError"),"wrong number of arguments ("+b+" for "+a.length+")"));g.$$is_lambda=a.$$is_lambda;g.$$is_curried=!0;return g},C.$$arity=-1);b.def(t,"$dup",J=function(){var b=this.$$original_proc||this,g=function(){return b.apply(this,arguments)},a;for(a in this)this.hasOwnProperty(a)&&(g[a]=this[a]);return g},J.$$arity=0);return b.alias(t,"clone","dup")}(t[0],Function,t)};
Opal.modules["corelib/method"]=function(b){var t=[],B=b.nil,E=b.const_get_relative,v=b.klass,q=b.truthy;b.add_stubs("$attr_reader $arity $new $class $join $source_location $raise".split(" "));(function(g,$super,h){g=v(g,$super,"Method");var t=[g].concat(h),z,m,P,O,N,y,l,oa,R;g.$$prototype.method=g.$$prototype.receiver=g.$$prototype.owner=g.$$prototype.name=B;g.$attr_reader("owner","receiver","name");b.def(g,"$initialize",z=function(b,g,l,h){this.receiver=b;this.owner=g;this.name=h;return this.method=
l},z.$$arity=4);b.def(g,"$arity",m=function(){return this.method.$arity()},m.$$arity=0);b.def(g,"$parameters",P=function(){return this.method.$$parameters},P.$$arity=0);b.def(g,"$source_location",O=function(){var b;return q(b=this.method.$$source_location)?b:["(eval)",0]},O.$$arity=0);b.def(g,"$comments",N=function(){var b;return q(b=this.method.$$comments)?b:[]},N.$$arity=0);b.def(g,"$call",y=function(g){var l=y.$$p,h=l||B;l&&(y.$$p=null);l&&(y.$$p=null);l=b.slice.call(arguments,0,arguments.length);
this.method.$$p=h;return this.method.apply(this.receiver,l)},y.$$arity=-1);b.alias(g,"[]","call");b.def(g,"$unbind",l=function(){return E(t,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},l.$$arity=0);b.def(g,"$to_proc",oa=function(){var b=this.$call.bind(this);b.$$unbound=this.method;b.$$is_lambda=!0;b.$$arity=this.method.$$arity;b.$$parameters=this.method.$$parameters;return b},oa.$$arity=0);return(b.def(g,"$inspect",R=function(){return"#<"+this.$class()+": "+this.receiver.$class()+
"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},R.$$arity=0),B)&&"inspect"})(t[0],null,t);return function(g,$super,h){g=v(g,$super,"UnboundMethod");var t=[g].concat(h),z,m,P,O,N,y,l;g.$$prototype.method=g.$$prototype.owner=g.$$prototype.name=g.$$prototype.source=B;g.$attr_reader("source","owner","name");b.def(g,"$initialize",z=function(b,g,l,h){this.source=b;this.owner=g;this.method=l;return this.name=h},z.$$arity=4);b.def(g,"$arity",m=function(){return this.method.$arity()},
m.$$arity=0);b.def(g,"$parameters",P=function(){return this.method.$$parameters},P.$$arity=0);b.def(g,"$source_location",O=function(){var b;return q(b=this.method.$$source_location)?b:["(eval)",0]},O.$$arity=0);b.def(g,"$comments",N=function(){var b;return q(b=this.method.$$comments)?b:[]},N.$$arity=0);b.def(g,"$bind",y=function(g){if(this.owner.$$is_module||b.is_a(g,this.owner))return E(t,"Method").$new(g,this.owner,this.method,this.name);this.$raise(E(t,"TypeError"),"can't bind singleton method to a different class (expected "+
g+".kind_of?("+this.owner+" to be true)")},y.$$arity=1);return(b.def(g,"$inspect",l=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},l.$$arity=0),B)&&"inspect"}(t[0],null,t)};
Opal.modules["corelib/variables"]=function(b){var t=[],B=b.nil,E=b.const_get_relative,v=b.gvars,q=b.hash2;b.add_stubs(["$new"]);v["&"]=v["~"]=v["`"]=v["'"]=B;v.LOADED_FEATURES=v['"']=b.loaded_features;v.LOAD_PATH=v[":"]=[];v["/"]="\n";v[","]=B;b.const_set(t[0],"ARGV",[]);b.const_set(t[0],"ARGF",E(t,"Object").$new());b.const_set(t[0],"ENV",q([],{}));v.VERBOSE=!1;v.DEBUG=!1;return v.SAFE=0};
Opal.modules["opal/regexp_anchors"]=function(b){var t=[],B=b.nil,E=b.const_get_relative,v=b.module;b.add_stubs(["$==","$new"]);t=[v(t[0],"Opal")].concat(t);b.const_set(t[0],"REGEXP_START",E(t,"RUBY_ENGINE")["$=="]("opal")?"^":B);b.const_set(t[0],"REGEXP_END",E(t,"RUBY_ENGINE")["$=="]("opal")?"$":B);b.const_set(t[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");b.const_set(t[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
b.const_set(t[0],"INLINE_IDENTIFIER_REGEXP",E(t,"Regexp").$new("[^"+E(t,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+E(t,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));b.const_set(t[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");b.const_set(t[0],"CONST_NAME_REGEXP",E(t,"Regexp").$new(""+E(t,"REGEXP_START")+"(::)?[A-Z][^"+E(t,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+E(t,"REGEXP_END")))};
Opal.modules["opal/mini"]=function(b){var t=b.top;b.add_stubs(["$require"]);t.$require("opal/base");t.$require("corelib/nil");t.$require("corelib/boolean");t.$require("corelib/string");t.$require("corelib/comparable");t.$require("corelib/enumerable");t.$require("corelib/enumerator");t.$require("corelib/array");t.$require("corelib/hash");t.$require("corelib/number");t.$require("corelib/range");t.$require("corelib/proc");t.$require("corelib/method");t.$require("corelib/regexp");t.$require("corelib/variables");
return t.$require("opal/regexp_anchors")};
Opal.modules["corelib/string/encoding"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}var B,E,v,q,g,G=b.top,h=[],F=b.nil,z=b.const_get_qualified,m=b.const_get_relative,P=b.klass,O=b.hash2,N=b.truthy,y=b.send;b.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $== $default_external $upcase $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $dup $bytesize $enum_for $coerce_to! $find $<".split(" "));G.$require("corelib/string");
(function(g,$super,h){g=P(g,$super,"Encoding");var l=[g].concat(h),q,z,v,a,d,u,D,K,r;g.$$prototype.ascii=g.$$prototype.dummy=g.$$prototype.name=F;b.defineProperty(g,"$$register",{});b.defs(g,"$register",q=function(a,b){var c=q.$$p,d=c||F,k,g,n=F,e=F,f=F;c&&(q.$$p=null);c&&(q.$$p=null);null==b&&(b=O([],{}));n=t([a],N(k=b["$[]"]("aliases"))?k:[]);e=y(m(l,"Class"),"new",[this],d.$to_proc()).$new(a,n,N(k=b["$[]"]("ascii"))?k:!1,N(k=b["$[]"]("dummy"))?k:!1);f=this.$$register;return y(n,"each",[],(g=function(a){var b=
g.$$s||this;null==a&&(a=F);b.$const_set(a.$sub("-","_"),e);return f["$$"+a]=e},g.$$s=this,g.$$arity=1,g))},q.$$arity=-2);b.defs(g,"$find",z=function(a){var b;if(a["$=="]("default_external"))return this.$default_external();var d=this.$$register;d=N(b=d["$$"+a])?b:d["$$"+a.$upcase()];N(d)||this.$raise(m(l,"ArgumentError"),"unknown encoding name - "+a);return d},z.$$arity=1);(function(a,b){[a].concat(b);return a.$attr_accessor("default_external")})(b.get_singleton_class(g),l);g.$attr_reader("name","names");
b.def(g,"$initialize",v=function(a,b,d,p){this.name=a;this.names=b;this.ascii=d;return this.dummy=p},v.$$arity=4);b.def(g,"$ascii_compatible?",a=function(){return this.ascii},a.$$arity=0);b.def(g,"$dummy?",d=function(){return this.dummy},d.$$arity=0);b.def(g,"$to_s",u=function(){return this.name},u.$$arity=0);b.def(g,"$inspect",D=function(){return"#<Encoding:"+this.name+(N(this.dummy)?" (dummy)":F)+">"},D.$$arity=0);b.def(g,"$each_byte",K=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(m(l,
"NotImplementedError"))},K.$$arity=-1);b.def(g,"$bytesize",r=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(m(l,"NotImplementedError"))},r.$$arity=-1);(function(a,$super,b){[P(a,$super,"EncodingError")].concat(b);return F})(l[0],m(l,"StandardError"),l);return function(a,$super,b){[P(a,$super,"CompatibilityError")].concat(b);return F}(l[0],m(l,"EncodingError"),l)})(h[0],null,h);y(m(h,"Encoding"),"register",["UTF-8",O(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(B=
function(){var g=B.$$s||this,h,m;b.def(g,"$each_byte",h=function(g){var l=h.$$p,m=l||F;l&&(h.$$p=null);l&&(h.$$p=null);l=Infinity;for(var q,a=g.length,d=null,u=0;u<a;++u){q=g.charCodeAt(u);if(55295<q&&57344>q){if(!d){if(56319<q){-1<(l-=3)&&(b.yield1(m,239),b.yield1(m,191),b.yield1(m,189));continue}else if(u+1===a){-1<(l-=3)&&(b.yield1(m,239),b.yield1(m,191),b.yield1(m,189));continue}d=q;continue}if(56320>q){-1<(l-=3)&&(b.yield1(m,239),b.yield1(m,191),b.yield1(m,189));d=q;continue}q=(d-55296<<10|q-
56320)+65536}else d&&-1<(l-=3)&&(b.yield1(m,239),b.yield1(m,191),b.yield1(m,189));d=null;if(128>q){if(0>--l)break;b.yield1(m,q)}else if(2048>q){if(0>(l-=2))break;b.yield1(m,q>>6|192);b.yield1(m,q&63|128)}else if(65536>q){if(0>(l-=3))break;b.yield1(m,q>>12|224);b.yield1(m,q>>6&63|128);b.yield1(m,q&63|128)}else if(1114112>q){if(0>(l-=4))break;b.yield1(m,q>>18|240);b.yield1(m,q>>12&63|128);b.yield1(m,q>>6&63|128);b.yield1(m,q&63|128)}}},h.$$arity=1);return(b.def(g,"$bytesize",m=function(b){return b.$bytes().$length()},
m.$$arity=1),F)&&"bytesize"},B.$$s=G,B.$$arity=0,B));y(m(h,"Encoding"),"register",["UTF-16LE"],(E=function(){var g=E.$$s||this,h,m;b.def(g,"$each_byte",h=function(g){var l=h.$$p,m=l||F;l&&(h.$$p=null);l&&(h.$$p=null);l=0;for(var q=g.length;l<q;l++){var a=g.charCodeAt(l);b.yield1(m,a&255);b.yield1(m,a>>8)}},h.$$arity=1);return(b.def(g,"$bytesize",m=function(b){return b.$bytes().$length()},m.$$arity=1),F)&&"bytesize"},E.$$s=G,E.$$arity=0,E));y(m(h,"Encoding"),"register",["UTF-16BE"],(v=function(){var g=
v.$$s||this,h,m;b.def(g,"$each_byte",h=function(g){var l=h.$$p,m=l||F;l&&(h.$$p=null);l&&(h.$$p=null);l=0;for(var q=g.length;l<q;l++){var a=g.charCodeAt(l);b.yield1(m,a>>8);b.yield1(m,a&255)}},h.$$arity=1);return(b.def(g,"$bytesize",m=function(b){return b.$bytes().$length()},m.$$arity=1),F)&&"bytesize"},v.$$s=G,v.$$arity=0,v));y(m(h,"Encoding"),"register",["UTF-32LE"],(q=function(){var g=q.$$s||this,h,m;b.def(g,"$each_byte",h=function(g){var l=h.$$p,m=l||F;l&&(h.$$p=null);l&&(h.$$p=null);l=0;for(var q=
g.length;l<q;l++){var a=g.charCodeAt(l);b.yield1(m,a&255);b.yield1(m,a>>8)}},h.$$arity=1);return(b.def(g,"$bytesize",m=function(b){return b.$bytes().$length()},m.$$arity=1),F)&&"bytesize"},q.$$s=G,q.$$arity=0,q));y(m(h,"Encoding"),"register",["ASCII-8BIT",O(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(g=function(){var l=g.$$s||this,h,m;b.def(l,"$each_byte",h=function(g){var l=h.$$p,m=l||F;l&&(h.$$p=null);l&&(h.$$p=null);l=0;for(var q=g.length;l<q;l++){var a=
g.charCodeAt(l);b.yield1(m,a&255);b.yield1(m,a>>8)}},h.$$arity=1);return(b.def(l,"$bytesize",m=function(b){return b.$bytes().$length()},m.$$arity=1),F)&&"bytesize"},g.$$s=G,g.$$arity=0,g));return function(g,$super,h){g=P(g,$super,"String");var l=[g].concat(h),q,t,v,a,d,u,D;g.$$prototype.bytes=g.$$prototype.internal_encoding=F;g.$attr_reader("encoding");g.$attr_reader("internal_encoding");b.defineProperty(String.prototype,"bytes",F);b.defineProperty(String.prototype,"encoding",z(m(l,"Encoding"),"UTF_8"));
b.defineProperty(String.prototype,"internal_encoding",z(m(l,"Encoding"),"UTF_8"));b.def(g,"$bytes",q=function(){var a;this.bytes=N(a=this.bytes)?a:this.$each_byte().$to_a();return this.bytes.$dup()},q.$$arity=0);b.def(g,"$bytesize",t=function(){return this.internal_encoding.$bytesize(this)},t.$$arity=0);b.def(g,"$each_byte",v=function(){var a=v.$$p,b=a||F;a&&(v.$$p=null);a&&(v.$$p=null);if(b===F)return this.$enum_for("each_byte");y(this.internal_encoding,"each_byte",[this],b.$to_proc());return this},
v.$$arity=0);b.def(g,"$encode",a=function(a){return b.enc(this,a)},a.$$arity=1);b.def(g,"$force_encoding",d=function(a){if(a===this.encoding)return this;a=m(l,"Opal")["$coerce_to!"](a,m(l,"String"),"to_s");a=m(l,"Encoding").$find(a);if(a===this.encoding)return this;this.encoding=a;return this},d.$$arity=1);b.def(g,"$getbyte",u=function(a){var b=this.$bytes();a=m(l,"Opal")["$coerce_to!"](a,m(l,"Integer"),"to_int");var d=b.$length();d="number"===typeof d&&"number"===typeof a?d<a:d["$<"](a);return N(d)?
F:b["$[]"](a)},u.$$arity=1);return(b.def(g,"$valid_encoding?",D=function(){return!0},D.$$arity=0),F)&&"valid_encoding?"}(h[0],null,h)};
Opal.modules["corelib/struct"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function B(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}function E(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}function v(b,g){return"number"===typeof b&&"number"===typeof g?b>=g:b["$>="](g)}function q(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}var g=b.top,G=[],h=b.nil,F=b.const_get_relative,z=b.klass,m=b.hash2,
P=b.truthy,O=b.send;b.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $alias_method $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $class $last $> $length $- $keys $any? $join $[] $[]= $each_with_index $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $each_pair $inspect $each_with_object $flatten $to_a $respond_to? $dig".split(" "));g.$require("corelib/enumerable");
return function(g,$super,l){g=z(g,$super,"Struct");var G=[g].concat(l),N,C,J,ca,aa,a,d,u,D,K,r,k,c,A,p,Q,I,n,e;g.$include(F(G,"Enumerable"));b.defs(g,"$new",N=function(a,c,e){var f=N.$$p,d=f||h,n,p;var g=h;f&&(N.$$p=null);f&&(N.$$p=null);var k=b.slice.call(arguments,1,arguments.length);g=b.extract_kwargs(k);if(null==g)g=m([],{});else if(!g.$$is_hash)throw b.ArgumentError.$new("expected kwargs");f=g.$$smap.keyword_init;null==f&&(f=!1);if(P(a))try{a=F(G,"Opal")["$const_name!"](a)}catch(ma){if(b.rescue(ma,
[F(G,"TypeError"),F(G,"NameError")]))try{k.$unshift(a),a=h}finally{b.pop_exception()}else throw ma;}O(k,"map",[],(n=function(a){null==a&&(a=h);return F(G,"Opal")["$coerce_to!"](a,F(G,"String"),"to_str")},n.$$s=this,n.$$arity=1,n));g=O(F(G,"Class"),"new",[this],(p=function(){var a=p.$$s||this,c;O(k,"each",[],(c=function(a){var b=c.$$s||this;null==a&&(a=h);return b.$define_struct_attribute(a)},c.$$s=a,c.$$arity=1,c));return function(a,c){[a].concat(c);var e;b.def(a,"$new",e=function(a){var c=b.slice.call(arguments,
0,arguments.length);var e=this.$allocate();e.$$data={};O(e,"initialize",b.to_a(c));return e},e.$$arity=-1);return a.$alias_method("[]","new")}(b.get_singleton_class(a),G)},p.$$s=this,p.$$arity=0,p));P(d)&&O(g,"module_eval",[],d.$to_proc());g.$$keyword_init=f;P(a)&&F(G,"Struct").$const_set(a,g);return g},N.$$arity=-2);b.defs(g,"$define_struct_attribute",C=function(a){var b,c;this["$=="](F(G,"Struct"))&&this.$raise(F(G,"ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](a);
O(this,"define_method",[a],(b=function(){return(b.$$s||this).$$data[a]},b.$$s=this,b.$$arity=0,b));return O(this,"define_method",[""+a+"="],(c=function(b){var e=c.$$s||this;null==b&&(b=h);return e.$$data[a]=b},c.$$s=this,c.$$arity=1,c))},C.$$arity=1);b.defs(g,"$members",J=function(){var a;null==this.members&&(this.members=h);this["$=="](F(G,"Struct"))&&this.$raise(F(G,"ArgumentError"),"the Struct class has no members");return this.members=P(a=this.members)?a:[]},J.$$arity=0);b.defs(g,"$inherited",
ca=function(a){var b,c=h;null==this.members&&(this.members=h);c=this.members;return O(a,"instance_eval",[],(b=function(){return(b.$$s||this).members=c},b.$$s=this,b.$$arity=0,b))},ca.$$arity=1);b.def(g,"$initialize",aa=function(a){var c,e,f,d=h,n=h;var p=b.slice.call(arguments,0,arguments.length);if(P(this.$class().$$keyword_init))return d=P(c=p.$last())?c:m([],{}),P(P(c=t(p.$length(),1))?c:1===p.length&&!d.$$is_hash)&&this.$raise(F(G,"ArgumentError"),"wrong number of arguments (given "+p.$length()+
", expected 0)"),n=B(d.$keys(),this.$class().$members()),P(n["$any?"]())&&this.$raise(F(G,"ArgumentError"),"unknown keywords: "+n.$join(", ")),O(this.$class().$members(),"each",[],(e=function(a){var c=e.$$s||this;null==a&&(a=h);a=[a,d["$[]"](a)];O(c,"[]=",b.to_a(a));return a[B(a.length,1)]},e.$$s=this,e.$$arity=1,e));P(t(p.$length(),this.$class().$members().$length()))&&this.$raise(F(G,"ArgumentError"),"struct size differs");return O(this.$class().$members(),"each_with_index",[],(f=function(a,c){var e=
f.$$s||this;null==a&&(a=h);null==c&&(c=h);a=[a,p["$[]"](c)];O(e,"[]=",b.to_a(a));return a[B(a.length,1)]},f.$$s=this,f.$$arity=2,f))},aa.$$arity=-1);b.def(g,"$members",a=function(){return this.$class().$members()},a.$$arity=0);b.def(g,"$hash",d=function(){return F(G,"Hash").$new(this.$$data).$hash()},d.$$arity=0);b.def(g,"$[]",u=function(a){P(F(G,"Integer")["$==="](a))?(P(E(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(F(G,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+
")"),P(v(a,this.$class().$members().$size()))&&this.$raise(F(G,"IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):P(F(G,"String")["$==="](a))?this.$$data.hasOwnProperty(a)||this.$raise(F(G,"NameError").$new("no member '"+a+"' in struct",a)):this.$raise(F(G,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=F(G,"Opal")["$coerce_to!"](a,F(G,"String"),"to_str");return this.$$data[a]},u.$$arity=1);b.def(g,
"$[]=",D=function(a,b){P(F(G,"Integer")["$==="](a))?(P(E(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(F(G,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),P(v(a,this.$class().$members().$size()))&&this.$raise(F(G,"IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):P(F(G,"String")["$==="](a))?P(this.$class().$members()["$include?"](a.$to_sym()))||this.$raise(F(G,
"NameError").$new("no member '"+a+"' in struct",a)):this.$raise(F(G,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=F(G,"Opal")["$coerce_to!"](a,F(G,"String"),"to_str");return this.$$data[a]=b},D.$$arity=2);b.def(g,"$==",K=function(a){function b(a,f){var d;c[a.$__id__()]=!0;e[f.$__id__()]=!0;for(d in a.$$data){var n=a.$$data[d];var p=f.$$data[d];if(F(G,"Struct")["$==="](n)){if(!(c.hasOwnProperty(n.$__id__())&&e.hasOwnProperty(p.$__id__())||b(n,p)))return!1}else if(!n["$=="](p))return!1}return!0}
if(!P(a["$instance_of?"](this.$class())))return!1;var c={},e={};return b(this,a)},K.$$arity=1);b.def(g,"$eql?",r=function(a){function b(a,f){var d;c[a.$__id__()]=!0;e[f.$__id__()]=!0;for(d in a.$$data){var n=a.$$data[d];var p=f.$$data[d];if(F(G,"Struct")["$==="](n)){if(!(c.hasOwnProperty(n.$__id__())&&e.hasOwnProperty(p.$__id__())||b(n,p)))return!1}else if(!n["$eql?"](p))return!1}return!0}if(!P(a["$instance_of?"](this.$class())))return!1;var c={},e={};return b(this,a)},r.$$arity=1);b.def(g,"$each",
k=function(){var a,c,e=k.$$p,d=e||h;e&&(k.$$p=null);if(d===h)return O(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));O(this.$class().$members(),"each",[],(c=function(a){var e=c.$$s||this;null==a&&(a=h);return b.yield1(d,e["$[]"](a))},c.$$s=this,c.$$arity=1,c));return this},k.$$arity=0);b.def(g,"$each_pair",c=function(){var a,e,d=c.$$p,n=d||h;d&&(c.$$p=null);if(n===h)return O(this,"enum_for",["each_pair"],(a=function(){return(a.$$s||this).$size()},a.$$s=
this,a.$$arity=0,a));O(this.$class().$members(),"each",[],(e=function(a){var c=e.$$s||this;null==a&&(a=h);return b.yield1(n,[a,c["$[]"](a)])},e.$$s=this,e.$$arity=1,e));return this},c.$$arity=0);b.def(g,"$length",A=function(){return this.$class().$members().$length()},A.$$arity=0);b.alias(g,"size","length");b.def(g,"$to_a",p=function(){var a;return O(this.$class().$members(),"map",[],(a=function(b){var c=a.$$s||this;null==b&&(b=h);return c["$[]"](b)},a.$$s=this,a.$$arity=1,a))},p.$$arity=0);b.alias(g,
"values","to_a");b.def(g,"$inspect",Q=function(){var a,b,c=h;c="#<struct ";P(P(a=F(G,"Struct")["$==="](this))?this.$class().$name():a)&&(c=q(c,""+this.$class()+" "));c=q(c,O(this.$each_pair(),"map",[],(b=function(a,b){null==a&&(a=h);null==b&&(b=h);return""+a+"="+b.$inspect()},b.$$s=this,b.$$arity=2,b)).$join(", "));return c=q(c,">")},Q.$$arity=0);b.alias(g,"to_s","inspect");b.def(g,"$to_h",I=function(){var a;return O(this.$class().$members(),"each_with_object",[m([],{})],(a=function(c,e){var f=a.$$s||
this;null==c&&(c=h);null==e&&(e=h);c=[c,f["$[]"](c)];O(e,"[]=",b.to_a(c));return c[B(c.length,1)]},a.$$s=this,a.$$arity=2,a))},I.$$arity=0);b.def(g,"$values_at",n=function(a){var c;var e=b.slice.call(arguments,0,arguments.length);e=O(e,"map",[],(c=function(a){null==a&&(a=h);return a.$$is_range?a.$to_a():a},c.$$s=this,c.$$arity=1,c)).$flatten();c=[];for(var f=0,d=e.length;f<d;f++)e[f].$$is_number||this.$raise(F(G,"TypeError"),"no implicit conversion of "+e[f].$class()+" into Integer"),c.push(this["$[]"](e[f]));
return c},n.$$arity=-1);return(b.def(g,"$dig",e=function(a,c){var e=b.slice.call(arguments,1,arguments.length);var f=P(a.$$is_string&&this.$$data.hasOwnProperty(a))?this.$$data[a]||h:h;if(f===h||0===e.length)return f;P(f["$respond_to?"]("dig"))||this.$raise(F(G,"TypeError"),""+f.$class()+" does not have #dig method");return O(f,"dig",b.to_a(e))},e.$$arity=-2),h)&&"dig"}(G[0],null,G)};
Opal.modules["corelib/io"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}var B=[],E=b.nil,v=b.const_get_qualified,q=b.const_get_relative,g=b.klass,G=b.module,h=b.send,F=b.gvars,z=b.truthy,m=E;b.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));(function(m,$super,t){m=g(m,$super,"IO");t=[m].concat(t);var l,v,B,C;m.$$prototype.tty=m.$$prototype.closed=E;b.const_set(t[0],
"SEEK_SET",0);b.const_set(t[0],"SEEK_CUR",1);b.const_set(t[0],"SEEK_END",2);b.def(m,"$tty?",l=function(){return this.tty},l.$$arity=0);b.def(m,"$closed?",v=function(){return this.closed},v.$$arity=0);m.$attr_accessor("write_proc");b.def(m,"$write",B=function(b){this.write_proc(b);return b.$size()},B.$$arity=1);m.$attr_accessor("sync","tty");b.def(m,"$flush",C=function(){return E},C.$$arity=0);(function(g,l){g=G(g,"Writable");[g].concat(l);var m,a,d;b.def(g,"$<<",m=function(a){this.$write(a);return this},
m.$$arity=1);b.def(g,"$print",a=function(a){var d;null==F[","]&&(F[","]=E);var g=b.slice.call(arguments,0,arguments.length);this.$write(h(g,"map",[],(d=function(a){var b=d.$$s||this;null==a&&(a=E);return b.$String(a)},d.$$s=this,d.$$arity=1,d)).$join(F[","]));return E},a.$$arity=-1);b.def(g,"$puts",d=function(a){var d,g=E;null==F["/"]&&(F["/"]=E);var r=b.slice.call(arguments,0,arguments.length);g=F["/"];z(r["$empty?"]())?this.$write(F["/"]):this.$write(h(r,"map",[],(d=function(a){var b=d.$$s||this;
null==a&&(a=E);return b.$String(a).$chomp()},d.$$s=this,d.$$arity=1,d)).$concat([E]).$join(g));return E},d.$$arity=-1)})(t[0],t);return function(g,l){g=G(g,"Readable");var h=[g].concat(l),a,d,u,m;b.def(g,"$readbyte",a=function(){return this.$getbyte()},a.$$arity=0);b.def(g,"$readchar",d=function(){return this.$getc()},d.$$arity=0);b.def(g,"$readline",u=function(a){null==F["/"]&&(F["/"]=E);return this.$raise(q(h,"NotImplementedError"))},u.$$arity=-1);b.def(g,"$readpartial",m=function(a,b){return this.$raise(q(h,
"NotImplementedError"))},m.$$arity=-2)}(t[0],t)})(B[0],null,B);b.const_set(B[0],"STDERR",F.stderr=q(B,"IO").$new());b.const_set(B[0],"STDIN",F.stdin=q(B,"IO").$new());b.const_set(B[0],"STDOUT",F.stdout=q(B,"IO").$new());var P=b.global.console;m=["object"===typeof process&&"object"===typeof process.stdout?function(b){process.stdout.write(b)}:function(b){P.log(b)}];h(q(B,"STDOUT"),"write_proc=",b.to_a(m));m[t(m.length,1)];m=["object"===typeof process&&"object"===typeof process.stderr?function(b){process.stderr.write(b)}:
function(b){P.warn(b)}];h(q(B,"STDERR"),"write_proc=",b.to_a(m));m[t(m.length,1)];q(B,"STDOUT").$extend(v(q(B,"IO"),"Writable"));return q(B,"STDERR").$extend(v(q(B,"IO"),"Writable"))};Opal.modules["corelib/main"]=function(b){var t,B,E=b.top,v=[],q=b.nil,g=b.const_get_relative;b.add_stubs(["$include"]);b.defs(E,"$to_s",t=function(){return"main"},t.$$arity=0);return(b.defs(E,"$include",B=function(b){return g(v,"Object").$include(b)},B.$$arity=1),q)&&"include"};
Opal.modules["corelib/dir"]=function(b){var t=[],B=b.nil,E=b.const_get_relative,v=b.klass,q=b.truthy;b.add_stubs(["$[]"]);return function(g,$super,h){g=v(g,$super,"Dir");h=[g].concat(h);return function(g,h){var m=[g].concat(h),t,v,z;b.def(g,"$chdir",t=function(g){var l=t.$$p,h=l||B,m=B;l&&(t.$$p=null);a:{try{m=b.current_dir;b.current_dir=g;var q=b.yieldX(h,[]);break a}finally{b.current_dir=m}q=void 0}return q},t.$$arity=1);b.def(g,"$pwd",v=function(){return b.current_dir||"."},v.$$arity=0);b.alias(g,
"getwd","pwd");return(b.def(g,"$home",z=function(){var b;return q(b=E(m,"ENV")["$[]"]("HOME"))?b:"."},z.$$arity=0),B)&&"home"}(b.get_singleton_class(g),h)}(t[0],null,t)};
Opal.modules["corelib/file"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}function B(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}var E=[],v=b.nil,q=b.const_get_relative,g=b.klass,G=b.truthy,h=b.range,F=b.send;b.add_stubs("$respond_to? $to_path $pwd $split $sub $+ $unshift $join $home $raise $start_with? $absolute_path $coerce_to! $basename $empty? $rindex $[] $nil? $== $- $length $gsub $find $=~ $map $each_with_index $flatten $reject $to_proc $end_with?".split(" "));return function(z,
$super,E){z=g(z,$super,"File");E=[z].concat(E);var O=v;b.const_set(E[0],"Separator",b.const_set(E[0],"SEPARATOR","/"));b.const_set(E[0],"ALT_SEPARATOR",v);b.const_set(E[0],"PATH_SEPARATOR",":");b.const_set(E[0],"FNM_SYSCASE",0);O=/^[a-zA-Z]:(?:\\|\/)/;return function(g,z){function l(a){G(a["$respond_to?"]("to_path"))&&(a=a.$to_path());return a=q(y,"Opal")["$coerce_to!"](a,q(y,"String"),"to_str")}function E(){return q(y,"ALT_SEPARATOR")===v?b.escape_regexp(q(y,"SEPARATOR")):b.escape_regexp(t(q(y,"SEPARATOR"),
q(y,"ALT_SEPARATOR")))}var y=[g].concat(z),C,J,N,P,a,d,u,D,K;b.def(g,"$absolute_path",C=function(a,b){var c;null==b&&(b=v);var d=q(y,"SEPARATOR");var p=E();var g=[];a=G(a["$respond_to?"]("to_path"))?a.$to_path():a;b=G(c=b)?c:q(y,"Dir").$pwd();c=a.substr(0,d.length)===d||O.test(a);var k=b.substr(0,d.length)===d||O.test(b);G(c)?(c=a.$split(new RegExp("["+p+"]")),a=O.test(a)?"":a.$sub(new RegExp("^(["+p+"]+).*$"),"\\1"),b=!0):(c=t(b.$split(new RegExp("["+p+"]")),a.$split(new RegExp("["+p+"]"))),a=O.test(b)?
"":b.$sub(new RegExp("^(["+p+"]+).*$"),"\\1"),b=k);k=0;for(var n=c.length;k<n;k++)p=c[k],p===v||""===p&&(0===g.length||b)||"."===p&&(0===g.length||b)||(".."===p?g.pop():g.push(p));b||"."===c[0]||g.$unshift(".");d=g.$join(d);G(b)&&(d=t(a,d));return d},C.$$arity=-2);b.def(g,"$expand_path",J=function(a,b){null==b&&(b=v);var c=q(y,"SEPARATOR");var d=E();if(G("~"===a[0]||b&&"~"===b[0])){var p=q(y,"Dir").$home();G(p)||this.$raise(q(y,"ArgumentError"),"couldn't find HOME environment -- expanding `~'");d=
O.test(p)?"":p.$sub(new RegExp("^(["+d+"]+).*$"),"\\1");G(p["$start_with?"](d))||this.$raise(q(y,"ArgumentError"),"non-absolute home");p=t(p,c);c=new RegExp("^\\~(?:"+c+"|$)");a=a.$sub(c,p);G(b)&&(b=b.$sub(c,p))}return this.$absolute_path(a,b)},J.$$arity=-2);b.alias(g,"realpath","expand_path");b.def(g,"$dirname",N=function(a){var b=E();a=l(a);var c=a.match(new RegExp("^["+b+"]"));a=a.replace(new RegExp("["+b+"]+$"),"");a=a.replace(new RegExp("[^"+b+"]+$"),"");a=a.replace(new RegExp("["+b+"]+$"),"");
return""===a?c?"/":".":a},N.$$arity=1);b.def(g,"$basename",P=function(a,d){null==d&&(d=v);var c=E();a=l(a);if(0==a.length)return a;d=d!==v?q(y,"Opal")["$coerce_to!"](d,q(y,"String"),"to_str"):null;a=a.replace(new RegExp("(.)["+c+"]*$"),"$1");a=a.replace(new RegExp("^(?:.*["+c+"])?([^"+c+"]+)$"),"$1");".*"===d?a=a.replace(/\.[^\.]+$/,""):null!==d&&(d=b.escape_regexp(d),a=a.replace(new RegExp(""+d+"$"),""));return a},P.$$arity=-2);b.def(g,"$extname",a=function(a){var d;a=l(a);a=this.$basename(a);if(G(a["$empty?"]()))return"";
var c=a["$[]"](h(1,-1,!1)).$rindex(".");return G(G(d=c["$nil?"]())?d:t(c,1)["$=="](B(a.$length(),1)))?"":a["$[]"](b.Range.$new(t(c,1),-1,!1))},a.$$arity=1);b.def(g,"$exist?",d=function(a){return null!=b.modules[a]},d.$$arity=1);b.alias(g,"exists?","exist?");b.def(g,"$directory?",u=function(a){var d,c=v;c=v;c=[];for(var g in b.modules)c.push(g);a=a.$gsub(new RegExp("(^."+q(y,"SEPARATOR")+"+|"+q(y,"SEPARATOR")+"+$)"));return c=F(c,"find",[],(d=function(b){null==b&&(b=v);return b["$=~"](new RegExp("^"+
a))},d.$$s=this,d.$$arity=1,d))},u.$$arity=1);b.def(g,"$join",D=function(a){var d,c,g=v;var p=b.slice.call(arguments,0,arguments.length);if(G(p["$empty?"]()))return"";g="";p=F(p.$flatten().$each_with_index(),"map",[],(d=function(a,b){null==a&&(a=v);null==b&&(b=v);return G(b["$=="](0)?a["$empty?"]():b["$=="](0))?q(y,"SEPARATOR"):G(p.$length()["$=="](t(b,1))?a["$empty?"]():p.$length()["$=="](t(b,1)))?q(y,"SEPARATOR"):a},d.$$s=this,d.$$arity=2,d));p=F(p,"reject",[],"empty?".$to_proc());F(p,"each_with_index",
[],(c=function(a,b){var c;null==a&&(a=v);null==b&&(b=v);b=p["$[]"](t(b,1));if(G(b["$nil?"]()))return g=""+g+a;G(G(c=a["$end_with?"](q(y,"SEPARATOR")))?b["$start_with?"](q(y,"SEPARATOR")):c)&&(a=a.$sub(new RegExp(""+q(y,"SEPARATOR")+"+$"),""));return g=G(G(c=a["$end_with?"](q(y,"SEPARATOR")))?c:b["$start_with?"](q(y,"SEPARATOR")))?""+g+a:""+g+a+q(y,"SEPARATOR")},c.$$s=this,c.$$arity=2,c));return g},D.$$arity=-1);return(b.def(g,"$split",K=function(a){return a.$split(q(y,"SEPARATOR"))},K.$$arity=1),
v)&&"split"}(b.get_singleton_class(z),E)}(E[0],q(E,"IO"),E)};
Opal.modules["corelib/process"]=function(b){var t=[],B=b.nil,E=b.const_get_qualified,v=b.const_get_relative,q=b.klass,g=b.truthy;b.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));(function(t,$super,F){t=q(t,$super,"Process");var z=[t].concat(F),m,G,O,N;F=B;t.__clocks__=[];b.defs(t,"$__register_clock__",m=function(b,g){null==this.__clocks__&&(this.__clocks__=B);this.$const_set(b,this.__clocks__.$size());return this.__clocks__["$<<"](g)},m.$$arity=2);t.$__register_clock__("CLOCK_REALTIME",
function(){return Date.now()});F=!1;if(b.global.performance)F=function(){return performance.now()};else if(b.global.process&&process.hrtime){var y=process.hrtime();F=function(){var b=process.hrtime(y);return 1E3*b[0]+(b[1]/1E3|0)/1E3}}g(F)&&t.$__register_clock__("CLOCK_MONOTONIC",F);b.defs(t,"$pid",G=function(){return 0},G.$$arity=0);b.defs(t,"$times",O=function(){var b=v(z,"Time").$now().$to_f();return E(v(z,"Benchmark"),"Tms").$new(b,b,b,b,b)},O.$$arity=0);return(b.defs(t,"$clock_gettime",N=function(b,
m){var l,q;null==this.__clocks__&&(this.__clocks__=B);null==m&&(m="float_second");g(l=q=this.__clocks__["$[]"](b))?l:this.$raise(E(v(z,"Errno"),"EINVAL"),"clock_gettime("+b+") "+this.__clocks__["$[]"](b));b=q();switch(m){case "float_second":return b/1E3;case "float_millisecond":return b/1;case "float_microsecond":return 1E3*b;case "second":return b/1E3|0;case "millisecond":return b/1|0;case "microsecond":return 1E3*b|0;case "nanosecond":return 1E6*b|0;default:this.$raise(v(z,"ArgumentError"),"unexpected unit: "+
m)}},N.$$arity=-2),B)&&"clock_gettime"})(t[0],null,t);(function(g,$super,t){g=q(g,$super,"Signal");[g].concat(t);var v;return(b.defs(g,"$trap",v=function(g){b.slice.call(arguments,0,arguments.length);return B},v.$$arity=-1),B)&&"trap"})(t[0],null,t);return function(g,$super,t){g=q(g,$super,"GC");[g].concat(t);var v;return(b.defs(g,"$start",v=function(){return B},v.$$arity=0),B)&&"start"}(t[0],null,t)};
Opal.modules["corelib/unsupported"]=function(b){function t(g){switch(b.config.unsupported_features_severity){case "error":G(q,"Kernel").$raise(G(q,"NotImplementedError"),g);break;case "warning":z[g]||(z[g]=!0,v.$warn(g))}}var B,E,v=b.top,q=[],g=b.nil,G=b.const_get_relative,h=b.klass,F=b.module;b.add_stubs(["$raise","$warn","$%"]);var z={};(function(m,$super,q){m=h(m,$super,"String");var t=[m].concat(q),v,l,z,B,C,E,F,O,a,d,u,D,K,r,k,c,A,p,Q,I,n,e,f;b.def(m,"$<<",v=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},v.$$arity=-1);b.def(m,"$capitalize!",l=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},l.$$arity=-1);b.def(m,"$chomp!",z=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},z.$$arity=-1);b.def(m,"$chop!",B=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},B.$$arity=-1);b.def(m,"$downcase!",C=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},
C.$$arity=-1);b.def(m,"$gsub!",E=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},E.$$arity=-1);b.def(m,"$lstrip!",F=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},F.$$arity=-1);b.def(m,"$next!",O=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},O.$$arity=-1);b.def(m,"$reverse!",a=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},a.$$arity=-1);b.def(m,"$slice!",d=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},d.$$arity=-1);b.def(m,"$squeeze!",u=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},u.$$arity=-1);b.def(m,"$strip!",D=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},
D.$$arity=-1);b.def(m,"$sub!",K=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},K.$$arity=-1);b.def(m,"$succ!",r=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},r.$$arity=-1);b.def(m,"$swapcase!",k=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},k.$$arity=-1);b.def(m,"$tr!",c=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},c.$$arity=-1);b.def(m,"$tr_s!",A=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,"NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},A.$$arity=-1);b.def(m,"$upcase!",p=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},p.$$arity=-1);b.def(m,"$prepend",Q=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("prepend"))},
Q.$$arity=-1);b.def(m,"$[]=",I=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("[]="))},I.$$arity=-1);b.def(m,"$clear",n=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("clear"))},n.$$arity=-1);b.def(m,"$encode!",e=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("encode!"))},e.$$arity=-1);return(b.def(m,"$unicode_normalize!",f=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("unicode_normalize!"))},f.$$arity=-1),g)&&"unicode_normalize!"})(q[0],null,q);(function(g,h){g=F(g,"Kernel");
[g].concat(h);var m,q;b.def(g,"$freeze",m=function(){t("Object freezing is not supported by Opal");return this},m.$$arity=0);b.def(g,"$frozen?",q=function(){t("Object freezing is not supported by Opal");return!1},q.$$arity=0)})(q[0],q);(function(g,h){g=F(g,"Kernel");[g].concat(h);var m,q,v;b.def(g,"$taint",m=function(){t("Object tainting is not supported by Opal");return this},m.$$arity=0);b.def(g,"$untaint",q=function(){t("Object tainting is not supported by Opal");return this},q.$$arity=0);b.def(g,
"$tainted?",v=function(){t("Object tainting is not supported by Opal");return!1},v.$$arity=0)})(q[0],q);(function(m,$super,q){m=h(m,$super,"Module");[m].concat(q);var t,v,l,z;b.def(m,"$public",t=function(l){0===b.slice.call(arguments,0,arguments.length).length&&(this.$$module_function=!1);return g},t.$$arity=-1);b.alias(m,"private","public");b.alias(m,"protected","public");b.alias(m,"nesting","public");b.def(m,"$private_class_method",v=function(g){b.slice.call(arguments,0,arguments.length);return this},
v.$$arity=-1);b.alias(m,"public_class_method","private_class_method");b.def(m,"$private_method_defined?",l=function(b){return!1},l.$$arity=1);b.def(m,"$private_constant",z=function(l){b.slice.call(arguments,0,arguments.length);return g},z.$$arity=-1);b.alias(m,"protected_method_defined?","private_method_defined?");b.alias(m,"public_instance_methods","instance_methods");b.alias(m,"public_instance_method","instance_method");return b.alias(m,"public_method_defined?","method_defined?")})(q[0],null,q);
(function(g,h){g=F(g,"Kernel");[g].concat(h);var m;b.def(g,"$private_methods",m=function(g){b.slice.call(arguments,0,arguments.length);return[]},m.$$arity=-1);b.alias(g,"private_instance_methods","private_methods")})(q[0],q);(function(g,h){g=F(g,"Kernel");var m=[g].concat(h),q;b.def(g,"$eval",q=function(g){b.slice.call(arguments,0,arguments.length);return this.$raise(G(m,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+G(m,
"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},q.$$arity=-1)})(q[0],q);b.defs(v,"$public",B=function(h){b.slice.call(arguments,0,arguments.length);return g},B.$$arity=-1);return(b.defs(v,"$private",E=function(h){b.slice.call(arguments,0,arguments.length);return g},E.$$arity=-1),g)&&"private"};
(function(b){var t=b.top;b.add_stubs(["$require"]);t.$require("opal/base");t.$require("opal/mini");t.$require("corelib/string/encoding");t.$require("corelib/struct");t.$require("corelib/io");t.$require("corelib/main");t.$require("corelib/dir");t.$require("corelib/file");t.$require("corelib/process");return t.$require("corelib/unsupported")})(Opal);
(function(b,t){"object"===typeof module&&module.exports?module.exports=t:"function"===typeof define&&define.amd?define("asciidoctor",["module"],function(b){return t(b.config())}):b.Asciidoctor=t})(this,function(b){function t(a,b,u,l,h){var d=Opal.klass(Opal.Object,a,b,function(){}),k,c,A,p={},D;for(D in u)Object.prototype.hasOwnProperty.call(u,D)&&function(a){var b=u[a];"postConstruct"===a?k=b:"initialize"===a?c=b:"constructor"===a?A=b:(l&&Object.prototype.hasOwnProperty.call(l,a)&&(p[a]=!0),Opal.def(d,
"$"+a,function(){var c=h&&Object.prototype.hasOwnProperty.call(h,a)?h[a](arguments):arguments;return b.apply(this,c)}))}(D);var I="function"===typeof A?function(){for(var a=Array.from(arguments),b=0;b<a.length;b++)"object"===typeof a[b]&&"$$smap"in a[b]&&(a[b]=g(a[b]));a.unshift(null);a=new (Function.prototype.bind.apply(A,a));Object.assign(this,a);"function"===typeof k&&k.bind(this)()}:"function"===typeof c?function(){for(var a=Array.from(arguments),b=0;b<a.length;b++)"object"===typeof a[b]&&"$$smap"in
a[b]&&(a[b]=g(a[b]));c.apply(this,a);"function"===typeof k&&k.bind(this)()}:function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",I));"function"===typeof k&&k.bind(this)()};Opal.def(d,"$initialize",I);Opal.def(d,"super",function(a){if("function"===typeof a)Opal.send(this,Opal.find_super_dispatcher(this,a.name,a));else{for(var b=Array.from(arguments),c=0;c<b.length;c++)"object"===typeof b[c]&&(b[c]=q(b[c]));Opal.send(this,Opal.find_super_dispatcher(this,"initialize",I),b)}});if(l)for(var n in l)Object.prototype.hasOwnProperty.call(l,
n)&&!Object.prototype.hasOwnProperty.call(p,n)&&function(a){var b=l[a];Opal.def(d,"$"+a,function(){return b.apply(this,arguments)})}(n);return d}function B(a,b){var d=Opal.const_get_qualified(Opal.Logger,"Formatter");return t(d,a,b,{},{call:function(a){for(var b=0;b<a.length;b++)"object"===typeof a[b]&&"$$smap"in a[b]&&(a[b]=g(a[b]));return a}})}function E(a,b){var d=Opal.const_get_qualified(Opal.Asciidoctor,"Logger");return t(d,a,b,{},{add:function(a){if(2<=a.length&&"object"===typeof a[2]&&"$$smap"in
a[2]){var b=g(a[2]);b.getText=function(){return this.text};b.getSourceLocation=function(){return this.source_location};b.$inspect=function(){var a=this.getSourceLocation();return a?a.getPath()+": line "+a.getLineNumber()+": "+this.getText():this.getText()};a[2]=b}1<=a.length&&(a[1]=a[1]===Opal.nil?void 0:a[1]);return a}})}function v(a,b,g){a=Opal.const_get_qualified(C,a);return t(a,b,g,{"handles?":function(){return!0}})}Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(a){var b=[],g=a.nil,
l=a.const_get_relative,h=a.klass;a.add_stubs(["$new"]);return function(b,$super,c){b=h(b,$super,"File");var d=[b].concat(c),p;return(a.defs(b,"$read",p=function(a){var b="",c=-1;try{var e=new XMLHttpRequest;e.open("GET",a,!1);e.addEventListener("load",function(){c=this.status;if(0===c||200===c)b=this.responseText});e.overrideMimeType("text/plain");e.send()}catch(f){throw l(d,"IOError").$new("Error reading file or directory: "+a+"; reason: "+f.message);}if(404===c||0===c&&!b)throw l(d,"IOError").$new("No such file or directory: "+
a);return b},p.$$arity=1),g)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/browser"]=function(a){var d=a.top,g=[];a.add_stubs(["$require"]);if("object"===typeof b&&"object"===typeof b.runtime){var l=b.runtime;var h=l.platform;var r=l.engine;var k=l.framework;l=l.ioModule}h=h||"browser";r=r||"";k=k||"";a.const_set(g[0],"JAVASCRIPT_IO_MODULE",l||"xmlhttprequest");a.const_set(g[0],"JAVASCRIPT_PLATFORM",h);a.const_set(g[0],"JAVASCRIPT_ENGINE",r);a.const_set(g[0],"JAVASCRIPT_FRAMEWORK",
k);return d.$require("asciidoctor/js/opal_ext/browser/file")};Opal.modules["asciidoctor/js/asciidoctor_ext/browser/abstract_node"]=function(a){var b=[],g=a.nil,l=a.const_get_qualified,h=a.const_get_relative,r=a.module,k=a.klass,c=a.hash2,A=a.truthy;a.add_stubs("$uriish? $[] $web_path $path_resolver $descends_from? $base_dir $start_with? $attr? $join $prepare_source_string $read $fetch $warn $logger $normalize_system_path $read_asset".split(" "));return function(b,d){b=[r(b,"Asciidoctor")].concat(d);
(function(b,$super,e){b=k(b,$super,"AbstractNode");var f=[b].concat(e),d,p;b.$$prototype.document=g;a.def(b,"$read_contents",d=function(b,e){var d,p,k,r=g;null==e&&(e=c([],{}));var u=this.document;if(A(A(d=h(f,"Helpers")["$uriish?"](b))?d:A(p=A(k=r=e["$[]"]("start"))?h(f,"Helpers")["$uriish?"](r):k)?b=u.$path_resolver().$web_path(b,r):p))if(A(A(d=A(p=u.$path_resolver()["$descends_from?"](b,u.$base_dir()))?p:b["$start_with?"]("chrome://"))?d:u["$attr?"]("allow-uri-read")))try{return A(e["$[]"]("normalize"))?
h(f,"Helpers").$prepare_source_string(l("::","File").$read(b)).$join(h(f,"LF")):l("::","File").$read(b)}catch(za){if(a.rescue(za,[h(f,"StandardError")]))try{return A(e.$fetch("warn_on_failure",!0))&&this.$logger().$warn("could not retrieve contents of "+(A(d=e["$[]"]("label"))?d:"asset")+" at URI: "+b),g}finally{a.pop_exception()}else throw za;}else return A(e.$fetch("warn_on_failure",!0))&&this.$logger().$warn("cannot retrieve contents of "+(A(d=e["$[]"]("label"))?d:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),
g;else return b=this.$normalize_system_path(b,e["$[]"]("start"),g,c(["target_name"],{target_name:A(d=e["$[]"]("label"))?d:"asset"})),this.$read_asset(b,c(["normalize","warn_on_failure","label"],{normalize:e["$[]"]("normalize"),warn_on_failure:e.$fetch("warn_on_failure",!0),label:e["$[]"]("label")}))},d.$$arity=-2);return(a.def(b,"$generate_data_uri_from_uri",p=function(a,b){null==b&&(b=!1);var c="",e="",f=-1;try{var d=new XMLHttpRequest;d.open("GET",a,!1);d.overrideMimeType("text/plain; charset=x-user-defined");
d.addEventListener("load",function(){f=this.status;if(0===f||200===f){for(var a="",b=this.responseText,d=0,g=b.length;d<g;++d){var p=b.charCodeAt(d)&255;a+=String.fromCharCode(p)}e=btoa(a);c=this.getResponseHeader("content-type")}});d.send(null);if(!c)if(a.endsWith(".jpeg")||a.endsWith(".jpg")||a.endsWith(".jpe"))c="image/jpg";else if(a.endsWith(".png"))c="image/png";else if(a.endsWith(".svg"))c="image/svg+xml";else if(a.endsWith(".bmp"))c="image/bmp";else if(a.endsWith(".tif")||a.endsWith(".tiff"))c=
"image/tiff"}catch(ma){f=0}return 404!==f&&(0!==f||e&&c)?"data:"+c+";base64,"+e:(this.$logger().$warn("could not retrieve image data from URI: "+a),a)},p.$$arity=-2),g)&&"generate_data_uri_from_uri"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/browser/open_uri"]=function(a){var b=[],g=a.nil,l=a.const_get_relative,h=a.module,r=a.send;a.add_stubs(["$new","$path"]);return function(b,c){var d=[h(b,"OpenURI")].concat(c),p;a.defs(l(d,"OpenURI"),"$open_uri",p=function(b,c){var n,
e=(n=p.$$p)||g;n&&(p.$$p=null);n=a.slice.call(arguments,1,arguments.length);n=r(l(d,"File"),"new",[this.$path()].concat(a.to_a(n)));return e!==g?a.yield1(e,n):n},p.$$arity=-2)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/browser/path_resolver"]=function(a){var b=[],g=a.nil,l=a.module,h=a.klass,r=a.truthy;a.add_stubs(["$absolute_path?","$start_with?"]);return function(b,c){b=[l(b,"Asciidoctor")].concat(c);(function(b,$super,c){b=h(b,$super,"PathResolver");[b].concat(c);var d;return(a.def(b,
"$root?",d=function(a){var b;return r(b=this["$absolute_path?"](a))?b:a["$start_with?"]("file://","http://","https://","chrome://")},d.$$arity=1),g)&&"root?"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/browser/reader"]=function(a){var b=[],g=a.nil,l=a.const_get_relative,h=a.module,r=a.klass,k=a.truthy;a.add_stubs("$posixify $new $base_dir $start_with? $uriish? $descends_from? $key? $attributes $replace_next_line $absolute_path? $== $empty? $! $slice $length".split(" "));
return function(b,d){b=[h(b,"Asciidoctor")].concat(d);(function(b,$super,c){b=r(b,$super,"PreprocessorReader");var d=[b].concat(c),e;b.$$prototype.path_resolver=b.$$prototype.document=b.$$prototype.include_stack=b.$$prototype.dir=g;return(a.def(b,"$resolve_include_path",e=function(a,b,c){var e,f,n;c=g;var p=(this.path_resolver=k(e=this.path_resolver)?e:l(d,"PathResolver").$new("\\")).$posixify(a);e=["file",this.document.$base_dir()];var r=e[1];e;if(k(p["$start_with?"]("file://")))a=b=p;else if(k(l(d,
"Helpers")["$uriish?"](p))){if(!k(k(e=this.path_resolver["$descends_from?"](p,r))?e:this.document.$attributes()["$key?"]("allow-uri-read")))return this.$replace_next_line("link:"+a+"["+b+"]");a=b=p}else if(k(this.path_resolver["$absolute_path?"](p)))a=b="file://"+(k(p["$start_with?"]("/"))?"":"/")+p;else if((f=k(n=this.include_stack["$empty?"]())?r:this.dir)["$=="]("."))a=b=p;else if(k(k(e=f["$start_with?"]("file://"))?e:l(d,"Helpers")["$uriish?"](f)["$!"]()))a=""+f+"/"+p,b=k(n)?p:k(k(e=r["$=="]("."))?
e:(c=this.path_resolver["$descends_from?"](a,r))["$!"]())?a:a.$slice(c,a.$length());else if(k(n))a=""+f+"/"+(b=p);else if(k(k(e=c=this.path_resolver["$descends_from?"](f,r))?e:this.document.$attributes()["$key?"]("allow-uri-read")))a=""+f+"/"+p,b=k(c)?a.$slice(c,a.$length()):p;else return this.$replace_next_line("link:"+a+"["+b+"]");return[a,"file",b]},e.$$arity=3),g)&&"resolve_include_path"})(b[0],l(b,"Reader"),b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/browser"]=function(a){var b=
a.top,g=a.nil,l=a.const_get_relative;a.add_stubs(["$==","$require"]);return l([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?(b.$require("asciidoctor/js/asciidoctor_ext/browser/abstract_node"),b.$require("asciidoctor/js/asciidoctor_ext/browser/open_uri"),b.$require("asciidoctor/js/asciidoctor_ext/browser/path_resolver"),b.$require("asciidoctor/js/asciidoctor_ext/browser/reader")):g};Opal.modules.set=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,
b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var h=[],r=a.nil,k=a.const_get_relative,c=a.klass,A=a.hash2,p=a.truthy,m=a.send,I=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $- $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));
(function(d,$super,f){d=c(d,$super,"Set");var n=[d].concat(f),u,h,I,M,q,x,D,K,t,Q,v,z,S,da,B,C,E,na,fa,qa,ja,W,F,G,y,J,va,X;d.$$prototype.hash=r;d.$include(k(n,"Enumerable"));a.defs(d,"$[]",u=function(b){var c=a.slice.call(arguments,0,arguments.length);return this.$new(c)},u.$$arity=-1);a.def(d,"$initialize",h=function(b){var c=h.$$p,f=c||r,d;c&&(h.$$p=null);c&&(h.$$p=null);null==b&&(b=r);this.hash=A([],{});if(p(b["$nil?"]()))return r;p(k(n,"Enumerable")["$==="](b))||this.$raise(k(n,"ArgumentError"),
"value must be enumerable");return p(f)?m(b,"each",[],(d=function(b){var c=d.$$s||this;null==b&&(b=r);return c.$add(a.yield1(f,b))},d.$$s=this,d.$$arity=1,d)):this.$merge(b)},h.$$arity=-1);a.def(d,"$dup",I=function(){return this.$class().$new().$merge(this)},I.$$arity=0);a.def(d,"$-",M=function(a){p(a["$respond_to?"]("each"))||this.$raise(k(n,"ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)},M.$$arity=1);a.alias(d,"difference","-");a.def(d,"$inspect",q=function(){return"#<Set: {"+
this.$to_a().$join(",")+"}>"},q.$$arity=0);a.def(d,"$==",x=function(a){var b,c;return p(this["$equal?"](a))?!0:p(a["$instance_of?"](this.$class()))?this.hash["$=="](a.$instance_variable_get("@hash")):p(p(b=a["$is_a?"](k(n,"Set")))?this.$size()["$=="](a.$size()):b)?m(a,"all?",[],(c=function(a){var b=c.$$s||this;null==b.hash&&(b.hash=r);null==a&&(a=r);return b.hash["$include?"](a)},c.$$s=this,c.$$arity=1,c)):!1},x.$$arity=1);a.def(d,"$add",D=function(c){c=[c,!0];m(this.hash,"[]=",a.to_a(c));c[b(c.length,
1)];return this},D.$$arity=1);a.alias(d,"<<","add");a.def(d,"$classify",K=function(){var c=K.$$p,f=c||r,d,g,p=r;c&&(K.$$p=null);c&&(K.$$p=null);if(f===r)return this.$enum_for("classify");p=m(k(n,"Hash"),"new",[],(d=function(c,f){var n=d.$$s||this;null==c&&(c=r);null==f&&(f=r);f=[f,n.$class().$new()];m(c,"[]=",a.to_a(f));return f[b(f.length,1)]},d.$$s=this,d.$$arity=2,d));m(this,"each",[],(g=function(b){null==b&&(b=r);return p["$[]"](a.yield1(f,b)).$add(b)},g.$$s=this,g.$$arity=1,g));return p},K.$$arity=
0);a.def(d,"$collect!",t=function(){var b=t.$$p,c=b||r,f,d=r;b&&(t.$$p=null);b&&(t.$$p=null);if(c===r)return this.$enum_for("collect!");d=this.$class().$new();m(this,"each",[],(f=function(b){null==b&&(b=r);return d["$<<"](a.yield1(c,b))},f.$$s=this,f.$$arity=1,f));return this.$replace(d)},t.$$arity=0);a.alias(d,"map!","collect!");a.def(d,"$delete",Q=function(a){this.hash.$delete(a);return this},Q.$$arity=1);a.def(d,"$delete?",v=function(a){return p(this["$include?"](a))?(this.$delete(a),this):r},
v.$$arity=1);a.def(d,"$delete_if",z=function(){var b,c,f=z.$$p,d=f||r;f&&(z.$$p=null);if(d===r)return this.$enum_for("delete_if");m(m(this,"select",[],(b=function(b){null==b&&(b=r);return a.yield1(d,b)},b.$$s=this,b.$$arity=1,b)),"each",[],(c=function(a){var b=c.$$s||this;null==b.hash&&(b.hash=r);null==a&&(a=r);return b.hash.$delete(a)},c.$$s=this,c.$$arity=1,c));return this},z.$$arity=0);a.def(d,"$add?",S=function(a){return p(this["$include?"](a))?r:this.$add(a)},S.$$arity=1);a.def(d,"$each",da=
function(){var a=da.$$p,b=a||r;a&&(da.$$p=null);a&&(da.$$p=null);if(b===r)return this.$enum_for("each");m(this.hash,"each_key",[],b.$to_proc());return this},da.$$arity=0);a.def(d,"$empty?",B=function(){return this.hash["$empty?"]()},B.$$arity=0);a.def(d,"$eql?",C=function(a){var b;return this.hash["$eql?"](m(a,"instance_eval",[],(b=function(){var a=b.$$s||this;null==a.hash&&(a.hash=r);return a.hash},b.$$s=this,b.$$arity=0,b)))},C.$$arity=1);a.def(d,"$clear",E=function(){this.hash.$clear();return this},
E.$$arity=0);a.def(d,"$include?",na=function(a){return this.hash["$include?"](a)},na.$$arity=1);a.alias(d,"member?","include?");a.def(d,"$merge",fa=function(a){var b;m(a,"each",[],(b=function(a){var c=b.$$s||this;null==a&&(a=r);return c.$add(a)},b.$$s=this,b.$$arity=1,b));return this},fa.$$arity=1);a.def(d,"$replace",qa=function(a){this.$clear();this.$merge(a);return this},qa.$$arity=1);a.def(d,"$size",ja=function(){return this.hash.$size()},ja.$$arity=0);a.alias(d,"length","size");a.def(d,"$subtract",
W=function(a){var b;m(a,"each",[],(b=function(a){var c=b.$$s||this;null==a&&(a=r);return c.$delete(a)},b.$$s=this,b.$$arity=1,b));return this},W.$$arity=1);a.def(d,"$|",F=function(a){p(a["$respond_to?"]("each"))||this.$raise(k(n,"ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)},F.$$arity=1);a.def(d,"$superset?",G=function(a){var b,c;p(b=a["$is_a?"](k(n,"Set")))?b:this.$raise(k(n,"ArgumentError"),"value must be a set");return p(g(this.$size(),a.$size()))?!1:m(a,"all?",[],(c=
function(a){var b=c.$$s||this;null==a&&(a=r);return b["$include?"](a)},c.$$s=this,c.$$arity=1,c))},G.$$arity=1);a.alias(d,">=","superset?");a.def(d,"$proper_superset?",y=function(a){var b,c;p(b=a["$is_a?"](k(n,"Set")))?b:this.$raise(k(n,"ArgumentError"),"value must be a set");return p(l(this.$size(),a.$size()))?!1:m(a,"all?",[],(c=function(a){var b=c.$$s||this;null==a&&(a=r);return b["$include?"](a)},c.$$s=this,c.$$arity=1,c))},y.$$arity=1);a.alias(d,">","proper_superset?");a.def(d,"$subset?",J=function(a){var b,
c;p(b=a["$is_a?"](k(n,"Set")))?b:this.$raise(k(n,"ArgumentError"),"value must be a set");return p(g(a.$size(),this.$size()))?!1:m(this,"all?",[],(c=function(b){null==b&&(b=r);return a["$include?"](b)},c.$$s=this,c.$$arity=1,c))},J.$$arity=1);a.alias(d,"<=","subset?");a.def(d,"$proper_subset?",va=function(a){var b,c;p(b=a["$is_a?"](k(n,"Set")))?b:this.$raise(k(n,"ArgumentError"),"value must be a set");return p(l(a.$size(),this.$size()))?!1:m(this,"all?",[],(c=function(b){null==b&&(b=r);return a["$include?"](b)},
c.$$s=this,c.$$arity=1,c))},va.$$arity=1);a.alias(d,"<","proper_subset?");a.alias(d,"+","|");a.alias(d,"union","|");return(a.def(d,"$to_a",X=function(){return this.hash.$keys()},X.$$arity=0),r)&&"to_a"})(h[0],null,h);return function(b,c){b=I(b,"Enumerable");var e=[b].concat(c),d;a.def(b,"$to_set",d=function(b,c){var f=d.$$p,n=f||r;f&&(d.$$p=null);f&&(d.$$p=null);f=a.slice.call(arguments,0,arguments.length);if(0<f.length){var g=f[0];f.splice(0,1)}null==g&&(g=k(e,"Set"));return m(g,"new",[this].concat(a.to_a(f)),
n.$to_proc())},d.$$arity=-1)}(h[0],h)};Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(a){var b=[],g=a.nil,l=a.const_get_relative,h=a.module,r=a.send;a.add_stubs(["$new"]);return function(b,c){b=h(b,"Kernel");var d=[b].concat(c),p,k;a.def(b,"$open",p=function(b,c){var e,f=(e=p.$$p)||g;e&&(p.$$p=null);e=a.slice.call(arguments,1,arguments.length);e=r(l(d,"File"),"new",[b].concat(a.to_a(e)));return f!==g?a.yield1(f,e):e},p.$$arity=-2);a.def(b,"$__dir__",k=function(){return""},k.$$arity=0)}(b[0],
b)};Opal.modules["asciidoctor/js/opal_ext/file"]=function(a){var b=[],g=a.nil,l=a.const_get_relative,h=a.klass,r=a.truthy,k=a.gvars;a.add_stubs("$attr_reader $delete $gsub $read $size $to_enum $chomp $each_line $readlines $split".split(" "));(function(b,$super,d){b=h(b,$super,"File");var c=[b].concat(d),p,n,e,f;b.$$prototype.eof=b.$$prototype.path=g;b.$attr_reader("eof");b.$attr_reader("lineno");b.$attr_reader("path");a.def(b,"$initialize",p=function(a,b){null==b&&(b="r");this.path=a;this.contents=
g;this.eof=!1;this.lineno=0;b=b.$delete("b");return this.flags=b=b.$gsub(/:(.*)/,"")},p.$$arity=-2);a.def(b,"$read",n=function(){if(r(this.eof))return"";var a=l(c,"File").$read(this.path);this.eof=!0;this.lineno=a.$size();return a},n.$$arity=0);a.def(b,"$each_line",e=function(b){var f=e.$$p,d=f||g;null==k["/"]&&(k["/"]=g);f&&(e.$$p=null);f&&(e.$$p=null);null==b&&(b=k["/"]);if(r(this.eof))return d!==g?this:[].$to_enum();if(d!==g){f=l(c,"File").$read(this.path);this.eof=!1;this.lineno=0;var n=f.$chomp();
f=f.length!=n.length;n=n.split(b);for(var p=0,h=n.length;p<h;p++)this.lineno+=1,p<h-1||f?a.yield1(d,n[p]+b):a.yield1(d,n[p]);this.eof=!0;return this}return this.$read().$each_line()},e.$$arity=-1);a.def(b,"$readlines",f=function(){return l(c,"File").$readlines(this.path)},f.$$arity=0);return function(b,c){var e=[b].concat(c),f,d,n,p;a.def(b,"$readlines",f=function(a,b){null==k["/"]&&(k["/"]=g);null==b&&(b=k["/"]);return l(e,"File").$read(a).$split(b)},f.$$arity=-2);a.def(b,"$file?",d=function(a){return!0},
d.$$arity=1);a.def(b,"$readable?",n=function(a){return!0},n.$$arity=1);return(a.def(b,"$read",p=function(a){return""},p.$$arity=1),g)&&"read"}(a.get_singleton_class(b),c)})(b[0],null,b);return function(b,$super,d){b=h(b,$super,"IO");var c=[b].concat(d),p;return(a.defs(b,"$read",p=function(a){return l(c,"File").$read(a)},p.$$arity=1),g)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(a){var b=[],g=a.nil,l=a.klass,h=a.send;a.add_stubs(["$[]=","$-"]);return function(b,
$super,c){b=l(b,$super,"MatchData");[b].concat(c);var d;b.$$prototype.matches=g;return(a.def(b,"$[]=",d=function(b,c){b=[b,c];h(this.matches,"[]=",a.to_a(b));c=b.length;c="number"===typeof c?c-1:c["$-"](1);return b[c]},d.$$arity=2),g)&&"[]="}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/string"]=function(a){var b=[],g=a.nil,l=a.klass,h=a.truthy;a.add_stubs("$method_defined? $< $length $bytes $to_s $byteslice $== $>= $- $_original_byteslice $_original_unpack".split(" "));return function(b,$super,
c){b=l(b,$super,"String");[b].concat(c);var d,p,r;h(b["$method_defined?"]("limit_bytesize"))||a.def(b,"$limit_bytesize",d=function(a){var b=this.$bytes().$length();b="number"===typeof a&&"number"===typeof b?a<b:a["$<"](b);return h(b)?this.$byteslice(0,a).$to_s():this.$to_s()},d.$$arity=1);h(b["$method_defined?"]("limit"))||a.alias(b,"limit","limit_bytesize");a.alias(b,"_original_byteslice","byteslice");a.def(b,"$byteslice",p=function(a,b){var c;null==b&&(b=1);return h(h(c=a["$=="](3)?"number"===typeof b&&
"number"===typeof a?b>=a:b["$>="](a):a["$=="](3))?65279===this.charCodeAt():c)?this.substr(1).$byteslice(0,"number"===typeof b?b-3:b["$-"](3)):this.$_original_byteslice(a,b)},p.$$arity=-2);a.alias(b,"_original_unpack","unpack");return(a.def(b,"$unpack",r=function(a){if(a["$=="]("C3")){if(h(65279===this.charCodeAt()))return[239,187,191];a=[];for(var b=0;3>b;b++)b<this.length?a.push(this.charCodeAt(b)):a.push(g);return a}return this.$_original_unpack(a)},r.$$arity=1),g)&&"unpack"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/array"]=
function(a){var b=[],g=a.nil,l=a.const_get_qualified,h=a.klass;a.add_stubs(["$==","$strict_encode64","$_original_pack"]);return function(b,$super,c){b=h(b,$super,"Array");[b].concat(c);var d;a.alias(b,"_original_pack","pack");return(a.def(b,"$pack",d=function(a){return a["$=="]("m0")?l("::","Base64").$strict_encode64(this):this.$_original_pack(this)},d.$$arity=1),g)&&"pack"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/uri"]=function(a){var b=[],g=a.const_get_relative,l=a.module;a.add_stubs(["$extend"]);
return function(b,d){b=l(b,"URI");var k=[b].concat(d),c,r;a.defs(b,"$parse",c=function(a){return a.$extend(g(k,"URI"))},c.$$arity=1);a.def(b,"$path",r=function(){return this},r.$$arity=0)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/base64"]=function(a){var b=[],g=a.module,l=a.hash2,h=a.truthy;a.add_stubs(["$delete"]);return function(b,d){b=g(b,"Base64");[b].concat(d);var c,k,p,r,u,n;var e=a.global.btoa||function(a){return(a instanceof Buffer?a:Buffer.from(a.toString(),"binary")).toString("base64")};
var f=a.global.atob||function(a){return Buffer.from(a,"base64").toString("binary")};a.defs(b,"$decode64",c=function(a){return f(a.replace(/\r?\n/g,""))},c.$$arity=1);a.defs(b,"$encode64",k=function(a){return e(a).replace(/(.{60})/g,"$1\n").replace(/([^\n])$/g,"$1\n")},k.$$arity=1);a.defs(b,"$strict_decode64",p=function(a){return f(a)},p.$$arity=1);a.defs(b,"$strict_encode64",r=function(a){return e(a)},r.$$arity=1);a.defs(b,"$urlsafe_decode64",u=function(a){return f(a.replace(/\-/g,"+").replace(/_/g,
"/"))},u.$$arity=1);a.defs(b,"$urlsafe_encode64",n=function(b,c){if(null==c)c=l([],{});else if(!c.$$is_hash)throw a.ArgumentError.$new("expected kwargs");c=c.$$smap.padding;null==c&&(c=!0);b=e(b).replace(/\+/g,"-").replace(/\//g,"_");h(c)||(b=b.$delete("="));return b},n.$$arity=-2)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/number"]=function(a){var b=[],g=a.nil,l=a.const_get_relative,h=a.klass,r=a.truthy;a.add_stubs(["$coerce_to!","$>"]);return function(b,$super,d){b=h(b,$super,"Number");var p=
[b].concat(d),k;return(a.def(b,"$round",k=function(a){a=l(p,"Opal")["$coerce_to!"](a,l(p,"Integer"),"to_int");return r("number"===typeof a?0<a:a["$>"](0))?Number(this.toFixed(a)):Math.round(this)},k.$$arity=-1),g)&&"round"}(b[0],l(b,"Numeric"),b)};Opal.modules["asciidoctor/js/opal_ext"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/opal_ext/kernel");b.$require("asciidoctor/js/opal_ext/file");b.$require("asciidoctor/js/opal_ext/match_data");b.$require("asciidoctor/js/opal_ext/string");
b.$require("asciidoctor/js/opal_ext/array");b.$require("asciidoctor/js/opal_ext/uri");b.$require("asciidoctor/js/opal_ext/base64");b.$require("asciidoctor/js/opal_ext/number");a.config.unsupported_features_severity="ignore";b.$require("asciidoctor/js/opal_ext/browser")};Opal.modules["asciidoctor/js/rx"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var g=[],l=a.nil,h=a.const_get_relative,r=a.module,k=a.send,c=a.gvars,m=a.truthy;a.add_stubs(["$gsub","$+",
"$unpack_hex_range"]);return function(d,g){d=r(d,"Asciidoctor");var p=[d].concat(g),n;a.const_set(p[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/);a.defs(d,"$unpack_hex_range",n=function(a){var b;return k(a,"gsub",[h(p,"HEX_RANGE_RX")],(b=function(){var a,b;return"\\u"+((a=c["~"])===l?l:a["$[]"](1))+(m(a=(b=c["~"])===l?l:b["$[]"](2))?"-\\u"+((b=c["~"])===l?l:b["$[]"](2)):a)},b.$$s=this,b.$$arity=0,b))},n.$$arity=1);a.const_set(p[0],"P_L",b("A-Za-z",d.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC")));
a.const_set(p[0],"P_Nl",d.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF"));a.const_set(p[0],"P_Nd",b("0-9",d.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19")));a.const_set(p[0],
"P_Pc",d.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F"));a.const_set(p[0],"CC_ALPHA",""+h(p,"P_L")+h(p,"P_Nl"));a.const_set(p[0],"CG_ALPHA","["+h(p,"CC_ALPHA")+"]");a.const_set(p[0],"CC_ALNUM",""+h(p,"CC_ALPHA")+h(p,"P_Nd"));a.const_set(p[0],"CG_ALNUM","["+h(p,"CC_ALNUM")+"]");a.const_set(p[0],"CC_WORD",""+h(p,"CC_ALNUM")+h(p,"P_Pc"));a.const_set(p[0],"CG_WORD","["+h(p,"CC_WORD")+"]");a.const_set(p[0],"CG_BLANK","[ \\t]");a.const_set(p[0],"CC_EOL","(?=\\n|$)");a.const_set(p[0],"CG_GRAPH",
"[^\\s\\x00-\\x1F\\x7F]");a.const_set(p[0],"CC_ALL","[\\s\\S]");a.const_set(p[0],"CC_ANY","[^\\n]")}(g[0],g)};Opal.modules.strscan=function(a){var b=[],g=a.nil,l=a.klass,h=a.send;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $- $private".split(" "));return function(b,$super,c){b=l(b,$super,"StringScanner");[b].concat(c);var d,p,r,u,n,e,f,m,q,D,t,M,K,x,v,z,B,ta,ka,C,S,da,E,F,G;b.$$prototype.pos=b.$$prototype.string=b.$$prototype.working=b.$$prototype.matched=b.$$prototype.prev_pos=
b.$$prototype.match=g;b.$attr_reader("pos");b.$attr_reader("matched");a.def(b,"$initialize",d=function(a){this.string=a;this.pos=0;this.matched=g;this.working=a;return this.match=[]},d.$$arity=1);b.$attr_reader("string");a.def(b,"$beginning_of_line?",p=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},p.$$arity=0);a.alias(b,"bol?","beginning_of_line?");a.def(b,"$scan",r=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=g:"object"===typeof a?(this.prev_pos=
this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):g},r.$$arity=1);a.def(b,"$scan_until",u=function(a){a=this.$anchor(a);for(var b=this.pos,c=this.working,e;;)if(e=a.exec(c),b+=1,c=c.substr(1),null==e){if(0===c.length)return this.matched=g}else return this.matched=this.string.substr(this.pos,b-this.pos-1+e[0].length),this.prev_pos=b-1,this.pos=
b,this.working=c.substr(e[0].length),this.matched},u.$$arity=1);a.def(b,"$[]",n=function(a){var b=this.match;0>a&&(a+=b.length);return 0>a||a>=b.length||null==b[a]?g:b[a]},n.$$arity=1);a.def(b,"$check",e=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=g:this.matched=a[0]},e.$$arity=1);a.def(b,"$check_until",f=function(a){var b=this.prev_pos,c=this.pos;a=this.$scan_until(a);a!==g&&(this.matched=a.substr(-1),this.working=this.string.substr(c));this.prev_pos=b;this.pos=
c;return a},f.$$arity=1);a.def(b,"$peek",m=function(a){return this.working.substring(0,a)},m.$$arity=1);a.def(b,"$eos?",q=function(){return 0===this.working.length},q.$$arity=0);a.def(b,"$exist?",D=function(a){a=a.exec(this.working);return null==a?g:0==a.index?0:a.index+1},D.$$arity=1);a.def(b,"$skip",t=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=g;a=a[0];var b=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=b;this.working=this.working.substring(b);
return b},t.$$arity=1);a.def(b,"$skip_until",M=function(a){a=this.$scan_until(a);if(a===g)return g;this.matched=a.substr(-1);return a.length},M.$$arity=1);a.def(b,"$get_byte",K=function(){var a=g;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=g;return a},K.$$arity=0);a.alias(b,"getch","get_byte");a.def(b,"$match?",x=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return g;
this.prev_pos=this.pos;return a[0].length},x.$$arity=1);a.def(b,"$pos=",v=function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)},v.$$arity=1);a.def(b,"$matched_size",z=function(){return this.matched===g?g:this.matched.length},z.$$arity=0);a.def(b,"$post_match",B=function(){return this.matched===g?g:this.string.substr(this.pos)},B.$$arity=0);a.def(b,"$pre_match",ta=function(){return this.matched===g?g:this.string.substr(0,this.prev_pos)},ta.$$arity=0);a.def(b,
"$reset",ka=function(){this.working=this.string;this.matched=g;return this.pos=0},ka.$$arity=0);a.def(b,"$rest",C=function(){return this.working},C.$$arity=0);a.def(b,"$rest?",S=function(){return 0!==this.working.length},S.$$arity=0);a.def(b,"$rest_size",da=function(){return this.$rest().$size()},da.$$arity=0);a.def(b,"$terminate",E=function(){this.match=g;var b=[this.string.$length()];h(this,"pos=",a.to_a(b));var c=b.length;c="number"===typeof c?c-1:c["$-"](1);return b[c]},E.$$arity=0);a.def(b,"$unscan",
F=function(){this.pos=this.prev_pos;this.match=this.prev_pos=g;return this},F.$$arity=0);b.$private();return(a.def(b,"$anchor",G=function(a){var b=a.toString().match(/\/([^\/]+)$/);b=b?b[1]:void 0;return new RegExp("^(?:"+a.source+")",b)},G.$$arity=1),g)&&"anchor"}(b[0],null,b)};Opal.modules["asciidoctor/js"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/opal_ext");b.$require("asciidoctor/js/rx");return b.$require("strscan")};Opal.modules["asciidoctor/core_ext/nil_or_empty"]=
function(a){var b=[],g=a.nil,l=a.klass,h=a.truthy;a.add_stubs(["$method_defined?"]);(function(b,$super,c){b=l(b,$super,"NilClass");[b].concat(c);return h(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","nil?")})(b[0],null,b);(function(b,$super,c){b=l(b,$super,"String");[b].concat(c);return h(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);(function(b,$super,c){b=l(b,$super,"Array");[b].concat(c);return h(b["$method_defined?"]("nil_or_empty?"))?
g:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);(function(b,$super,c){b=l(b,$super,"Hash");[b].concat(c);return h(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);return function(b,$super,c){b=l(b,$super,"Numeric");[b].concat(c);return h(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","nil?")}(b[0],null,b)};Opal.modules["asciidoctor/core_ext/hash/merge"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?
a<b:a["$<"](b)}var g,l=a.top,h=[],r=a.nil,k=a.const_get_relative,c=a.send,m=a.truthy;a.add_stubs("$== $arity $instance_method $send $new $< $length $dup $> $inject $merge $[]".split(" "));return k(h,"Hash").$instance_method("merge").$arity()["$=="](1)?k(h,"Hash").$send("prepend",c(k(h,"Module"),"new",[],(g=function(){var d;return(a.def(g.$$s||this,"$merge",d=function(g){var p,n=r;d.$$p&&(d.$$p=null);var e=a.slice.call(arguments,0,arguments.length);return m(b(n=e.$length(),1))?this.$dup():m("number"===
typeof n?1<n:n["$>"](1))?c(e,"inject",[this],(p=function(a,b){null==a&&(a=r);null==b&&(b=r);return a.$merge(b)},p.$$s=this,p.$$arity=2,p)):c(this,a.find_super_dispatcher(this,"merge",d,!1),[e["$[]"](0)],null)},d.$$arity=-1),r)&&"merge"},g.$$s=l,g.$$arity=0,g))):r};Opal.modules["asciidoctor/core_ext/match_data/names"]=function(a){var b=[],g=a.nil,l=a.const_get_relative,h=a.truthy,r=a.klass;a.add_stubs(["$method_defined?"]);return h(l(b,"MatchData")["$method_defined?"]("names"))?g:function(b,$super,
d){b=r(b,$super,"MatchData");[b].concat(d);var p;return(a.def(b,"$names",p=function(){return[]},p.$$arity=0),g)&&"names"}(b[0],null,b)};Opal.modules["asciidoctor/core_ext"]=function(a){var b=a.top,g=a.nil,l=a.const_get_relative;a.add_stubs(["$=="]);b.$require("asciidoctor/core_ext.rb/../core_ext/nil_or_empty");b.$require("asciidoctor/core_ext.rb/../core_ext/hash/merge");return l([],"RUBY_ENGINE")["$=="]("opal")?b.$require("asciidoctor/core_ext.rb/../core_ext/match_data/names"):g};Opal.modules["asciidoctor/helpers"]=
function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var l=[],h=a.nil,r=a.const_get_qualified,k=a.const_get_relative,c=a.module,m=a.truthy,p=a.gvars,q=a.send,I=a.hash2;a.add_stubs("$module_function $require $include? $include $== $=== $path $message $raise $warn $logger $chomp $empty? $slice $unpack $[] $byteslice $bytesize $[]= $- $map $rstrip $encode $encoding $nil_or_empty? $!= $tap $each_line $<< $! $start_with? $match? $gsub $rindex $index $basename $extname $length $directory? $dirname $mkdir_p $mkdir $private_constant $join $divmod $* $+ $to_s $to_i $succ $class_for_name $const_get".split(" "));
return function(d,e){d=[c(d,"Asciidoctor")].concat(e);(function(e,d){e=c(e,"Helpers");var f=[e].concat(d),n,l,u,A,x,t,D,K,Q,V,v,z,da,B,C,E,na;e.$module_function();a.def(e,"$require_library",n=function(b,c,e){var d=h,g=h;null==p["!"]&&(p["!"]=h);null==c&&(c=!0);null==e&&(e="abort");try{return this.$require(b)}catch(Aa){if(a.rescue(Aa,[r("::","LoadError")]))try{return m(this["$include?"](k(f,"Logging")))||this.$include(k(f,"Logging")),m(c)?(c["$=="](!0)&&(c=b),d=e,"abort"["$==="](d)?(g=p["!"].$path()["$=="](c)?
"":" (reason: "+(m(p["!"].$path())?"cannot load '"+p["!"].$path()+"'":p["!"].$message())+")",this.$raise(r("::","LoadError"),"asciidoctor: FAILED: required gem '"+c+"' is not available"+g+". Processing aborted.")):"warn"["$==="](d)&&(g=p["!"].$path()["$=="](c)?"":" (reason: "+(m(p["!"].$path())?"cannot load '"+p["!"].$path()+"'":p["!"].$message())+")",this.$logger().$warn("optional gem '"+c+"' is not available"+g+". Functionality disabled."))):(d=e,"abort"["$==="](d)?this.$raise(r("::","LoadError"),
"asciidoctor: FAILED: "+p["!"].$message().$chomp(".")+". Processing aborted."):"warn"["$==="](d)&&this.$logger().$warn(""+p["!"].$message().$chomp(".")+". Functionality disabled.")),h}finally{a.pop_exception()}else throw Aa;}},n.$$arity=-2);a.def(e,"$prepare_source_array",l=function(c,e){var d,g,n,p,l,x,u,M,A=this,I=h,t=h,D=h;I=h;null==e&&(e=!0);if(m(c["$empty?"]()))return[];if((I=(t=(D=c["$[]"](0)).$unpack("C3")).$slice(0,2))["$=="](k(f,"BOM_BYTES_UTF_16LE")))return I=[0,D.$byteslice(2,D.$bytesize())],
q(c,"[]=",a.to_a(I)),I[b(I.length,1)],function(){return m(e)?q(c,"map",[],(d=function(a){null==a&&(a=h);return a.$encode(k(f,"UTF_8"),r(r("::","Encoding"),"UTF_16LE")).$rstrip()},d.$$s=A,d.$$arity=1,d)):q(c,"map",[],(g=function(a){null==a&&(a=h);return a.$encode(k(f,"UTF_8"),r(r("::","Encoding"),"UTF_16LE")).$chomp()},g.$$s=A,g.$$arity=1,g))}();if(I["$=="](k(f,"BOM_BYTES_UTF_16BE")))return I=[0,D.$byteslice(2,D.$bytesize())],q(c,"[]=",a.to_a(I)),I[b(I.length,1)],function(){return m(e)?q(c,"map",[],
(n=function(a){null==a&&(a=h);return a.$encode(k(f,"UTF_8"),r(r("::","Encoding"),"UTF_16BE")).$rstrip()},n.$$s=A,n.$$arity=1,n)):q(c,"map",[],(p=function(a){null==a&&(a=h);return a.$encode(k(f,"UTF_8"),r(r("::","Encoding"),"UTF_16BE")).$chomp()},p.$$s=A,p.$$arity=1,p))}();t["$=="](k(f,"BOM_BYTES_UTF_8"))&&(I=[0,D.$byteslice(3,D.$bytesize())],q(c,"[]=",a.to_a(I)),I[b(I.length,1)]);return D.$encoding()["$=="](k(f,"UTF_8"))?m(e)?q(c,"map",[],(l=function(a){null==a&&(a=h);return a.$rstrip()},l.$$s=A,
l.$$arity=1,l)):q(c,"map",[],(x=function(a){null==a&&(a=h);return a.$chomp()},x.$$s=A,x.$$arity=1,x)):m(e)?q(c,"map",[],(u=function(a){null==a&&(a=h);return a.$encode(k(f,"UTF_8")).$rstrip()},u.$$s=A,u.$$arity=1,u)):q(c,"map",[],(M=function(a){null==a&&(a=h);return a.$encode(k(f,"UTF_8")).$chomp()},M.$$s=A,M.$$arity=1,M))},l.$$arity=-2);a.def(e,"$prepare_source_string",u=function(a,b){var c,e,d=h,g=h;null==b&&(b=!0);if(m(a["$nil_or_empty?"]()))return[];(d=(g=a.$unpack("C3")).$slice(0,2))["$=="](k(f,
"BOM_BYTES_UTF_16LE"))?a=a.$byteslice(2,a.$bytesize()).$encode(k(f,"UTF_8"),r(r("::","Encoding"),"UTF_16LE")):d["$=="](k(f,"BOM_BYTES_UTF_16BE"))?a=a.$byteslice(2,a.$bytesize()).$encode(k(f,"UTF_8"),r(r("::","Encoding"),"UTF_16BE")):g["$=="](k(f,"BOM_BYTES_UTF_8"))?(a=a.$byteslice(3,a.$bytesize()),a.$encoding()["$=="](k(f,"UTF_8"))||(a=a.$encode(k(f,"UTF_8")))):m(a.$encoding()["$!="](k(f,"UTF_8")))&&(a=a.$encode(k(f,"UTF_8")));return m(b)?q([],"tap",[],(c=function(b){var e=c.$$s||this,f;null==b&&
(b=h);return q(a,"each_line",[],(f=function(a){null==a&&(a=h);return b["$<<"](a.$rstrip())},f.$$s=e,f.$$arity=1,f))},c.$$s=this,c.$$arity=1,c)):q([],"tap",[],(e=function(b){var c=e.$$s||this,f;null==b&&(b=h);return q(a,"each_line",[],(f=function(a){null==a&&(a=h);return b["$<<"](a.$chomp())},f.$$s=c,f.$$arity=1,f))},e.$$s=this,e.$$arity=1,e))},u.$$arity=-2);r("::","RUBY_ENGINE")["$=="]("jruby")?a.def(e,"$uriish?",A=function(a){var b,c;return m(b=m(c=a["$include?"](":"))?a["$start_with?"]("uri:classloader:")["$!"]():
c)?k(f,"UriSniffRx")["$match?"](a):b},A.$$arity=1):a.def(e,"$uriish?",x=function(a){var b;return m(b=a["$include?"](":"))?k(f,"UriSniffRx")["$match?"](a):b},x.$$arity=1);k(f,"RUBY_ENGINE")["$=="]("opal")?a.def(e,"$encode_uri_component",t=function(a){return encodeURIComponent(a).replace(/%20|[!'()*]/g,function(a){return"%20"===a?"+":"%"+a.charCodeAt(0).toString(16)})},t.$$arity=1):h;a.def(e,"$encode_spaces_in_uri",D=function(a){return m(a["$include?"](" "))?a.$gsub(" ","%20"):a},D.$$arity=1);a.def(e,
"$rootname",K=function(a){var b;return m(b=a.$rindex("."))?m(a.$index("/",b))?a:a.$slice(0,b):a},K.$$arity=1);a.def(e,"$basename",Q=function(a,b){null==b&&(b=h);return m(b)?r("::","File").$basename(a,b["$=="](!0)?this.$extname(a):b):r("::","File").$basename(a)},Q.$$arity=-2);a.def(e,"$extname?",V=function(a){var b,c=h;return m(b=c=a.$rindex("."))?a.$index("/",c)["$!"]():b},V.$$arity=1);m(r(r("::","File"),"ALT_SEPARATOR"))?a.def(e,"$extname",v=function(a,b){var c,e;null==b&&(b="");return m(e=a.$rindex("."))?
m(m(c=a.$index("/",e))?c:a.$index(r(r("::","File"),"ALT_SEPARATOR"),e))?b:a.$slice(e,a.$length()):b},v.$$arity=-2):a.def(e,"$extname",z=function(a,b){var c;null==b&&(b="");return m(c=a.$rindex("."))?m(a.$index("/",c))?b:a.$slice(c,a.$length()):b},z.$$arity=-2);a.def(e,"$mkdir_p",da=function(b){var c;if(m(r("::","File")["$directory?"](b)))return h;(c=r("::","File").$dirname(b))["$=="](".")||this.$mkdir_p(c);try{return r("::","Dir").$mkdir(b)}catch(ja){if(a.rescue(ja,[r("::","SystemCallError")]))try{return m(r("::",
"File")["$directory?"](b))?h:this.$raise()}finally{a.pop_exception()}else throw ja;}},da.$$arity=1);a.const_set(f[0],"ROMAN_NUMERALS",I("M CM D CD C XC L XL X IX V IV I".split(" "),{M:1E3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}));e.$private_constant("ROMAN_NUMERALS");a.def(e,"$int_to_roman",B=function(b){var c;return q(k(f,"ROMAN_NUMERALS"),"map",[],(c=function(c,e){null==c&&(c=h);null==e&&(e=h);var f=b.$divmod(e);e=a.to_ary(f);var d=null==e[0]?h:e[0];b=null==e[1]?h:e[1];
f;return"number"===typeof c&&"number"===typeof d?c*d:c["$*"](d)},c.$$s=this,c.$$arity=2,c)).$join()},B.$$arity=1);a.def(e,"$nextval",C=function(a){var b;return m(r("::","Integer")["$==="](a))?g(a,1):(b=a.$to_i()).$to_s()["$=="](a.$to_s())?g(b,1):a.$succ()},C.$$arity=1);a.def(e,"$resolve_class",E=function(a){return m(r("::","Class")["$==="](a))?a:m(r("::","String")["$==="](a))?this.$class_for_name(a):h},E.$$arity=1);a.def(e,"$class_for_name",na=function(b){var c=h;try{return m(r("::","Class")["$==="](c=
r("::","Object").$const_get(b,!1)))||this.$raise(),c}catch(ja){if(a.rescue(ja,[k(f,"StandardError")]))try{return this.$raise(r("::","NameError"),"Could not resolve class for name: "+b)}finally{a.pop_exception()}else throw ja;}},na.$$arity=1)})(d[0],d)}(l[0],l)};Opal.modules.logger=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var g=[],l=a.nil,h=a.const_get_qualified,r=a.const_get_relative,k=a.klass,c=a.module,m=a.send,p=a.truthy;a.add_stubs("$include $to_h $map $constants $const_get $to_s $format $chr $strftime $message_as_string $=== $+ $message $class $join $backtrace $inspect $attr_reader $attr_accessor $new $key $upcase $raise $add $to_proc $<= $< $write $call $[] $now".split(" "));
return function(d,$super,g){d=k(d,$super,"Logger");var e=[d].concat(g),f,n,u,q,A,M,t,x,D,K,v,Q,z,B,S;d.$$prototype.level=d.$$prototype.progname=d.$$prototype.pipe=d.$$prototype.formatter=l;(function(b,e){b=[c(b,"Severity")].concat(e);a.const_set(b[0],"DEBUG",0);a.const_set(b[0],"INFO",1);a.const_set(b[0],"WARN",2);a.const_set(b[0],"ERROR",3);a.const_set(b[0],"FATAL",4);a.const_set(b[0],"UNKNOWN",5)})(e[0],e);d.$include(r(e,"Severity"));a.const_set(e[0],"SEVERITY_LABELS",m(r(e,"Severity").$constants(),
"map",[],(f=function(a){null==a&&(a=l);return[r(e,"Severity").$const_get(a),a.$to_s()]},f.$$s=d,f.$$arity=1,f)).$to_h());(function(b,$super,c){b=k(b,$super,"Formatter");var e=[b].concat(c),f,d;a.const_set(e[0],"MESSAGE_FORMAT","%s, [%s] %5s -- %s: %s\n");a.const_set(e[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N");a.def(b,"$call",f=function(a,b,c,f){return this.$format(r(e,"MESSAGE_FORMAT"),a.$chr(),b.$strftime(r(e,"DATE_TIME_FORMAT")),a,c,this.$message_as_string(f))},f.$$arity=4);return(a.def(b,
"$message_as_string",d=function(a){var b,c=l;return function(){c=a;if(h("::","String")["$==="](c))return a;if(h("::","Exception")["$==="](c)){var e=""+a.$message()+" ("+a.$class()+")\n",f=(p(b=a.$backtrace())?b:[]).$join("\n");return"number"===typeof e&&"number"===typeof f?e+f:e["$+"](f)}return a.$inspect()}()},d.$$arity=1),l)&&"message_as_string"})(e[0],null,e);d.$attr_reader("level");d.$attr_accessor("progname");d.$attr_accessor("formatter");a.def(d,"$initialize",n=function(a){this.pipe=a;this.level=
r(e,"DEBUG");return this.formatter=r(e,"Formatter").$new()},n.$$arity=1);a.def(d,"$level=",u=function(a){var b;return p(h("::","Integer")["$==="](a))?this.level=a:p(b=r(e,"SEVERITY_LABELS").$key(a.$to_s().$upcase()))?this.level=b:this.$raise(r(e,"ArgumentError"),"invalid log level: "+a)},u.$$arity=1);a.def(d,"$info",q=function(a){var b=q.$$p,c=b||l;b&&(q.$$p=null);b&&(q.$$p=null);null==a&&(a=l);return m(this,"add",[r(e,"INFO"),l,a],c.$to_proc())},q.$$arity=-1);a.def(d,"$debug",A=function(a){var b=
A.$$p,c=b||l;b&&(A.$$p=null);b&&(A.$$p=null);null==a&&(a=l);return m(this,"add",[r(e,"DEBUG"),l,a],c.$to_proc())},A.$$arity=-1);a.def(d,"$warn",M=function(a){var b=M.$$p,c=b||l;b&&(M.$$p=null);b&&(M.$$p=null);null==a&&(a=l);return m(this,"add",[r(e,"WARN"),l,a],c.$to_proc())},M.$$arity=-1);a.def(d,"$error",t=function(a){var b=t.$$p,c=b||l;b&&(t.$$p=null);b&&(t.$$p=null);null==a&&(a=l);return m(this,"add",[r(e,"ERROR"),l,a],c.$to_proc())},t.$$arity=-1);a.def(d,"$fatal",x=function(a){var b=x.$$p,c=
b||l;b&&(x.$$p=null);b&&(x.$$p=null);null==a&&(a=l);return m(this,"add",[r(e,"FATAL"),l,a],c.$to_proc())},x.$$arity=-1);a.def(d,"$unknown",D=function(a){var b=D.$$p,c=b||l;b&&(D.$$p=null);b&&(D.$$p=null);null==a&&(a=l);return m(this,"add",[r(e,"UNKNOWN"),l,a],c.$to_proc())},D.$$arity=-1);a.def(d,"$info?",K=function(){return b(this.level,r(e,"INFO"))},K.$$arity=0);a.def(d,"$debug?",v=function(){return b(this.level,r(e,"DEBUG"))},v.$$arity=0);a.def(d,"$warn?",Q=function(){return b(this.level,r(e,"WARN"))},
Q.$$arity=0);a.def(d,"$error?",z=function(){return b(this.level,r(e,"ERROR"))},z.$$arity=0);a.def(d,"$fatal?",B=function(){return b(this.level,r(e,"FATAL"))},B.$$arity=0);return(a.def(d,"$add",S=function(b,c,f){var d=S.$$p,g=d||l,n;d&&(S.$$p=null);d&&(S.$$p=null);null==c&&(c=l);null==f&&(f=l);d=b=p(n=b)?n:r(e,"UNKNOWN");var k=this.level;d="number"===typeof d&&"number"===typeof k?d<k:d["$<"](k);if(p(d))return!0;f=p(n=f)?n:this.progname;p(c)||(g!==l?c=a.yieldX(g,[]):(c=f,f=this.progname));this.pipe.$write(this.formatter.$call(p(n=
r(e,"SEVERITY_LABELS")["$[]"](b))?n:"ANY",h("::","Time").$now(),f,c));return!0},S.$$arity=-2),l)&&"add"}(g[0],null,g)};Opal.modules["asciidoctor/logging"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var l=a.top,h=[],r=a.nil,k=a.const_get_qualified,c=a.const_get_relative,m=a.module,p=a.klass,q=a.send,I=a.truthy,n=a.hash2,e=a.gvars;a.add_stubs("$require $attr_reader $progname= $- $new $formatter= $level= $> $[] $=== $inspect $to_h $map $constants $const_get $<< $clear $empty? $max $attr_accessor $memoize_logger $private $extend $private_class_method $logger $merge".split(" "));
l.$require("logger");return function(f,d){f=[m(f,"Asciidoctor")].concat(d);(function(e,$super,f){e=p(e,$super,"Logger");var d=[e].concat(f),l,h;e.$$prototype.max_severity=r;e.$attr_reader("max_severity");a.def(e,"$initialize",l=function(e){var f=l.$$p,g;f&&(l.$$p=null);var n=0;var p=arguments.length;for(g=Array(p);n<p;n++)g[n]=arguments[n];a.slice.call(arguments,0,arguments.length);q(this,a.find_super_dispatcher(this,"initialize",l,!1),g,f);f=["asciidoctor"];q(this,"progname=",a.to_a(f));f[b(f.length,
1)];f=[c(d,"BasicFormatter").$new()];q(this,"formatter=",a.to_a(f));f[b(f.length,1)];f=[c(d,"WARN")];q(this,"level=",a.to_a(f));return f[b(f.length,1)]},l.$$arity=-1);a.def(e,"$add",h=function(b,e,f){var n,p=h.$$p,k;p&&(h.$$p=null);var l=0;var x=arguments.length;for(k=Array(x);l<x;l++)k[l]=arguments[l];null==e&&(e=r);null==f&&(f=r);I(g(b=I(n=b)?n:c(d,"UNKNOWN"),this.max_severity=I(n=this.max_severity)?n:b))&&(this.max_severity=b);return q(this,a.find_super_dispatcher(this,"add",h,!1),k,p)},h.$$arity=
-2);(function(b,$super,e){b=p(b,$super,"BasicFormatter");var f=[b].concat(e),d;a.const_set(f[0],"SEVERITY_LABEL_SUBSTITUTES",n(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"}));return(a.def(b,"$call",d=function(a,b,e,d){var g;return""+e+": "+(I(g=c(f,"SEVERITY_LABEL_SUBSTITUTES")["$[]"](a))?g:a)+": "+(I(k("::","String")["$==="](d))?d:d.$inspect())+c(f,"LF")},d.$$arity=4),r)&&"call"})(d[0],c(d,"Formatter"),d);return function(b,c){b=m(b,"AutoFormattingMessage");[b].concat(c);var e;a.def(b,"$inspect",
e=function(){var a;return I(a=this["$[]"]("source_location"))?""+a+": "+this["$[]"]("text"):this["$[]"]("text")},e.$$arity=0)}(d[0],d)})(f[0],k("::","Logger"),f);(function(e,$super,f){e=p(e,$super,"MemoryLogger");var d=[e].concat(f),g,k,l,h,u,m;e.$$prototype.messages=r;a.const_set(d[0],"SEVERITY_SYMBOL_BY_VALUE",q(c(d,"Severity").$constants(!1),"map",[],(g=function(a){null==a&&(a=r);return[c(d,"Severity").$const_get(a),a]},g.$$s=e,g.$$arity=1,g)).$to_h());e.$attr_reader("messages");a.def(e,"$initialize",
k=function(){k.$$p&&(k.$$p=null);q(this,a.find_super_dispatcher(this,"initialize",k,!1),[r],null);var e=[c(d,"WARN")];q(this,"level=",a.to_a(e));e[b(e.length,1)];return this.messages=[]},k.$$arity=0);a.def(e,"$add",l=function(b,e,f){var g,p=l.$$p,k=p||r;p&&(l.$$p=null);null==e&&(e=r);null==f&&(f=r);e=I(g=e)?g:k!==r?a.yieldX(k,[]):f;this.messages["$<<"](n(["severity","message"],{severity:c(d,"SEVERITY_SYMBOL_BY_VALUE")["$[]"](I(g=b)?g:c(d,"UNKNOWN")),message:e}));return!0},l.$$arity=-2);a.def(e,"$clear",
h=function(){return this.messages.$clear()},h.$$arity=0);a.def(e,"$empty?",u=function(){return this.messages["$empty?"]()},u.$$arity=0);return(a.def(e,"$max_severity",m=function(){var a;return I(this["$empty?"]())?r:q(this.messages,"map",[],(a=function(a){null==a&&(a=r);return c(d,"Severity").$const_get(a["$[]"]("severity"))},a.$$s=this,a.$$arity=1,a)).$max()},m.$$arity=0),r)&&"max_severity"})(f[0],k("::","Logger"),f);(function(e,$super,f){e=p(e,$super,"NullLogger");var d=[e].concat(f),n,k;e.$$prototype.max_severity=
r;e.$attr_reader("max_severity");a.def(e,"$initialize",n=function(){n.$$p&&(n.$$p=null);q(this,a.find_super_dispatcher(this,"initialize",n,!1),[r],null);var e=[c(d,"WARN")];q(this,"level=",a.to_a(e));return e[b(e.length,1)]},n.$$arity=0);return(a.def(e,"$add",k=function(a,b,e){var f;I(g(a=I(f=a)?f:c(d,"UNKNOWN"),this.max_severity=I(f=this.max_severity)?f:a))&&(this.max_severity=a);return!0},k.$$arity=-2),r)&&"add"})(f[0],k("::","Logger"),f);(function(b,f){b=m(b,"LoggerManager");f=[b].concat(f);b.logger_class=
c(f,"Logger");(function(b,c){var f=[b].concat(c),d,g,n;b.$attr_accessor("logger_class");a.def(b,"$logger",d=function(a){var b;null==this.logger&&(this.logger=r);null==this.logger_class&&(this.logger_class=r);null==e.stderr&&(e.stderr=r);null==a&&(a=e.stderr);this.$memoize_logger();return this.logger=I(b=this.logger)?b:this.logger_class.$new(a)},d.$$arity=-1);a.def(b,"$logger=",g=function(a){null==this.logger_class&&(this.logger_class=r);null==e.stderr&&(e.stderr=r);return this.logger=I(a)?a:this.logger_class.$new(e.stderr)},
g.$$arity=1);b.$private();return(a.def(b,"$memoize_logger",n=function(){var b=a.get_singleton_class(this);[b].concat(f);a.alias(b,"logger","logger");return b.$attr_reader("logger")},n.$$arity=0),r)&&"memoize_logger"})(a.get_singleton_class(b),f)})(f[0],f);(function(b,e){b=m(b,"Logging");var f=[b].concat(e),d,g,p;a.defs(b,"$included",d=function(a){return a.$extend(c(f,"Logging"))},d.$$arity=1);b.$private_class_method("included");a.def(b,"$logger",g=function(){return c(f,"LoggerManager").$logger()},
g.$$arity=0);a.def(b,"$message_with_context",p=function(a,b){null==b&&(b=n([],{}));return n(["text"],{text:a}).$merge(b).$extend(k(c(f,"Logger"),"AutoFormattingMessage"))},p.$$arity=-2)})(f[0],f)}(h[0],h)};Opal.modules["asciidoctor/rx"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=[],l=a.nil,h=a.const_get_qualified,r=a.const_get_relative,k=a.module,c=a.hash2,m=a.send,p=a.truthy,q=a.hash;a.add_stubs("$== $join $to_a $new $empty? $escape $[]= $-".split(" "));
return function(d,g){d=k(d,"Asciidoctor");var e=[d].concat(g),f,n;(function(a,b){[k(a,"Rx")].concat(b);l})(e[0],e);a.const_set(e[0],"AuthorInfoLineRx",new RegExp("^("+r(e,"CG_WORD")+"["+r(e,"CC_WORD")+"\\-'.]*)(?: +("+r(e,"CG_WORD")+"["+r(e,"CC_WORD")+"\\-'.]*))?(?: +("+r(e,"CG_WORD")+"["+r(e,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.const_set(e[0],"AuthorDelimiterRx",/;(?: |$)/);a.const_set(e[0],"RevisionInfoLineRx",new RegExp("^(?:[^\\d{]*("+r(e,"CC_ANY")+"*?),)? *(?!:)("+r(e,"CC_ANY")+"*?)(?: *(?!^),?: *("+
r(e,"CC_ANY")+"*))?$"));a.const_set(e[0],"ManpageTitleVolnumRx",new RegExp("^("+r(e,"CC_ANY")+"+?) *\\( *("+r(e,"CC_ANY")+"+?) *\\)$"));a.const_set(e[0],"ManpageNamePurposeRx",new RegExp("^("+r(e,"CC_ANY")+"+?) +- +("+r(e,"CC_ANY")+"+)$"));a.const_set(e[0],"ConditionalDirectiveRx",new RegExp("^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[("+r(e,"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"EvalExpressionRx",new RegExp("^("+r(e,"CC_ANY")+"+?) *([=!><]=|[><]) *("+r(e,"CC_ANY")+"+)$"));a.const_set(e[0],
"IncludeDirectiveRx",new RegExp("^(\\\\)?include::([^\\s\\[](?:[^\\[]*[^\\s\\[])?)\\[("+r(e,"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m);a.const_set(e[0],"AttributeEntryRx",new RegExp("^:(!?"+r(e,"CG_WORD")+"[^:]*):(?:[ \\t]+("+r(e,"CC_ANY")+"*))?$"));a.const_set(e[0],"InvalidAttributeNameCharsRx",new RegExp("[^"+r(e,"CC_WORD")+"-]"));r(e,"RUBY_ENGINE")["$=="]("opal")?a.const_set(e[0],"AttributeEntryPassMacroRx",new RegExp("^pass:([a-z]+(?:,[a-z-]+)*)?\\[("+
r(e,"CC_ALL")+"*)\\]$")):l;a.const_set(e[0],"AttributeReferenceRx",new RegExp("(\\\\)?\\{("+r(e,"CG_WORD")+"["+r(e,"CC_WORD")+"-]*|(set|counter2?):"+r(e,"CC_ANY")+"+?)(\\\\)?\\}"));a.const_set(e[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+r(e,"CC_ALPHA")+"_:]["+r(e,"CC_WORD")+"\\-:.]*)(?:, *("+r(e,"CC_ANY")+"+))?)\\]\\]$"));a.const_set(e[0],"BlockAttributeListRx",new RegExp("^\\[(|["+r(e,"CC_WORD")+".#%{,\"']"+r(e,"CC_ANY")+"*)\\]$"));a.const_set(e[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+
r(e,"CC_WORD")+".#%{,\"']"+r(e,"CC_ANY")+"*|\\[(?:|["+r(e,"CC_ALPHA")+"_:]["+r(e,"CC_WORD")+"\\-:.]*(?:, *"+r(e,"CC_ANY")+"+)?)\\])\\]$"));a.const_set(e[0],"BlockTitleRx",new RegExp("^\\.(\\.?[^ \\t.]"+r(e,"CC_ANY")+"*)$"));a.const_set(e[0],"AdmonitionParagraphRx",new RegExp("^("+r(e,"ADMONITION_STYLES").$to_a().$join("|")+"):[ \\t]+"));a.const_set(e[0],"LiteralParagraphRx",new RegExp("^([ \\t]+"+r(e,"CC_ANY")+"*)$"));a.const_set(e[0],"AtxSectionTitleRx",new RegExp("^(=={0,5})[ \\t]+("+r(e,"CC_ANY")+
"+?)(?:[ \\t]+\\1)?$"));a.const_set(e[0],"ExtAtxSectionTitleRx",new RegExp("^(=={0,5}|#\\#{0,5})[ \\t]+("+r(e,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$"));a.const_set(e[0],"SetextSectionTitleRx",new RegExp("^((?!\\.)"+r(e,"CC_ANY")+"*?"+r(e,"CG_ALNUM")+r(e,"CC_ANY")+"*)$"));a.const_set(e[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+r(e,"CC_ALPHA")+"_:]["+r(e,"CC_WORD")+"\\-:.]*)(?:, *("+r(e,"CC_ANY")+"+))?\\]\\]$"));a.const_set(e[0],"InvalidSectionIdCharsRx",new RegExp("<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ "+
r(e,"CC_WORD")+"\\-.]+?"));a.const_set(e[0],"SectionLevelStyleRx",/^sect\d$/);a.const_set(e[0],"AnyListRx",new RegExp("^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])[ \\t]*[^ \\t]"+r(e,"CC_ANY")+"*?(?::::{0,2}|;;)(?:$|[ \\t])|<(?:\\d+|\\.)>[ \\t])"));a.const_set(e[0],"UnorderedListRx",new RegExp("^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+("+r(e,"CC_ANY")+"*)$"));a.const_set(e[0],"OrderedListRx",new RegExp("^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+("+
r(e,"CC_ANY")+"*)$"));a.const_set(e[0],"OrderedListMarkerRxMap",c(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));a.const_set(e[0],"DescriptionListRx",new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+r(e,"CC_ANY")+"*?)(:::{0,2}|;;)(?:$|[ \\t]+("+r(e,"CC_ANY")+"*)$)"));a.const_set(e[0],"DescriptionListSiblingRx",c(["::",":::","::::",";;"],{"::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+r(e,
"CC_ANY")+"*?[^:]|[^ \\t:])(::)(?:$|[ \\t]+("+r(e,"CC_ANY")+"*)$)"),":::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+r(e,"CC_ANY")+"*?[^:]|[^ \\t:])(:::)(?:$|[ \\t]+("+r(e,"CC_ANY")+"*)$)"),"::::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+r(e,"CC_ANY")+"*?[^:]|[^ \\t:])(::::)(?:$|[ \\t]+("+r(e,"CC_ANY")+"*)$)"),";;":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+r(e,"CC_ANY")+"*?)(;;)(?:$|[ \\t]+("+r(e,"CC_ANY")+"*)$)")}));a.const_set(e[0],"CalloutListRx",new RegExp("^<(\\d+|\\.)>[ \\t]+("+r(e,"CC_ANY")+"*)$"));
a.const_set(e[0],"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/);a.const_set(e[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)");a.const_set(e[0],"CalloutExtractRxMap",m(h("::","Hash"),"new",[],(f=function(c,f){null==c&&(c=l);null==f&&(f=l);f=[f,new RegExp("("+(p(f["$empty?"]())?"":""+h("::","Regexp").$escape(f)+" ?")+")?"+r(e,"CalloutExtractRxt"))];m(c,"[]=",a.to_a(f));return f[b(f.length,1)]},f.$$s=d,f.$$arity=2,f)));
a.const_set(e[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*"+r(e,"CC_EOL")+")"));a.const_set(e[0],"CalloutSourceRx",new RegExp("((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*"+r(e,"CC_EOL")+")"));a.const_set(e[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+r(e,"CC_EOL")+")");a.const_set(e[0],"CalloutSourceRxMap",m(h("::","Hash"),"new",[],(n=function(c,f){null==
c&&(c=l);null==f&&(f=l);f=[f,new RegExp("("+(p(f["$empty?"]())?"":""+h("::","Regexp").$escape(f)+" ?")+")?"+r(e,"CalloutSourceRxt"))];m(c,"[]=",a.to_a(f));return f[b(f.length,1)]},n.$$s=d,n.$$arity=2,n)));a.const_set(e[0],"ListRxMap",c(["ulist","olist","dlist","colist"],{ulist:r(e,"UnorderedListRx"),olist:r(e,"OrderedListRx"),dlist:r(e,"DescriptionListRx"),colist:r(e,"CalloutListRx")}));a.const_set(e[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/);a.const_set(e[0],
"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);a.const_set(e[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);a.const_set(e[0],"CustomBlockMacroRx",new RegExp("^("+r(e,"CG_WORD")+"["+r(e,"CC_WORD")+"-]*)::(|\\S|\\S"+r(e,"CC_ANY")+"*?\\S)\\[("+r(e,"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"BlockMediaMacroRx",new RegExp("^(image|video|audio)::(\\S|\\S"+r(e,"CC_ANY")+
"*?\\S)\\[("+r(e,"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"BlockTocMacroRx",new RegExp("^toc::\\[("+r(e,"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+r(e,"CC_ALPHA")+"_:]["+r(e,"CC_WORD")+"\\-:.]*)(?:, *("+r(e,"CC_ANY")+"+?))?\\]\\]|anchor:(["+r(e,"CC_ALPHA")+"_:]["+r(e,"CC_WORD")+"\\-:.]*)\\[(?:\\]|("+r(e,"CC_ANY")+"*?[^\\\\])\\]))"));a.const_set(e[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+r(e,"CC_ALPHA")+"_:]["+r(e,"CC_WORD")+"\\-:.]*)(?:, *("+
r(e,"CC_ANY")+"+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+r(e,"CC_ALPHA")+"_:]["+r(e,"CC_WORD")+"\\-:.]*)\\[(?:\\]|("+r(e,"CC_ANY")+"*?[^\\\\])\\])"));a.const_set(e[0],"LeadingInlineAnchorRx",new RegExp("^\\[\\[(["+r(e,"CC_ALPHA")+"_:]["+r(e,"CC_WORD")+"\\-:.]*)(?:, *("+r(e,"CC_ANY")+"+?))?\\]\\]"));a.const_set(e[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+r(e,"CC_ALPHA")+"_:]["+r(e,"CC_WORD")+"\\-:.]*)(?:, *("+r(e,"CC_ANY")+"+?))?\\]\\]\\]"));a.const_set(e[0],"InlineEmailRx",new RegExp("([\\\\>:/])?"+
r(e,"CG_WORD")+"(?:&amp;|["+r(e,"CC_WORD")+"\\-.%+])*@"+r(e,"CG_ALNUM")+"["+r(e,"CC_ALNUM")+"_\\-.]*\\.[a-zA-Z]{2,5}\\b"));a.const_set(e[0],"InlineFootnoteMacroRx",new RegExp("\\\\?footnote(?:(ref):|:(["+r(e,"CC_WORD")+"-]+)?)\\[(?:|("+r(e,"CC_ALL")+"*?[^\\\\]))\\](?!</a>)","m"));a.const_set(e[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+r(e,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(e[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+
r(e,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+r(e,"CC_ALL")+"+?)\\)\\)(?!\\)))","m"));a.const_set(e[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+r(e,"CC_ALL")+"*?[^\\\\])\\]","m"));r(e,"RUBY_ENGINE")["$=="]("opal")?a.const_set(e[0],"InlineLinkRx",new RegExp("(^|link:|"+r(e,"CG_BLANK")+"|\\\\?&lt;(?=\\\\?(?:https?|file|ftp|irc)(:))|[>\\(\\)\\[\\];\"'])(\\\\?(?:https?|file|ftp|irc)://)(?:([^\\s\\[\\]]+)\\[(|"+r(e,"CC_ALL")+"*?[^\\\\])\\]|(?!\\2)([^\\s]+?)&gt;|([^\\s\\[\\]<]*([^\\s,.?!\\[\\]<\\)])))")):
l;a.const_set(e[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+r(e,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(e[0],"MacroNameRx",new RegExp("^"+r(e,"CG_WORD")+"["+r(e,"CC_WORD")+"-]*$"));a.const_set(e[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z-]+)*)?\\[("+r(e,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(e[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+r(e,"CG_WORD")+"|["+r(e,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *(?:|("+
r(e,"CC_ALL")+"*?[^\\\\]))\\]","m"));a.const_set(e[0],"InlineMenuRx",new RegExp('\\\\?"(['+r(e,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'));a.const_set(e[0],"InlinePassRx",q(!1,["+","-]",new RegExp("((?:^|[^"+r(e,"CC_WORD")+";:\\\\])(?=(\\[)|\\+)|\\\\(?=\\[)|(?=\\\\\\+))(?:\\2(x-|[^\\]]+ x-)\\]|(?:\\[([^\\]]+)\\])?(?=(\\\\)?\\+))(\\5?(\\+|`)(\\S|\\S"+r(e,"CC_ALL")+"*?\\S)\\7)(?!"+r(e,"CG_WORD")+")","m")],!0,["`",l,new RegExp("(^|[^`"+r(e,"CC_WORD")+"])(?:(\\Z)()|\\[([^\\]]+)\\](?=(\\\\))?)?(\\5?(`)([^`\\s]|[^`\\s]"+
r(e,"CC_ALL")+"*?\\S)\\7)(?![`"+r(e,"CC_WORD")+"])","m")]));a.const_set(e[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+r(e,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z-]+)*)?\\[(|"+r(e,"CC_ALL")+"*?[^\\\\])\\])","m"));a.const_set(e[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+r(e,"CC_WORD")+"#/.:{]"+r(e,"CC_ALL")+"*?)&gt;&gt;|xref:(["+r(e,"CC_WORD")+"#/.:{]"+r(e,"CC_ALL")+"*?)\\[(?:\\]|("+r(e,"CC_ALL")+"*?[^\\\\])\\]))","m"));r(e,"RUBY_ENGINE")["$=="]("opal")?
a.const_set(e[0],"HardLineBreakRx",new RegExp("^("+r(e,"CC_ANY")+"*) \\+$","m")):l;a.const_set(e[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/);a.const_set(e[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/);a.const_set(e[0],"BlankLineRx",/\n{2,}/);a.const_set(e[0],"EscapedSpaceRx",/\\([ \t\n])/);a.const_set(e[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/);a.const_set(e[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/);a.const_set(e[0],"SubModifierSniffRx",/[+-]/);a.const_set(e[0],
"TrailingDigitsRx",/\d+$/);r(e,"RUBY_ENGINE")["$=="]("opal")?a.const_set(e[0],"UriSniffRx",new RegExp("^"+r(e,"CG_ALPHA")+"["+r(e,"CC_ALNUM")+".+-]+:/{0,2}")):l;a.const_set(e[0],"XmlSanitizeRx",/<[^>]+>/)}(g[0],g)};Opal.modules["asciidoctor/substitutors"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}
function h(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var k=[],c=a.nil,m=a.const_get_qualified,p=a.const_get_relative,q=a.slice,I=a.module,n=a.hash2,e=a.hash,f=a.truthy,t=a.send,v=a.gvars;a.add_stubs("$freeze $+ $keys $empty? $! $=== $[] $join $include? $extract_passthroughs $each $sub_specialchars $sub_quotes $sub_attributes $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $logger $restore_passthroughs $clear $split $apply_subs $== $gsub $match? $compat_mode $convert_quoted_text $attributes $shift $store_attribute $!= $attribute_undefined $counter $key? $downcase $attribute_missing $info $squeeze $delete $reject $start_with? $do_replacement $extensions $inline_macros? $inline_macros $regexp $instance $slice $length $names $config $merge $[]= $- $normalize_text $parse_attributes $process_method $expand_subs $text $text= $convert $class $strip $> $index $min $compact $end_with? $map $chop $new $pop $rstrip $register $tr $basename $parse $<< $lstrip $split_simple_csv $partition $sub $extract_attributes_from_text $encode_uri_component $style $extname? $rindex $info? $catalog $fetch $outfilesuffix $natural_xrefs $resolve_id $find $footnotes $id $< $size $attr? $attr $to_s $read_next_id $callouts $syntax_highlighter $highlight? $sub_source $extract_callouts $name $to_sym $to_i $resolve_lines_to_highlight $highlight $nil_or_empty? $restore_callouts $count $to_a $| $sort $* $parse_quoted_text_attributes $resolve_pass_subs $basebackend? $error $chr $drop $& $resolve_subs $resolve_block_subs $parse_into $private $shorthand_property_syntax $each_char".split(" "));
return function(d,k){d=[I(d,"Asciidoctor")].concat(k);(function(d,k){d=I(d,"Substitutors");var x=[d].concat(k),u,M,A,D,T,K,Q,z,V,B,la,C,E,qa,F,W,G,y,xa,J,ha,X,Y,N,ya,O,ia,Ba,P,wa;a.const_set(x[0],"SpecialCharsRx",/[<&>]/);a.const_set(x[0],"SpecialCharsTr",n([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"}));a.const_set(x[0],"QuotedTextSniffRx",e(!1,/[*_`#^~]/,!0,/[*'_+#^~]/));a.const_set(x[0],"BASIC_SUBS",["specialcharacters"]).$freeze();a.const_set(x[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze();
a.const_set(x[0],"NO_SUBS",[]).$freeze();a.const_set(x[0],"NORMAL_SUBS","specialcharacters quotes attributes replacements macros post_replacements".split(" ")).$freeze();a.const_set(x[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze();a.const_set(x[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze();a.const_set(x[0],"SUB_GROUPS",n(["none","normal","verbatim","specialchars"],{none:p(x,"NO_SUBS"),normal:p(x,"NORMAL_SUBS"),verbatim:p(x,"VERBATIM_SUBS"),specialchars:p(x,
"BASIC_SUBS")}));a.const_set(x[0],"SUB_HINTS",n("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.const_set(x[0],"SUB_OPTIONS",n(["block","inline"],{block:b(b(p(x,"SUB_GROUPS").$keys(),p(x,"NORMAL_SUBS")),["callouts"]),inline:b(p(x,"SUB_GROUPS").$keys(),p(x,"NORMAL_SUBS"))}));a.const_set(x[0],"CAN","\u0018");a.const_set(x[0],"DEL","\u007f");a.const_set(x[0],"PASS_START","\u0096");a.const_set(x[0],"PASS_END",
"\u0097");a.const_set(x[0],"PassSlotRx",new RegExp(""+p(x,"PASS_START")+"(\\d+)"+p(x,"PASS_END")));a.const_set(x[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+p(x,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+p(x,"PASS_END")+"</span>"));a.const_set(x[0],"RS","\\");a.const_set(x[0],"R_SB","]");a.const_set(x[0],"ESC_R_SB","\\]");a.const_set(x[0],"PLUS","+");a.def(d,"$apply_subs",u=function(a,b){var e,d,g=c,n=c,k=c;null==this.passthroughs&&(this.passthroughs=c);null==this.passthroughs_locked&&
(this.passthroughs_locked=c);null==b&&(b=p(x,"NORMAL_SUBS"));if(f(f(e=a["$empty?"]())?e:b["$!"]()))return a;f(g=m("::","Array")["$==="](a))&&(a=f(a["$[]"](1))?a.$join(p(x,"LF")):a["$[]"](0));f(b["$include?"]("macros"))&&(a=this.$extract_passthroughs(a),f(this.passthroughs["$empty?"]())||(n=this.passthroughs,this.passthroughs_locked=f(e=this.passthroughs_locked)?e:k=!0));t(b,"each",[],(d=function(e){var g=d.$$s||this;null==e&&(e=c);var n=e;return"specialcharacters"["$==="](n)?a=g.$sub_specialchars(a):
"quotes"["$==="](n)?a=g.$sub_quotes(a):"attributes"["$==="](n)?f(a["$include?"](p(x,"ATTR_REF_HEAD")))?a=g.$sub_attributes(a):c:"replacements"["$==="](n)?a=g.$sub_replacements(a):"macros"["$==="](n)?a=g.$sub_macros(a):"highlight"["$==="](n)?a=g.$highlight_source(a,b["$include?"]("callouts")):"callouts"["$==="](n)?f(b["$include?"]("highlight"))?c:a=g.$sub_callouts(a):"post_replacements"["$==="](n)?a=g.$sub_post_replacements(a):g.$logger().$warn("unknown substitution type "+e)},d.$$s=this,d.$$arity=
1,d));f(n)&&(a=this.$restore_passthroughs(a),f(k)&&(n.$clear(),this.passthroughs_locked=c));return f(g)?a.$split(p(x,"LF"),-1):a},u.$$arity=-2);a.def(d,"$apply_normal_subs",M=function(a){return this.$apply_subs(a,p(x,"NORMAL_SUBS"))},M.$$arity=1);a.def(d,"$apply_header_subs",A=function(a){return this.$apply_subs(a,p(x,"HEADER_SUBS"))},A.$$arity=1);a.alias(d,"apply_title_subs","apply_subs");a.def(d,"$apply_reftext_subs",D=function(a){return this.$apply_subs(a,p(x,"REFTEXT_SUBS"))},D.$$arity=1);p(x,
"RUBY_ENGINE")["$=="]("opal")?a.def(d,"$sub_specialchars",T=function(a){var b,c;return f(f(b=f(c=a["$include?"](">"))?c:a["$include?"]("&"))?b:a["$include?"]("<"))?a.$gsub(p(x,"SpecialCharsRx"),p(x,"SpecialCharsTr")):a},T.$$arity=1):c;a.alias(d,"sub_specialcharacters","sub_specialchars");a.def(d,"$sub_quotes",K=function(a){var b,e=c;null==this.document&&(this.document=c);f(p(x,"QuotedTextSniffRx")["$[]"](e=this.document.$compat_mode())["$match?"](a))&&t(p(x,"QUOTE_SUBS")["$[]"](e),"each",[],(b=function(e,
f,d){var g=b.$$s||this,n;null==e&&(e=c);null==f&&(f=c);null==d&&(d=c);return a=t(a,"gsub",[d],(n=function(){var a=n.$$s||this;null==v["~"]&&(v["~"]=c);return a.$convert_quoted_text(v["~"],e,f)},n.$$s=g,n.$$arity=0,n))},b.$$s=this,b.$$arity=3,b));return a},K.$$arity=1);a.def(d,"$sub_attributes",Q=function(b,e){var d,g,k,l,h=c,r=c,u=c,m=c,q=c,M=c,A=c,I=c;null==this.document&&(this.document=c);null==e&&(e=n([],{}));h=this.document.$attributes();r=u=m=q=M=A=c;b=t(b,"gsub",[p(x,"AttributeReferenceRx")],
(d=function(){var b=d.$$s||this,g,n,w,k,l=c,I=c,U=c,D=c;null==b.document&&(b.document=c);return f(f(g=((n=v["~"])===c?c:n["$[]"](1))["$=="](p(x,"RS")))?g:((n=v["~"])===c?c:n["$[]"](4))["$=="](p(x,"RS")))?"{"+((g=v["~"])===c?c:g["$[]"](2))+"}":f((g=v["~"])===c?c:g["$[]"](3))?function(){l=(I=((g=v["~"])===c?c:g["$[]"](2)).$split(":",3)).$shift();return"set"["$==="](l)?(n=p(x,"Parser").$store_attribute(I["$[]"](0),f(w=I["$[]"](1))?w:"",b.document),g=a.to_ary(n),U=null==g[1]?c:g[1],n,f(f(g=U)?g:(M=f(n=
M)?n:f(w=h["$[]"]("attribute-undefined"))?w:p(x,"Compliance").$attribute_undefined())["$!="]("drop-line"))?r=q=p(x,"DEL"):r=u=p(x,"CAN")):"counter2"["$==="](l)?(t(b.document,"counter",a.to_a(I)),r=q=p(x,"DEL")):t(b.document,"counter",a.to_a(I))}():f(h["$key?"](D=((g=v["~"])===c?c:g["$[]"](2)).$downcase()))?h["$[]"](D):f(U=p(x,"INTRINSIC_ATTRIBUTES")["$[]"](D))?U:function(){l=A=f(g=A)?g:f(n=f(w=e["$[]"]("attribute_missing"))?w:h["$[]"]("attribute-missing"))?n:p(x,"Compliance").$attribute_missing();
if("drop"["$==="](l))return r=q=p(x,"DEL");if("drop-line"["$==="](l))return(m=f(g=m)?g:f(n=e["$[]"]("drop_line_severity"))?n:"info")["$=="]("info")&&t(b.$logger(),"info",[],(k=function(){return"dropping line containing reference to missing attribute: "+D},k.$$s=b,k.$$arity=0,k)),r=u=p(x,"CAN");"warn"["$==="](l)&&b.$logger().$warn("skipping reference to missing attribute: "+D);return(g=v["~"])===c?c:g["$[]"](0)}()},d.$$s=this,d.$$arity=0,d));return f(r)?f(q)?(I=b.$squeeze(p(x,"DEL")).$split(p(x,"LF"),
-1),f(u)?t(I,"reject",[],(g=function(a){var b,e,d;null==a&&(a=c);return f(b=f(e=f(d=a["$=="](p(x,"DEL")))?d:a["$=="](p(x,"CAN")))?e:a["$start_with?"](p(x,"CAN")))?b:a["$include?"](p(x,"CAN"))},g.$$s=this,g.$$arity=1,g)).$join(p(x,"LF")).$delete(p(x,"DEL")):t(I,"reject",[],(k=function(a){null==a&&(a=c);return a["$=="](p(x,"DEL"))},k.$$s=this,k.$$arity=1,k)).$join(p(x,"LF")).$delete(p(x,"DEL"))):f(b["$include?"](p(x,"LF")))?t(b.$split(p(x,"LF"),-1),"reject",[],(l=function(a){var b,e;null==a&&(a=c);
return f(b=f(e=a["$=="](p(x,"CAN")))?e:a["$start_with?"](p(x,"CAN")))?b:a["$include?"](p(x,"CAN"))},l.$$s=this,l.$$arity=1,l)).$join(p(x,"LF")):"":b},Q.$$arity=-2);a.def(d,"$sub_replacements",z=function(a){var b;f(p(x,"ReplaceableTextRx")["$match?"](a))&&t(p(x,"REPLACEMENTS"),"each",[],(b=function(e,f,d){var g=b.$$s||this,n;null==e&&(e=c);null==f&&(f=c);null==d&&(d=c);return a=t(a,"gsub",[e],(n=function(){var a=n.$$s||this;null==v["~"]&&(v["~"]=c);return a.$do_replacement(v["~"],f,d)},n.$$s=g,n.$$arity=
0,n))},b.$$s=this,b.$$arity=3,b));return a},z.$$arity=1);a.def(d,"$sub_macros",V=function(e){var d,k,h,r,u,M,A,I,D,T,K,Q,z,V,S,Z=c,w=c,H=c,ba=c,L=c,U=c,Ha=c;null==this.document&&(this.document=c);null==this.context&&(this.context=c);null==this.parent&&(this.parent=c);Z=e["$include?"]("[");w=e["$include?"](":");H=f(d=Z)?w:d;ba=f(d=H)?e["$include?"](":["):d;L=(U=this.document).$attributes();f(f(d=Ha=U.$extensions())?Ha["$inline_macros?"]():d)&&t(Ha.$inline_macros(),"each",[],(k=function(b){var d=k.$$s||
this,w;null==b&&(b=c);return e=t(e,"gsub",[b.$instance().$regexp()],(w=function(){var e=w.$$s||this,d,k,l,h=c,Ca=c,r=c,H=c,u=c,m=c,Ua=c,q=c,M=c;null==v["~"]&&(v["~"]=c);if(f((h=(d=v["~"])===c?c:d["$[]"](0))["$start_with?"](p(x,"RS"))))return((d=v["~"])===c?c:d["$[]"](0)).$slice(1,((d=v["~"])===c?c:d["$[]"](0)).$length());if(f(v["~"].$names()["$empty?"]()))d=[(k=v["~"])===c?c:k["$[]"](1),(k=v["~"])===c?c:k["$[]"](2)];else{a:{try{var A=v["~"]["$[]"]("target");break a}catch(fb){if(a.rescue(fb,[p(x,"StandardError")]))try{A=
c;break a}finally{a.pop_exception()}else throw fb;}A=void 0}d=A;a:{try{var U=v["~"]["$[]"]("content");break a}catch(fb){if(a.rescue(fb,[p(x,"StandardError")]))try{U=c;break a}finally{a.pop_exception()}else throw fb;}U=void 0}d=[d,U]}Ca=d[0];r=d[1];d;H=f(u=(m=b.$config())["$[]"]("default_attrs"))?u.$merge():n([],{});f(r)&&(f(r["$empty?"]())?m["$[]"]("content_model")["$=="]("attributes")||(Ua=["text",r],t(H,"[]=",a.to_a(Ua)),Ua[g(Ua.length,1)]):(r=e.$normalize_text(r,!0,!0),m["$[]"]("content_model")["$=="]("attributes")?
e.$parse_attributes(r,f(d=f(k=m["$[]"]("positional_attrs"))?k:m["$[]"]("pos_attrs"))?d:[],n(["into"],{into:H})):(Ua=["text",r],t(H,"[]=",a.to_a(Ua)),Ua[g(Ua.length,1)])),Ca=f(d=Ca)?d:m["$[]"]("format")["$=="]("short")?r:Ca);return f(p(x,"Inline")["$==="](q=b.$process_method()["$[]"](e,Ca,H)))?(f(f(d=M=q.$attributes().$delete("subs"))?M=e.$expand_subs(M,"custom inline macro"):d)&&(Ua=[e.$apply_subs(q.$text(),M)],t(q,"text=",a.to_a(Ua)),Ua[g(Ua.length,1)]),q.$convert()):f(q)?(t(e.$logger(),"info",[],
(l=function(){return"expected substitution value for custom inline macro to be of type Inline; got "+q.$class()+": "+h},l.$$s=e,l.$$arity=0,l)),q):""},w.$$s=d,w.$$arity=0,w))},k.$$s=this,k.$$arity=1,k));f(L["$key?"]("experimental"))&&(f(f(d=ba)?f(h=e["$include?"]("kbd:"))?h:e["$include?"]("btn:"):d)&&(e=t(e,"gsub",[p(x,"InlineKbdBtnMacroRx")],(r=function(){var e=r.$$s||this,d,w,k,h=c,H=c,u=c;u=c;return f((d=v["~"])===c?c:d["$[]"](1))?((d=v["~"])===c?c:d["$[]"](0)).$slice(1,((d=v["~"])===c?c:d["$[]"](0)).$length()):
((d=v["~"])===c?c:d["$[]"](2))["$=="]("kbd")?(f((h=((d=v["~"])===c?c:d["$[]"](3)).$strip())["$include?"](p(x,"R_SB")))&&(h=h.$gsub(p(x,"ESC_R_SB"),p(x,"R_SB"))),f(f(d=l(h.$length(),1))?H=f(H=h.$index(",",1))?[H,h.$index("+",1)].$compact().$min():h.$index("+",1):d)?(u=h.$slice(H,1),f(h["$end_with?"](u))?(h=t(h.$chop().$split(u,-1),"map",[],(w=function(a){null==a&&(a=c);return a.$strip()},w.$$s=e,w.$$arity=1,w)),u=[-1,b(h["$[]"](-1),u)],t(h,"[]=",a.to_a(u)),u[g(u.length,1)]):h=t(h.$split(u),"map",[],
(k=function(a){null==a&&(a=c);return a.$strip()},k.$$s=e,k.$$arity=1,k))):h=[h],p(x,"Inline").$new(e,"kbd",c,n(["attributes"],{attributes:n(["keys"],{keys:h})})).$convert()):p(x,"Inline").$new(e,"button",e.$normalize_text((d=v["~"])===c?c:d["$[]"](3),!0,!0)).$convert()},r.$$s=this,r.$$arity=0,r))),f(f(d=H)?e["$include?"]("menu:"):d)&&(e=t(e,"gsub",[p(x,"InlineMenuMacroRx")],(u=function(){var a=u.$$s||this,b,e,d=c,g=c,w=c;w=g=c;if(f(((b=v["~"])===c?c:b["$[]"](0))["$start_with?"](p(x,"RS"))))return((b=
v["~"])===c?c:b["$[]"](0)).$slice(1,((b=v["~"])===c?c:b["$[]"](0)).$length());d=(b=v["~"])===c?c:b["$[]"](1);f(g=(b=v["~"])===c?c:b["$[]"](2))?(f(g["$include?"](p(x,"R_SB")))&&(g=g.$gsub(p(x,"ESC_R_SB"),p(x,"R_SB"))),f(w=f(g["$include?"]("&gt;"))?"&gt;":f(g["$include?"](","))?",":c)?(g=t(g.$split(w),"map",[],(e=function(a){null==a&&(a=c);return a.$strip()},e.$$s=a,e.$$arity=1,e)),w=g.$pop()):(b=[[],g.$rstrip()],g=b[0],w=b[1],b)):(b=[[],c],g=b[0],w=b[1],b);return p(x,"Inline").$new(a,"menu",c,n(["attributes"],
{attributes:n(["menu","submenus","menuitem"],{menu:d,submenus:g,menuitem:w})})).$convert()},u.$$s=this,u.$$arity=0,u))),f(f(d=e["$include?"]('"'))?e["$include?"]("&gt;"):d)&&(e=t(e,"gsub",[p(x,"InlineMenuRx")],(M=function(){var b=M.$$s||this,e,d,g,w=c,k=c;var l=c;if(f(((e=v["~"])===c?c:e["$[]"](0))["$start_with?"](p(x,"RS"))))return((e=v["~"])===c?c:e["$[]"](0)).$slice(1,((e=v["~"])===c?c:e["$[]"](0)).$length());l=t(((d=v["~"])===c?c:d["$[]"](1)).$split("&gt;"),"map",[],(g=function(a){null==a&&(a=
c);return a.$strip()},g.$$s=b,g.$$arity=1,g));e=a.to_ary(l);w=null==e[0]?c:e[0];k=q.call(e,1);l;l=k.$pop();return p(x,"Inline").$new(b,"menu",c,n(["attributes"],{attributes:n(["menu","submenus","menuitem"],{menu:w,submenus:k,menuitem:l})})).$convert()},M.$$s=this,M.$$arity=0,M))));f(f(d=H)?f(h=e["$include?"]("image:"))?h:e["$include?"]("icon:"):d)&&(e=t(e,"gsub",[p(x,"InlineImageMacroRx")],(A=function(){var b=A.$$s||this,e,d,w,k=c;if(f(((e=v["~"])===c?c:e["$[]"](0))["$start_with?"](p(x,"RS"))))return((e=
v["~"])===c?c:e["$[]"](0)).$slice(1,((e=v["~"])===c?c:e["$[]"](0)).$length());f(((e=v["~"])===c?c:e["$[]"](0))["$start_with?"]("icon:"))?(e=["icon",["size"]],d=e[0],w=e[1]):(e=["image",["alt","width","height"]],d=e[0],w=e[1]);e;var l=(e=v["~"])===c?c:e["$[]"](1);w=b.$parse_attributes((e=v["~"])===c?c:e["$[]"](2),w,n(["unescape_input"],{unescape_input:!0}));d["$=="]("icon")||(U.$register("images",l),k=["imagesdir",L["$[]"]("imagesdir")],t(w,"[]=",a.to_a(k)),k[g(k.length,1)]);f(e=w["$[]"]("alt"))?e:
(k=["alt",(k=["default-alt",p(x,"Helpers").$basename(l,!0).$tr("_-"," ")],t(w,"[]=",a.to_a(k)),k[g(k.length,1)])],t(w,"[]=",a.to_a(k)),k[g(k.length,1)]);return p(x,"Inline").$new(b,"image",c,n(["type","target","attributes"],{type:d,target:l,attributes:w})).$convert()},A.$$s=this,A.$$arity=0,A)));f(f(d=f(h=e["$include?"]("(("))?e["$include?"]("))"):h)?d:f(h=ba)?e["$include?"]("dexterm"):h)&&(e=t(e,"gsub",[p(x,"InlineIndextermMacroRx")],(I=function(){var b=I.$$s||this,e,d,w,k,l=c,h=c,r=c,H=c,u=c,m=
c,M=c,A=c,U=c,L=c,ba=c,D=c,T=c,K=c,Z=c,Ha=c;return function(){l=(e=v["~"])===c?c:e["$[]"](1);if("indexterm"["$==="](l)){if(f(((e=v["~"])===c?c:e["$[]"](0))["$start_with?"](p(x,"RS"))))return((e=v["~"])===c?c:e["$[]"](0)).$slice(1,((e=v["~"])===c?c:e["$[]"](0)).$length());if(f((h=b.$normalize_text((e=v["~"])===c?c:e["$[]"](2),!0,!0))["$include?"]("=")))if(f(r=(H=p(x,"AttributeList").$new(h,b).$parse())["$[]"](1))){u=[r];if(f(m=H["$[]"](2))&&(u["$<<"](m),f(M=H["$[]"](3))))u["$<<"](M);A=["terms",u];
t(H,"[]=",a.to_a(A));A[g(A.length,1)];f(U=H["$[]"]("see-also"))&&(A=["see-also",function(){return f(U["$include?"](","))?t(U.$split(","),"map",[],(d=function(a){null==a&&(a=c);return a.$lstrip()},d.$$s=b,d.$$arity=1,d)):[U]}()],t(H,"[]=",a.to_a(A)),A[g(A.length,1)])}else H=n(["terms"],{terms:h});else H=n(["terms"],{terms:b.$split_simple_csv(h)});return p(x,"Inline").$new(b,"indexterm",c,n(["attributes"],{attributes:H})).$convert()}if("indexterm2"["$==="](l)){if(f(((e=v["~"])===c?c:e["$[]"](0))["$start_with?"](p(x,
"RS"))))return((e=v["~"])===c?c:e["$[]"](0)).$slice(1,((e=v["~"])===c?c:e["$[]"](0)).$length());f((L=b.$normalize_text((e=v["~"])===c?c:e["$[]"](2),!0,!0))["$include?"]("="))&&(L=f(e=f(w=(H=p(x,"AttributeList").$new(L,b).$parse())["$[]"](1))?w:H=c)?e:L,f(f(e=H)?U=H["$[]"]("see-also"):e)&&(A=["see-also",function(){return f(U["$include?"](","))?t(U.$split(","),"map",[],(k=function(a){null==a&&(a=c);return a.$lstrip()},k.$$s=b,k.$$arity=1,k)):[U]}()],t(H,"[]=",a.to_a(A)),A[g(A.length,1)]));return p(x,
"Inline").$new(b,"indexterm",L,n(["attributes","type"],{attributes:H,type:"visible"})).$convert()}ba=(e=v["~"])===c?c:e["$[]"](3);if(f(((e=v["~"])===c?c:e["$[]"](0))["$start_with?"](p(x,"RS"))))if(f(f(e=ba["$start_with?"]("("))?ba["$end_with?"](")"):e))ba=ba.$slice(1,g(ba.$length(),2)),e=[!0,"(",")"],D=e[0],T=e[1],K=e[2],e;else return((e=v["~"])===c?c:e["$[]"](0)).$slice(1,((e=v["~"])===c?c:e["$[]"](0)).$length());else D=!0,f(ba["$start_with?"]("("))?(f(ba["$end_with?"](")"))?(e=[ba.$slice(1,g(ba.$length(),
2)),!1],ba=e[0],D=e[1]):(e=[ba.$slice(1,ba.$length()),"(",""],ba=e[0],T=e[1],K=e[2]),e):f(ba["$end_with?"](")"))&&(e=[ba.$chop(),"",")"],ba=e[0],T=e[1],K=e[2],e);f(D)?(f((L=b.$normalize_text(ba,!0))["$include?"](";&"))&&(f(L["$include?"](" &gt;&gt; "))?(w=L.$partition(" &gt;&gt; "),e=a.to_ary(w),L=null==e[0]?c:e[0],Z=null==e[2]?c:e[2],w,H=n(["see"],{see:Z})):f(L["$include?"](" &amp;&gt; "))&&(w=L.$split(" &amp;&gt; "),e=a.to_ary(w),L=null==e[0]?c:e[0],U=q.call(e,1),w,H=n(["see-also"],{"see-also":U}))),
Ha=p(x,"Inline").$new(b,"indexterm",L,n(["attributes","type"],{attributes:H,type:"visible"})).$convert()):(H=n([],{}),f((u=b.$normalize_text(ba,!0))["$include?"](";&"))&&(f(u["$include?"](" &gt;&gt; "))?(w=u.$partition(" &gt;&gt; "),e=a.to_ary(w),u=null==e[0]?c:e[0],Z=null==e[2]?c:e[2],w,A=["see",Z],t(H,"[]=",a.to_a(A)),A[g(A.length,1)]):f(u["$include?"](" &amp;&gt; "))&&(w=u.$split(" &amp;&gt; "),e=a.to_ary(w),u=null==e[0]?c:e[0],U=q.call(e,1),w,A=["see-also",U],t(H,"[]=",a.to_a(A)),A[g(A.length,
1)])),A=["terms",b.$split_simple_csv(u)],t(H,"[]=",a.to_a(A)),A[g(A.length,1)],Ha=p(x,"Inline").$new(b,"indexterm",c,n(["attributes"],{attributes:H})).$convert());return f(T)?""+T+Ha+K:Ha}()},I.$$s=this,I.$$arity=0,I)));f(f(d=w)?e["$include?"]("://"):d)&&(e=t(e,"gsub",[p(x,"InlineLinkRx")],(D=function(){var e=D.$$s||this,d,w,k,l=c,h=c,r=c,H=c,u=c;if(f(f(d=(w=v["~"])===c?c:w["$[]"](2))?((w=v["~"])===c?c:w["$[]"](5))["$!"]():d)){if(f(((d=v["~"])===c?c:d["$[]"](1))["$start_with?"](p(x,"RS"))))return((d=
v["~"])===c?c:d["$[]"](0)).$slice(1,((d=v["~"])===c?c:d["$[]"](0)).$length());if(f(((d=v["~"])===c?c:d["$[]"](3))["$start_with?"](p(x,"RS"))))return""+((d=v["~"])===c?c:d["$[]"](1))+((d=v["~"])===c?c:d["$[]"](0)).$slice(b(((d=v["~"])===c?c:d["$[]"](1)).$length(),1),((d=v["~"])===c?c:d["$[]"](0)).$length());if(!f((d=v["~"])===c?c:d["$[]"](6)))return(d=v["~"])===c?c:d["$[]"](0);U.$register("links",k=b((d=v["~"])===c?c:d["$[]"](3),(d=v["~"])===c?c:d["$[]"](6)));l=f(L["$key?"]("hide-uri-scheme"))?k.$sub(p(x,
"UriSniffRx"),""):k;return p(x,"Inline").$new(e,"anchor",l,n(["type","target","attributes"],{type:"link",target:k,attributes:n(["role"],{role:"bare"})})).$convert()}if(f(((d=v["~"])===c?c:d["$[]"](3))["$start_with?"](p(x,"RS"))))return""+((d=v["~"])===c?c:d["$[]"](1))+((d=v["~"])===c?c:d["$[]"](0)).$slice(b(((d=v["~"])===c?c:d["$[]"](1)).$length(),1),((d=v["~"])===c?c:d["$[]"](0)).$length());d=[(w=v["~"])===c?c:w["$[]"](1),b((w=v["~"])===c?c:w["$[]"](3),f(w=(k=v["~"])===c?c:k["$[]"](4))?w:(k=v["~"])===
c?c:k["$[]"](7)),""];var m=d[0];k=d[1];var q=d[2];d;if(f((d=v["~"])===c?c:d["$[]"](5)))m["$=="]("link:")&&(m=""),f((l=(d=v["~"])===c?c:d["$[]"](5))["$empty?"]())&&(l=c);else{w=m;if("link:"["$==="](w)||'"'["$==="](w)||"'"["$==="](w))return(d=v["~"])===c?c:d["$[]"](0);w=(d=v["~"])===c?c:d["$[]"](8);if(";"["$==="](w)){if(f((k=k.$chop())["$end_with?"](")"))?(k=k.$chop(),q=");"):q=";",k["$=="]((d=v["~"])===c?c:d["$[]"](3)))return(d=v["~"])===c?c:d["$[]"](0)}else if(":"["$==="](w)&&(f((k=k.$chop())["$end_with?"](")"))?
(k=k.$chop(),q="):"):q=":",k["$=="]((d=v["~"])===c?c:d["$[]"](3))))return(d=v["~"])===c?c:d["$[]"](0)}var A=n(["type"],{type:"link"});f(l)?(f(l["$include?"](p(x,"R_SB")))&&(h=l=l.$gsub(p(x,"ESC_R_SB"),p(x,"R_SB"))),f(f(d=U.$compat_mode()["$!"]())?l["$include?"]("="):d)&&(w=e.$extract_attributes_from_text(l,""),d=a.to_ary(w),l=null==d[0]?c:d[0],r=null==d[1]?c:d[1],w,h=l,H=["id",r["$[]"]("id")],t(A,"[]=",a.to_a(H)),H[g(H.length,1)]),f(l["$end_with?"]("^"))&&(h=l=l.$chop(),f(r)?f(d=r["$[]"]("window"))?
d:(H=["window","_blank"],t(r,"[]=",a.to_a(H)),H[g(H.length,1)]):r=n(["window"],{window:"_blank"})),f(f(d=h)?h["$empty?"]():d)&&(l=f(L["$key?"]("hide-uri-scheme"))?k.$sub(p(x,"UriSniffRx"),""):k,u=!0)):(l=f(L["$key?"]("hide-uri-scheme"))?k.$sub(p(x,"UriSniffRx"),""):k,u=!0);f(u)&&(f(r)?(H=["role",f(r["$key?"]("role"))?"bare "+r["$[]"]("role"):"bare"],t(r,"[]=",a.to_a(H)),H[g(H.length,1)]):r=n(["role"],{role:"bare"}));U.$register("links",(H=["target",k],t(A,"[]=",a.to_a(H)),H[g(H.length,1)]));f(r)&&
(H=["attributes",r],t(A,"[]=",a.to_a(H)),H[g(H.length,1)]);return""+m+p(x,"Inline").$new(e,"anchor",l,A).$convert()+q},D.$$s=this,D.$$arity=0,D)));f(f(d=H)?f(h=e["$include?"]("link:"))?h:e["$include?"]("ilto:"):d)&&(e=t(e,"gsub",[p(x,"InlineLinkMacroRx")],(T=function(){var e=T.$$s||this,d,w,k=c,l;var h=c;if(f(((d=v["~"])===c?c:d["$[]"](0))["$start_with?"](p(x,"RS"))))return((d=v["~"])===c?c:d["$[]"](0)).$slice(1,((d=v["~"])===c?c:d["$[]"](0)).$length());var r=f(w=(d=v["~"])===c?c:d["$[]"](1))?b("mailto:",
k=(d=v["~"])===c?c:d["$[]"](2)):(d=v["~"])===c?c:d["$[]"](2);d=[c,n(["type"],{type:"link"})];var H=d[0];var u=d[1];d;f((l=(d=v["~"])===c?c:d["$[]"](3))["$empty?"]())||(f(l["$include?"](p(x,"R_SB")))&&(l=l.$gsub(p(x,"ESC_R_SB"),p(x,"R_SB"))),f(w)?f(f(d=U.$compat_mode()["$!"]())?l["$include?"](","):d)&&(h=e.$extract_attributes_from_text(l,""),d=a.to_ary(h),l=null==d[0]?c:d[0],H=null==d[1]?c:d[1],h,h=["id",H["$[]"]("id")],t(u,"[]=",a.to_a(h)),h[g(h.length,1)],f(H["$key?"](2))&&(r=f(H["$key?"](3))?""+
r+"?subject="+p(x,"Helpers").$encode_uri_component(H["$[]"](2))+"&amp;body="+p(x,"Helpers").$encode_uri_component(H["$[]"](3)):""+r+"?subject="+p(x,"Helpers").$encode_uri_component(H["$[]"](2)))):f(f(d=U.$compat_mode()["$!"]())?l["$include?"]("="):d)&&(h=e.$extract_attributes_from_text(l,""),d=a.to_ary(h),l=null==d[0]?c:d[0],H=null==d[1]?c:d[1],h,h=["id",H["$[]"]("id")],t(u,"[]=",a.to_a(h)),h[g(h.length,1)]),f(l["$end_with?"]("^"))&&(l=l.$chop(),f(H)?f(d=H["$[]"]("window"))?d:(h=["window","_blank"],
t(H,"[]=",a.to_a(h)),h[g(h.length,1)]):H=n(["window"],{window:"_blank"})));f(l["$empty?"]())&&(f(w)?l=k:(f(L["$key?"]("hide-uri-scheme"))?f((l=r.$sub(p(x,"UriSniffRx"),""))["$empty?"]())&&(l=r):l=r,f(H)?(h=["role",f(H["$key?"]("role"))?"bare "+H["$[]"]("role"):"bare"],t(H,"[]=",a.to_a(h)),h[g(h.length,1)]):H=n(["role"],{role:"bare"})));U.$register("links",(h=["target",r],t(u,"[]=",a.to_a(h)),h[g(h.length,1)]));f(H)&&(h=["attributes",H],t(u,"[]=",a.to_a(h)),h[g(h.length,1)]);return p(x,"Inline").$new(e,
"anchor",l,u).$convert()},T.$$s=this,T.$$arity=0,T)));f(e["$include?"]("@"))&&(e=t(e,"gsub",[p(x,"InlineEmailRx")],(K=function(){var a=K.$$s||this,e,d;if(f((e=v["~"])===c?c:e["$[]"](1)))return((e=v["~"])===c?c:e["$[]"](1))["$=="](p(x,"RS"))?((e=v["~"])===c?c:e["$[]"](0)).$slice(1,((e=v["~"])===c?c:e["$[]"](0)).$length()):(e=v["~"])===c?c:e["$[]"](0);var g=b("mailto:",d=(e=v["~"])===c?c:e["$[]"](0));U.$register("links",g);return p(x,"Inline").$new(a,"anchor",d,n(["type","target"],{type:"link",target:g})).$convert()},
K.$$s=this,K.$$arity=0,K)));f(f(d=f(h=Z)?this.context["$=="]("list_item"):h)?this.parent.$style()["$=="]("bibliography"):d)&&(e=t(e,"sub",[p(x,"InlineBiblioAnchorRx")],(Q=function(){var a=Q.$$s||this,b;return p(x,"Inline").$new(a,"anchor",(b=v["~"])===c?c:b["$[]"](2),n(["type","id"],{type:"bibref",id:(b=v["~"])===c?c:b["$[]"](1)})).$convert()},Q.$$s=this,Q.$$arity=0,Q)));f(f(d=f(h=Z)?e["$include?"]("[["):h)?d:f(h=H)?e["$include?"]("or:"):h)&&(e=t(e,"gsub",[p(x,"InlineAnchorRx")],(z=function(){var a=
z.$$s||this,b,e,d,g=c;if(f((b=v["~"])===c?c:b["$[]"](1)))return((b=v["~"])===c?c:b["$[]"](0)).$slice(1,((b=v["~"])===c?c:b["$[]"](0)).$length());f(d=(b=v["~"])===c?c:b["$[]"](2))?g=(b=v["~"])===c?c:b["$[]"](3):(d=(b=v["~"])===c?c:b["$[]"](4),f(f(b=g=(e=v["~"])===c?c:e["$[]"](5))?g["$include?"](p(x,"R_SB")):b)&&(g=g.$gsub(p(x,"ESC_R_SB"),p(x,"R_SB"))));return p(x,"Inline").$new(a,"anchor",g,n(["type","id"],{type:"ref",id:d})).$convert()},z.$$s=this,z.$$arity=0,z)));f(f(d=f(h=e["$include?"]("&"))?e["$include?"](";&l"):
h)?d:f(h=H)?e["$include?"]("xref:"):h)&&(e=t(e,"gsub",[p(x,"InlineXrefMacroRx")],(V=function(){var e=V.$$s||this,d,w,k=c,h=c,r=c,H=c,u,m=u=c,q=c;if(f(((d=v["~"])===c?c:d["$[]"](0))["$start_with?"](p(x,"RS"))))return((d=v["~"])===c?c:d["$[]"](0)).$slice(1,((d=v["~"])===c?c:d["$[]"](0)).$length());var A=n([],{});if(f(w=(d=v["~"])===c?c:d["$[]"](1))){if(f(w["$include?"](","))){var M=w.$partition(",");d=a.to_ary(M);w=null==d[0]?c:d[0];k=null==d[2]?c:d[2];M;f((k=k.$lstrip())["$empty?"]())&&(k=c)}}else h=
!0,w=(d=v["~"])===c?c:d["$[]"](2),f(k=(d=v["~"])===c?c:d["$[]"](3))&&(f(k["$include?"](p(x,"R_SB")))&&(k=k.$gsub(p(x,"ESC_R_SB"),p(x,"R_SB"))),f(f(d=U.$compat_mode()["$!"]())?k["$include?"]("="):d)&&(M=e.$extract_attributes_from_text(k),d=a.to_ary(M),k=null==d[0]?c:d[0],A=null==d[1]?c:d[1],M));f(U.$compat_mode())?r=w:f(f(d=H=w.$index("#"))?w["$[]"](g(H,1))["$!="]("&"):d)?f(l(H,0))?(f(l(u=g(g(w.$length(),1),H),0))?(d=[w.$slice(0,H),w.$slice(b(H,1),u)],u=d[0],r=d[1],d):u=w.$chop(),f(h)?f(u["$end_with?"](".adoc"))?
m=u=u.$slice(0,g(u.$length(),5)):f(p(x,"Helpers")["$extname?"](u)["$!"]())&&(m=u):m=f(t(u,"end_with?",a.to_a(p(x,"ASCIIDOC_EXTENSIONS").$keys())))?u=u.$slice(0,u.$rindex(".")):u):(d=[w,w.$slice(1,w.$length())],q=d[0],r=d[1],d):f(h)?f(w["$end_with?"](".adoc"))?m=u=w.$slice(0,g(w.$length(),5)):f(p(x,"Helpers")["$extname?"](w))?u=w:r=w:r=w;f(q)?(w=r,f(f(d=e.$logger()["$info?"]())?U.$catalog()["$[]"]("refs")["$[]"](w)["$!"]():d)&&e.$logger().$info("possible invalid reference: "+w)):f(u)?f(f(d=m)?f(M=
U.$attributes()["$[]"]("docname")["$=="](u))?M:U.$catalog()["$[]"]("includes")["$[]"](u):d)?f(r)?(d=[r,c,"#"+r],w=d[0],u=d[1],q=d[2],d,f(f(d=e.$logger()["$info?"]())?U.$catalog()["$[]"]("refs")["$[]"](w)["$!"]():d)&&e.$logger().$info("possible invalid reference: "+w)):(d=[c,c,"#"],w=d[0],u=d[1],q=d[2],d):(d=[u,""+(f(M=U.$attributes()["$[]"]("relfileprefix"))?M:"")+u+(f(m)?U.$attributes().$fetch("relfilesuffix",U.$outfilesuffix()):"")],w=d[0],u=d[1],d,f(r)?(d=[""+w+"#"+r,""+u+"#"+r],w=d[0],q=d[1],
d):q=u):f(f(d=U.$compat_mode())?d:p(x,"Compliance").$natural_xrefs()["$!"]())?(d=[r,"#"+r],w=d[0],q=d[1],d,f(f(d=e.$logger()["$info?"]())?U.$catalog()["$[]"]("refs")["$[]"](w)["$!"]():d)&&e.$logger().$info("possible invalid reference: "+w)):f(U.$catalog()["$[]"]("refs")["$[]"](r))?(d=[r,"#"+r],w=d[0],q=d[1],d):f(f(d=f(M=r["$include?"](" "))?M:r.$downcase()["$!="](r))?w=U.$resolve_id(r):d)?(d=[w,"#"+w],r=d[0],q=d[1],d):(d=[r,"#"+r],w=d[0],q=d[1],d,f(e.$logger()["$info?"]())&&e.$logger().$info("possible invalid reference: "+
w));d=["path",u];t(A,"[]=",a.to_a(d));d[g(d.length,1)];d=["fragment",r];t(A,"[]=",a.to_a(d));d[g(d.length,1)];d=["refid",w];t(A,"[]=",a.to_a(d));d[g(d.length,1)];return p(x,"Inline").$new(e,"anchor",k,n(["type","target","attributes"],{type:"xref",target:q,attributes:A})).$convert()},V.$$s=this,V.$$arity=0,V)));f(f(d=H)?e["$include?"]("tnote"):d)&&(e=t(e,"gsub",[p(x,"InlineFootnoteMacroRx")],(S=function(){var b=S.$$s||this,e,d,g,w,k=c,l=c,h=d=c,r=d=c;if(f(((e=v["~"])===c?c:e["$[]"](0))["$start_with?"](p(x,
"RS"))))return((e=v["~"])===c?c:e["$[]"](0)).$slice(1,((e=v["~"])===c?c:e["$[]"](0)).$length());if(f((e=v["~"])===c?c:e["$[]"](1)))if(f((e=v["~"])===c?c:e["$[]"](3)))d=((g=v["~"])===c?c:g["$[]"](3)).$split(",",2),e=a.to_ary(d),k=null==e[0]?c:e[0],l=null==e[1]?c:e[1],d,f(U.$compat_mode())||b.$logger().$warn("found deprecated footnoteref macro: "+((e=v["~"])===c?c:e["$[]"](0))+"; use footnote macro with target instead");else return(e=v["~"])===c?c:e["$[]"](0);else k=(e=v["~"])===c?c:e["$[]"](2),l=(e=
v["~"])===c?c:e["$[]"](3);if(f(k))f(d=t(U.$footnotes(),"find",[],(w=function(a){null==a&&(a=c);return a.$id()["$=="](k)},w.$$s=b,w.$$arity=1,w)))?(e=[d.$index(),d.$text()],h=e[0],l=e[1],e,e=["xref",k,c],d=e[0],r=e[1],k=e[2]):f(l)?(l=b.$restore_passthroughs(b.$normalize_text(l,!0,!0)),h=U.$counter("footnote-number"),U.$register("footnotes",m(p(x,"Document"),"Footnote").$new(h,k,l)),e=["ref",c],d=e[0],r=e[1]):(b.$logger().$warn("invalid footnote reference: "+k),e=["xref",k,k,c],d=e[0],r=e[1],l=e[2],
k=e[3]),e;else if(f(l))l=b.$restore_passthroughs(b.$normalize_text(l,!0,!0)),h=U.$counter("footnote-number"),U.$register("footnotes",m(p(x,"Document"),"Footnote").$new(h,k,l)),d=r=c;else return(e=v["~"])===c?c:e["$[]"](0);return p(x,"Inline").$new(b,"footnote",l,n(["attributes","id","target","type"],{attributes:n(["index"],{index:h}),id:k,target:r,type:d})).$convert()},S.$$s=this,S.$$arity=0,S)));return e},V.$$arity=1);a.def(d,"$sub_post_replacements",B=function(a){var b,e,d,k=c,l=c;null==this.attributes&&
(this.attributes=c);null==this.document&&(this.document=c);if(f(f(b=this.attributes["$[]"]("hardbreaks-option"))?b:this.document.$attributes()["$[]"]("hardbreaks-option"))){k=a.$split(p(x,"LF"),-1);if(f(h(k.$size(),2)))return a;l=k.$pop();return t(k,"map",[],(e=function(a){var b=e.$$s||this;null==a&&(a=c);return p(x,"Inline").$new(b,"break",f(a["$end_with?"](p(x,"HARD_LINE_BREAK")))?a.$slice(0,g(a.$length(),2)):a,n(["type"],{type:"line"})).$convert()},e.$$s=this,e.$$arity=1,e))["$<<"](l).$join(p(x,
"LF"))}return f(f(b=a["$include?"](p(x,"PLUS")))?a["$include?"](p(x,"HARD_LINE_BREAK")):b)?t(a,"gsub",[p(x,"HardLineBreakRx")],(d=function(){var a=d.$$s||this,b;return p(x,"Inline").$new(a,"break",(b=v["~"])===c?c:b["$[]"](1),n(["type"],{type:"line"})).$convert()},d.$$s=this,d.$$arity=0,d)):a},B.$$arity=1);a.def(d,"$sub_source",la=function(a,b){return f(b)?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)},la.$$arity=2);a.def(d,"$sub_callouts",C=function(a){var e,d=c,g=c;d=f(this["$attr?"]("line-comment"))?
p(x,"CalloutSourceRxMap")["$[]"](this.$attr("line-comment")):p(x,"CalloutSourceRx");g=0;return t(a,"gsub",[d],(e=function(){var a=e.$$s||this,d,k;null==a.document&&(a.document=c);return f((d=v["~"])===c?c:d["$[]"](2))?((d=v["~"])===c?c:d["$[]"](0)).$sub(p(x,"RS"),""):p(x,"Inline").$new(a,"callout",((d=v["~"])===c?c:d["$[]"](4))["$=="](".")?(g=b(g,1)).$to_s():(d=v["~"])===c?c:d["$[]"](4),n(["id","attributes"],{id:a.document.$callouts().$read_next_id(),attributes:n(["guard"],{guard:f(d=(k=v["~"])===
c?c:k["$[]"](1))?d:((k=v["~"])===c?c:k["$[]"](3))["$=="]("--")?["\x3c!--","--\x3e"]:c})})).$convert()},e.$$s=this,e.$$arity=0,e))},C.$$arity=1);a.def(d,"$highlight_source",E=function(b,e){var d,g,k=c,l=c,r,u=c,m=c;null==this.document&&(this.document=c);null==this.passthroughs&&(this.passthroughs=c);if(!f(f(d=k=this.document.$syntax_highlighter())?k["$highlight?"]():d))return this.$sub_source(b,e);if(f(e)){var q=this.$extract_callouts(b);d=a.to_ary(q);b=null==d[0]?c:d[0];l=null==d[1]?c:d[1];q}e=this.document.$attributes();
var t=k.$name();f(f(d=r=f(this["$attr?"]("linenums"))?(f(q=e["$[]"](""+t+"-linenums-mode"))?q:"table").$to_sym():c)?h(u=this.$attr("start",1).$to_i(),1):d)&&(u=1);f(this["$attr?"]("highlight"))&&(m=this.$resolve_lines_to_highlight(b,this.$attr("highlight"),u));q=k.$highlight(this,b,this.$attr("language"),n("callouts css_mode highlight_lines number_lines start_line_number style".split(" "),{callouts:l,css_mode:(f(g=e["$[]"](""+t+"-css"))?g:"class").$to_sym(),highlight_lines:m,number_lines:r,start_line_number:u,
style:e["$[]"](""+t+"-style")}));d=a.to_ary(q);b=null==d[0]?c:d[0];d=null==d[1]?c:d[1];q;f(this.passthroughs["$empty?"]())||(b=b.$gsub(p(x,"HighlightedPassSlotRx"),""+p(x,"PASS_START")+"\\1"+p(x,"PASS_END")));return f(l["$nil_or_empty?"]())?b:this.$restore_callouts(b,l,d)},E.$$arity=2);a.def(d,"$resolve_lines_to_highlight",qa=function(e,d,n){var k,l,r=c,u=c;null==n&&(n=c);r=[];f(d["$include?"](" "))&&(d=d.$delete(" "));t(f(d["$include?"](","))?d.$split(","):d.$split(";"),"map",[],(k=function(d){var n,
k=c;var l=c;null==d&&(d=c);f(d["$start_with?"]("!"))&&(d=d.$slice(1,d.$length()),k=!0);if(f(n=f(d["$include?"](".."))?"..":f(d["$include?"]("-"))?"-":c)){n=d.$partition(n);d=a.to_ary(n);l=null==d[0]?c:d[0];var u=null==d[2]?c:d[2];n;f(f(d=u["$empty?"]())?d:h(u=u.$to_i(),0))&&(u=b(e.$count(p(x,"LF")),1));return f(k)?r=g(r,a.Range.$new(l.$to_i(),u,!1).$to_a()):r=r["$|"](a.Range.$new(l.$to_i(),u,!1).$to_a())}return f(k)?r.$delete(d.$to_i()):f(r["$include?"](l=d.$to_i())["$!"]())?r["$<<"](l):c},k.$$s=
this,k.$$arity=1,k));(u=f(n)?g(n,1):0)["$=="](0)||(r=t(r,"map",[],(l=function(a){null==a&&(a=c);return g(a,u)},l.$$s=this,l.$$arity=1,l)));return r.$sort()},qa.$$arity=-3);a.def(d,"$extract_passthroughs",F=function(b){var e,d,k,h,u,m=c,q=c,A=c,M=c,I=c;null==this.document&&(this.document=c);null==this.passthroughs&&(this.passthroughs=c);m=this.document.$compat_mode();q=this.passthroughs;f(f(e=f(d=b["$include?"]("++"))?d:b["$include?"]("$$"))?e:b["$include?"]("ss:"))&&(b=t(b,"gsub",[p(x,"InlinePassMacroRx")],
(k=function(){var b=k.$$s||this,e,d,h,u,A=c,w=c,H=c,M=h=c;if(f(d=(e=v["~"])===c?c:e["$[]"](4))){if(f(f(e=m)?d["$=="]("++"):e))return(f((e=v["~"])===c?c:e["$[]"](2))?""+((e=v["~"])===c?c:e["$[]"](1))+"["+((e=v["~"])===c?c:e["$[]"](2))+"]"+((e=v["~"])===c?c:e["$[]"](3)):""+((e=v["~"])===c?c:e["$[]"](1))+((e=v["~"])===c?c:e["$[]"](3)))+"++"+b.$extract_passthroughs((e=v["~"])===c?c:e["$[]"](5))+"++";if(f(h=(e=v["~"])===c?c:e["$[]"](2))){if(f(l(u=((e=v["~"])===c?c:e["$[]"](3)).$length(),0)))return""+((e=
v["~"])===c?c:e["$[]"](1))+"["+h+"]"+r(p(x,"RS"),g(u,1))+d+((e=v["~"])===c?c:e["$[]"](5))+d;((e=v["~"])===c?c:e["$[]"](1))["$=="](p(x,"RS"))?A="["+h+"]":d["$=="]("++")?h["$=="]("x-")?(w=!0,H=n([],{})):f(h["$end_with?"](" x-"))?(w=!0,H=b.$parse_quoted_text_attributes(h.$slice(0,g(h.$length(),3)))):H=b.$parse_quoted_text_attributes(h):H=b.$parse_quoted_text_attributes(h)}else if(f(l(u=((e=v["~"])===c?c:e["$[]"](3)).$length(),0)))return""+r(p(x,"RS"),g(u,1))+d+((e=v["~"])===c?c:e["$[]"](5))+d;h=d["$=="]("+++")?
[]:p(x,"BASIC_SUBS");b=f(H)?f(w)?[M=q.$size(),n(["text","subs","type","attributes"],{text:(e=v["~"])===c?c:e["$[]"](5),subs:p(x,"NORMAL_SUBS"),type:"monospaced",attributes:H})]:[M=q.$size(),n(["text","subs","type","attributes"],{text:(e=v["~"])===c?c:e["$[]"](5),subs:h,type:"unquoted",attributes:H})]:[M=q.$size(),n(["text","subs"],{text:(e=v["~"])===c?c:e["$[]"](5),subs:h})]}else{if(((e=v["~"])===c?c:e["$[]"](6))["$=="](p(x,"RS")))return((e=v["~"])===c?c:e["$[]"](0)).$slice(1,((e=v["~"])===c?c:e["$[]"](0)).$length());
b=f(h=(e=v["~"])===c?c:e["$[]"](7))?[M=q.$size(),n(["text","subs"],{text:b.$normalize_text((e=v["~"])===c?c:e["$[]"](8),c,!0),subs:b.$resolve_pass_subs(h)})]:[M=q.$size(),n(["text"],{text:b.$normalize_text((e=v["~"])===c?c:e["$[]"](8),c,!0)})]}t(q,"[]=",a.to_a(b));b[g(b.length,1)];return""+(f(e=A)?e:"")+p(x,"PASS_START")+M+p(x,"PASS_END")},k.$$s=this,k.$$arity=0,k)));d=p(x,"InlinePassRx")["$[]"](m);e=a.to_ary(d);A=null==e[0]?c:e[0];M=null==e[1]?c:e[1];I=null==e[2]?c:e[2];d;f(f(e=b["$include?"](A))?
e:f(d=M)?b["$include?"](M):d)&&(b=t(b,"gsub",[I],(h=function(){var b=h.$$s||this,e,d,k=c,l=c,r=c,w=c;var H=(e=v["~"])===c?c:e["$[]"](1);var u=f(e=(d=v["~"])===c?c:d["$[]"](4))?e:(d=v["~"])===c?c:d["$[]"](3);f((e=v["~"])===c?c:e["$[]"](5))&&(k=!0);var M=(e=v["~"])===c?c:e["$[]"](6);var A=(e=v["~"])===c?c:e["$[]"](7);var I=(e=v["~"])===c?c:e["$[]"](8);f(m)?l=!0:f(f(e=u)?f(d=u["$=="]("x-"))?d:u["$end_with?"](" x-"):e)&&(l=r=!0);if(f(u)){if(f(k))return""+H+"["+u+"]"+M.$slice(1,M.$length());if(H["$=="](p(x,
"RS"))){if(f(f(e=r)?A["$=="]("`"):e))return""+H+"["+u+"]"+M;H="["+u+"]"}else w=f(r)?u["$=="]("x-")?n([],{}):b.$parse_quoted_text_attributes(u.$slice(0,g(u.$length(),3))):b.$parse_quoted_text_attributes(u)}else{if(f(k))return""+H+M.$slice(1,M.$length());if(f(f(e=m)?H["$=="](p(x,"RS")):e))return M}f(m)?I=[b=q.$size(),n(["text","subs","attributes","type"],{text:I,subs:p(x,"BASIC_SUBS"),attributes:w,type:"monospaced"})]:f(w)?f(l)?(e=A["$=="]("`")?p(x,"BASIC_SUBS"):p(x,"NORMAL_SUBS"),I=[b=q.$size(),n(["text",
"subs","attributes","type"],{text:I,subs:e,attributes:w,type:"monospaced"})]):I=[b=q.$size(),n(["text","subs","attributes","type"],{text:I,subs:p(x,"BASIC_SUBS"),attributes:w,type:"unquoted"})]:I=[b=q.$size(),n(["text","subs"],{text:I,subs:p(x,"BASIC_SUBS")})];t(q,"[]=",a.to_a(I));I[g(I.length,1)];return""+H+p(x,"PASS_START")+b+p(x,"PASS_END")},h.$$s=this,h.$$arity=0,h)));f(f(e=b["$include?"](":"))?f(d=b["$include?"]("stem:"))?d:b["$include?"]("math:"):e)&&(b=t(b,"gsub",[p(x,"InlineStemMacroRx")],
(u=function(){var b=u.$$s||this,e,d;null==b.document&&(b.document=c);if(f(((e=v["~"])===c?c:e["$[]"](0))["$start_with?"](p(x,"RS"))))return((e=v["~"])===c?c:e["$[]"](0)).$slice(1,((e=v["~"])===c?c:e["$[]"](0)).$length());(d=((e=v["~"])===c?c:e["$[]"](1)).$to_sym())["$=="]("stem")&&(d=p(x,"STEM_TYPE_ALIASES")["$[]"](b.document.$attributes()["$[]"]("stem")).$to_sym());var k=(e=v["~"])===c?c:e["$[]"](2);var l=b.$normalize_text((e=v["~"])===c?c:e["$[]"](3),c,!0);f(f(e=d["$=="]("latexmath")?l["$start_with?"]("$"):
d["$=="]("latexmath"))?l["$end_with?"]("$"):e)&&(l=l.$slice(1,g(l.$length(),2)));k=f(k)?b.$resolve_pass_subs(k):f(b.document["$basebackend?"]("html"))?p(x,"BASIC_SUBS"):c;d=[b=q.$size(),n(["text","subs","type"],{text:l,subs:k,type:d})];t(q,"[]=",a.to_a(d));d[g(d.length,1)];return""+p(x,"PASS_START")+b+p(x,"PASS_END")},u.$$s=this,u.$$arity=0,u)));return b},F.$$arity=1);a.def(d,"$restore_passthroughs",W=function(a){var b,e=c;null==this.passthroughs&&(this.passthroughs=c);e=this.passthroughs;return t(a,
"gsub",[p(x,"PassSlotRx")],(b=function(){var d=b.$$s||this,g,k,l,h,r=c;if(f(k=e["$[]"](((g=v["~"])===c?c:g["$[]"](1)).$to_i())))return g=d.$apply_subs(k["$[]"]("text"),k["$[]"]("subs")),f(l=k["$[]"]("type"))&&(f(h=k["$[]"]("attributes"))&&(r=h["$[]"]("id")),g=p(x,"Inline").$new(d,"quoted",g,n(["type","id","attributes"],{type:l,id:r,attributes:h})).$convert()),f(g["$include?"](p(x,"PASS_START")))?d.$restore_passthroughs(g):g;d.$logger().$error("unresolved passthrough detected: "+a);return"??pass??"},
b.$$s=this,b.$$arity=0,b))},W.$$arity=1);a.def(d,"$resolve_subs",G=function(a,e,d,n){var k,h=c,r=c,u=c,m=c;null==e&&(e="block");null==d&&(d=c);null==n&&(n=c);if(f(a["$nil_or_empty?"]()))return c;h=c;f(a["$include?"](" "))&&(a=a.$delete(" "));r=p(x,"SubModifierSniffRx")["$match?"](a);t(a.$split(","),"each",[],(k=function(a){var n,k,l=c;null==a&&(a=c);var u=c;f(r)&&((n=a.$chr())["$=="]("+")?(u="append",a=a.$slice(1,a.$length())):n["$=="]("-")?(u="remove",a=a.$slice(1,a.$length())):f(a["$end_with?"]("+"))&&
(u="prepend",a=a.$chop()));a=a.$to_sym();f((n=e["$=="]("inline"))?f(k=a["$=="]("verbatim"))?k:a["$=="]("v"):e["$=="]("inline"))?a=p(x,"BASIC_SUBS"):f(p(x,"SUB_GROUPS")["$key?"](a))?a=p(x,"SUB_GROUPS")["$[]"](a):f(f(n=e["$=="]("inline")?a.$length()["$=="](1):e["$=="]("inline"))?p(x,"SUB_HINTS")["$key?"](a):n)?(a=p(x,"SUB_HINTS")["$[]"](a),a=f(l=p(x,"SUB_GROUPS")["$[]"](a))?l:[a]):a=[a];if(f(u))return h=f(n=h)?n:f(d)?d.$drop(0):[],"append"["$==="](u)?h=b(h,a):"prepend"["$==="](u)?h=b(a,h):"remove"["$==="](u)?
h=g(h,a):c;h=f(n=h)?n:[];return h=b(h,a)},k.$$s=this,k.$$arity=1,k));if(!f(h))return c;u=h["$&"](p(x,"SUB_OPTIONS")["$[]"](e));f(g(h,u)["$empty?"]())||(m=g(h,u),this.$logger().$warn("invalid substitution type"+(f(l(m.$size(),1))?"s":"")+(f(n)?" for ":"")+n+": "+m.$join(", ")));return u},G.$$arity=-2);a.def(d,"$resolve_block_subs",y=function(a,b,c){return this.$resolve_subs(a,"block",b,c)},y.$$arity=3);a.def(d,"$resolve_pass_subs",xa=function(a){return this.$resolve_subs(a,"inline",c,"passthrough macro")},
xa.$$arity=1);a.def(d,"$expand_subs",J=function(a,e){var d,g,n=this,k=c,l=c;null==e&&(e=c);return function(){k=a;return m("::","Symbol")["$==="](k)?a["$=="]("none")?c:f(d=p(x,"SUB_GROUPS")["$[]"](a))?d:[a]:m("::","Array")["$==="](k)?(l=[],t(a,"each",[],(g=function(a){var e;null==a&&(a=c);return a["$=="]("none")?c:f(e=p(x,"SUB_GROUPS")["$[]"](a))?l=b(l,e):l["$<<"](a)},g.$$s=n,g.$$arity=1,g)),f(l["$empty?"]())?c:l):n.$resolve_subs(a,"inline",c,e)}()},J.$$arity=-2);a.def(d,"$commit_subs",ha=function(){var b,
e,d,n,k=c,l=c,h=c;null==this.default_subs&&(this.default_subs=c);null==this.content_model&&(this.content_model=c);null==this.context&&(this.context=c);null==this.subs&&(this.subs=c);null==this.attributes&&(this.attributes=c);null==this.style&&(this.style=c);null==this.document&&(this.document=c);if(!f(n=this.default_subs))if(n=this.content_model,"simple"["$==="](n))n=p(x,"NORMAL_SUBS");else if("verbatim"["$==="](n))n=this.context["$=="]("verse")?p(x,"NORMAL_SUBS"):p(x,"VERBATIM_SUBS");else if("raw"["$==="](n))n=
this.context["$=="]("stem")?p(x,"BASIC_SUBS"):p(x,"NO_SUBS");else return this.subs;f(k=this.attributes["$[]"]("subs"))?this.subs=f(b=this.$resolve_block_subs(k,n,this.context))?b:[]:this.subs=n.$drop(0);f(f(b=f(e=f(d=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"))?l=this.document.$syntax_highlighter():d)?l["$highlight?"]():e)?h=this.subs.$index("specialcharacters"):b)&&(b=[h,"highlight"],t(this.subs,"[]=",a.to_a(b)),b[g(b.length,1)]);return c},ha.$$arity=
0);a.def(d,"$parse_attributes",X=function(a,b,e){var d,g=c,k=c;null==this.document&&(this.document=c);null==b&&(b=[]);null==e&&(e=n([],{}));if(f(f(a)?a["$empty?"]():!0))return n([],{});f(e["$[]"]("unescape_input"))&&(a=this.$normalize_text(a,!0,!0));f(f(d=e["$[]"]("sub_input"))?a["$include?"](p(x,"ATTR_REF_HEAD")):d)&&(a=this.document.$sub_attributes(a));f(e["$[]"]("sub_result"))&&(g=this);return f(k=e["$[]"]("into"))?p(x,"AttributeList").$new(a,g).$parse_into(k,b):p(x,"AttributeList").$new(a,g).$parse(b)},
X.$$arity=-2);d.$private();a.def(d,"$extract_attributes_from_text",Y=function(a,b){var e=c,d=c;null==b&&(b=c);var g=f(a["$include?"](p(x,"LF")))?a.$tr(p(x,"LF")," "):a;return f(e=(d=p(x,"AttributeList").$new(g,this).$parse())["$[]"](1))?e["$=="](g)?[a,d.$clear()]:[e,d]:[b,d]},Y.$$arity=-2);a.def(d,"$extract_callouts",N=function(e){var d,k=c,l=c,h=c,r=c,u=c;k=n([],{});l=h=0;r=c;u=f(this["$attr?"]("line-comment"))?p(x,"CalloutExtractRxMap")["$[]"](this.$attr("line-comment")):p(x,"CalloutExtractRx");
e=t(e.$split(p(x,"LF"),-1),"map",[],(d=function(e){var n=d.$$s||this,m;null==e&&(e=c);h=b(h,1);return t(e,"gsub",[u],(m=function(){var e,d,n=c;if(f((e=v["~"])===c?c:e["$[]"](2)))return((e=v["~"])===c?c:e["$[]"](0)).$sub(p(x,"RS"),"");(f(e=k["$[]"](h))?e:(n=[h,[]],t(k,"[]=",a.to_a(n)),n[g(n.length,1)]))["$<<"]([f(e=(d=v["~"])===c?c:d["$[]"](1))?e:((d=v["~"])===c?c:d["$[]"](3))["$=="]("--")?["\x3c!--","--\x3e"]:c,((e=v["~"])===c?c:e["$[]"](4))["$=="](".")?(l=b(l,1)).$to_s():(e=v["~"])===c?c:e["$[]"](4)]);
r=h;return""},m.$$s=n,m.$$arity=0,m))},d.$$s=this,d.$$arity=1,d)).$join(p(x,"LF"));f(r)?r["$=="](h)&&(e=""+e+p(x,"LF")):k=c;return[e,k]},N.$$arity=1);a.def(d,"$restore_callouts",ya=function(e,d,g){var k,l=c,h=c;null==g&&(g=c);f(g)?(l=e.$slice(0,g),e=e.$slice(g,e.$length())):l="";h=0;return b(l,t(e.$split(p(x,"LF"),-1),"map",[],(k=function(e){var g=k.$$s||this,l,r,u=l=c;var m=c;null==g.document&&(g.document=c);null==e&&(e=c);return f(l=d.$delete(h=b(h,1)))?l.$size()["$=="](1)?(l=l["$[]"](0),m=a.to_ary(l),
u=null==m[0]?c:m[0],m=null==m[1]?c:m[1],l,""+e+p(x,"Inline").$new(g,"callout",m,n(["id","attributes"],{id:g.document.$callouts().$read_next_id(),attributes:n(["guard"],{guard:u})})).$convert()):""+e+t(l,"map",[],(r=function(a,b){var e=r.$$s||this;null==e.document&&(e.document=c);null==a&&(a=c);null==b&&(b=c);return p(x,"Inline").$new(e,"callout",b,n(["id","attributes"],{id:e.document.$callouts().$read_next_id(),attributes:n(["guard"],{guard:a})})).$convert()},r.$$s=g,r.$$arity=2,r)).$join(" "):e},
k.$$s=this,k.$$arity=1,k)).$join(p(x,"LF")))},ya.$$arity=-3);a.def(d,"$convert_quoted_text",O=function(a,b,e){var d=c,g=c,k=c,l=c;if(f(a["$[]"](0)["$start_with?"](p(x,"RS"))))if(f(e["$=="]("constrained")?d=a["$[]"](2):e["$=="]("constrained")))g="["+d+"]";else return a["$[]"](0).$slice(1,a["$[]"](0).$length());if(e["$=="]("constrained")){if(f(g))return""+g+p(x,"Inline").$new(this,"quoted",a["$[]"](3),n(["type"],{type:b})).$convert();f(e=a["$[]"](2))&&(k=(l=this.$parse_quoted_text_attributes(e))["$[]"]("id"),
b["$=="]("mark")&&(b="unquoted"));return""+a["$[]"](1)+p(x,"Inline").$new(this,"quoted",a["$[]"](3),n(["type","id","attributes"],{type:b,id:k,attributes:l})).$convert()}f(e=a["$[]"](1))&&(k=(l=this.$parse_quoted_text_attributes(e))["$[]"]("id"),b["$=="]("mark")&&(b="unquoted"));return p(x,"Inline").$new(this,"quoted",a["$[]"](2),n(["type","id","attributes"],{type:b,id:k,attributes:l})).$convert()},O.$$arity=3);a.def(d,"$do_replacement",ia=function(a,c,e){var d;return f((d=a["$[]"](0))["$include?"](p(x,
"RS")))?d.$sub(p(x,"RS"),""):"none"["$==="](e)?c:"bounding"["$==="](e)?b(b(a["$[]"](1),c),a["$[]"](2)):b(a["$[]"](1),c)},ia.$$arity=3);p(x,"RUBY_ENGINE")["$=="]("opal")||c;a.def(d,"$parse_quoted_text_attributes",Ba=function(e){var d;f(e["$include?"](p(x,"ATTR_REF_HEAD")))&&(e=this.$sub_attributes(e));f(e["$include?"](","))&&(e=e.$slice(0,e.$index(",")));if(f((e=e.$strip())["$empty?"]()))return n([],{});if(f(f(d=e["$start_with?"](".","#"))?p(x,"Compliance").$shorthand_property_syntax():d)){var k=e.$partition("#");
d=a.to_ary(k);e=null==d[0]?c:d[0];d=null==d[2]?c:d[2];k;var h=n([],{});if(f(d["$empty?"]()))f(l(e.$length(),1))&&(k=["role",e.$tr("."," ").$lstrip()],t(h,"[]=",a.to_a(k)),k[g(k.length,1)]);else{k=d.$partition(".");d=a.to_ary(k);var r=null==d[0]?c:d[0];d=null==d[2]?c:d[2];k;f(r["$empty?"]())||(k=["id",r],t(h,"[]=",a.to_a(k)),k[g(k.length,1)]);f(d["$empty?"]())?f(l(e.$length(),1))&&(k=["role",e.$tr("."," ").$lstrip()],t(h,"[]=",a.to_a(k)),k[g(k.length,1)]):(k=f(l(e.$length(),1))?["role",b(b(e,"."),
d).$tr("."," ").$lstrip()]:["role",d.$tr("."," ")],t(h,"[]=",a.to_a(k)),k[g(k.length,1)])}return h}return n(["role"],{role:e})},Ba.$$arity=1);a.def(d,"$normalize_text",P=function(a,b,e){var d;null==b&&(b=c);null==e&&(e=c);f(a["$empty?"]())||(f(b)&&(a=a.$strip().$tr(p(x,"LF")," ")),f(f(d=e)?a["$include?"](p(x,"R_SB")):d)&&(a=a.$gsub(p(x,"ESC_R_SB"),p(x,"R_SB"))));return a},P.$$arity=-2);a.def(d,"$split_simple_csv",wa=function(a){var e,d,g=c,n=c,p=c;return f(a["$empty?"]())?[]:f(a["$include?"]('"'))?
(g=[],n="",p=c,t(a,"each_char",[],(e=function(a){var e=c;null==a&&(a=c);return function(){e=a;if(","["$==="](e)){if(f(p))return n=b(n,a);g["$<<"](n.$strip());return n=""}return'"'["$==="](e)?p=p["$!"]():n=b(n,a)}()},e.$$s=this,e.$$arity=1,e)),g["$<<"](n.$strip())):t(a.$split(","),"map",[],(d=function(a){null==a&&(a=c);return a.$strip()},d.$$s=this,d.$$arity=1,d))},wa.$$arity=1)})(d[0],d)}(k[0],k)};Opal.modules["asciidoctor/version"]=function(a){var b=[],g=a.module;b=[g(b[0],"Asciidoctor")].concat(b);
a.const_set(b[0],"VERSION","2.0.23")};Opal.modules["asciidoctor/abstract_node"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var l=[],h=a.nil,r=a.const_get_qualified,k=a.const_get_relative,c=a.module,m=a.klass,p=a.hash2,q=a.truthy,t=a.send;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $[] $merge $raise $converter $attributes $key? $[]= $- $delete $tap $new $each_key $end_with? $<< $slice $length $update $split $include? $=== $join $empty? $apply_reftext_subs $attr? $attr $extname? $image_uri $< $safe $uriish? $encode_spaces_in_uri $normalize_web_path $generate_data_uri_from_uri $generate_data_uri $extname $normalize_system_path $readable? $pack $binread $warn $logger $require_library $! $open_uri $content_type $read $base_dir $root? $path_resolver $system_path $web_path $!= $prepare_source_string $fetch $read_asset".split(" "));
return function(d,e){d=[c(d,"Asciidoctor")].concat(e);(function(c,$super,e){c=m(c,$super,"AbstractNode");var d=[c].concat(e),f,n,l,x,u,A,v,I,D,K,z,Q,B,C,E,F,fa,qa,ja,W,G,y,xa,J,ha,X,N,O,ya,P,ia,Ba,R;c.$$prototype.document=c.$$prototype.attributes=c.$$prototype.parent=h;c.$include(k(d,"Logging"));c.$include(k(d,"Substitutors"));c.$attr_reader("attributes");c.$attr_reader("context");c.$attr_reader("document");c.$attr_accessor("id");c.$attr_reader("node_name");c.$attr_reader("parent");a.def(c,"$initialize",
f=function(a,b,c){var e=h;null==c&&(c=p([],{}));b["$=="]("document")?this.document=this:q(a)&&(this.document=(this.parent=a).$document());this.node_name=(this.context=b).$to_s();this.attributes=q(e=c["$[]"]("attributes"))?e.$merge():p([],{});return this.passthroughs=[]},f.$$arity=-3);a.def(c,"$block?",n=function(){return this.$raise(r("::","NotImplementedError"))},n.$$arity=0);a.def(c,"$inline?",l=function(){return this.$raise(r("::","NotImplementedError"))},l.$$arity=0);a.def(c,"$converter",x=function(){return this.document.$converter()},
x.$$arity=0);a.def(c,"$parent=",u=function(a){var b;return b=[a,a.$document()],this.parent=b[0],this.document=b[1],b},u.$$arity=1);a.def(c,"$attr",A=function(a,b,c){var e,d,f,g;null==b&&(b=h);null==c&&(c=h);return q(e=this.attributes["$[]"](a.$to_s()))?e:q(d=q(f=q(g=c)?this.parent:g)?this.document.$attributes()["$[]"]((c["$=="](!0)?a:c).$to_s()):f)?d:b},A.$$arity=-2);a.def(c,"$attr?",v=function(a,b,c){var e,d;null==b&&(b=h);null==c&&(c=h);return q(b)?b["$=="](q(e=this.attributes["$[]"](a.$to_s()))?
e:q(q(d=c)?this.parent:d)?this.document.$attributes()["$[]"]((c["$=="](!0)?a:c).$to_s()):h):q(e=this.attributes["$key?"](a.$to_s()))?e:q(q(d=c)?this.parent:d)?this.document.$attributes()["$key?"]((c["$=="](!0)?a:c).$to_s()):!1},v.$$arity=-2);a.def(c,"$set_attr",I=function(c,e,d){null==e&&(e="");null==d&&(d=!0);if(q(d["$=="](!1)?this.attributes["$key?"](c):d["$=="](!1)))return!1;c=[c,e];t(this.attributes,"[]=",a.to_a(c));c[b(c.length,1)];return!0},I.$$arity=-2);a.def(c,"$remove_attr",D=function(a){return this.attributes.$delete(a)},
D.$$arity=1);a.def(c,"$option?",K=function(a){return q(this.attributes["$[]"](""+a+"-option"))?!0:!1},K.$$arity=1);a.def(c,"$set_option",z=function(c){c=[""+c+"-option",""];t(this.attributes,"[]=",a.to_a(c));c[b(c.length,1)];return h},z.$$arity=1);a.def(c,"$enabled_options",Q=function(){var a;return t(r("::","Set").$new(),"tap",[],(a=function(c){var e=a.$$s||this,d;null==e.attributes&&(e.attributes=h);null==c&&(c=h);return t(e.attributes,"each_key",[],(d=function(a){null==a&&(a=h);return q(a.$to_s()["$end_with?"]("-option"))?
c["$<<"](a.$slice(0,b(a.$length(),7))):h},d.$$s=e,d.$$arity=1,d))},a.$$s=this,a.$$arity=1,a))},Q.$$arity=0);a.def(c,"$update_attributes",B=function(a){return this.attributes.$update(a)},B.$$arity=1);a.def(c,"$role",C=function(){return this.attributes["$[]"]("role")},C.$$arity=0);a.def(c,"$roles",E=function(){var a;return q(a=this.attributes["$[]"]("role"))?a.$split():[]},E.$$arity=0);a.def(c,"$role?",F=function(a){null==a&&(a=h);return q(a)?a["$=="](this.attributes["$[]"]("role")):this.attributes["$key?"]("role")},
F.$$arity=-1);a.def(c,"$has_role?",fa=function(a){var b;return q(b=this.attributes["$[]"]("role"))?(" "+b+" ")["$include?"](" "+a+" "):!1},fa.$$arity=1);a.def(c,"$role=",qa=function(c){c=["role",q(r("::","Array")["$==="](c))?c.$join(" "):c];t(this.attributes,"[]=",a.to_a(c));return c[b(c.length,1)]},qa.$$arity=1);a.def(c,"$add_role",ja=function(c){var e;if(q(e=this.attributes["$[]"]("role"))){if(q((" "+e+" ")["$include?"](" "+c+" ")))return!1;c=["role",""+e+" "+c];t(this.attributes,"[]=",a.to_a(c));
c[b(c.length,1)];return!0}c=["role",c];t(this.attributes,"[]=",a.to_a(c));c[b(c.length,1)];return!0},ja.$$arity=1);a.def(c,"$remove_role",W=function(c){var e,d=h;return q(q(e=d=this.attributes["$[]"]("role"))?(d=d.$split()).$delete(c):e)?(q(d["$empty?"]())?this.attributes.$delete("role"):(c=["role",d.$join(" ")],t(this.attributes,"[]=",a.to_a(c)),c[b(c.length,1)]),!0):!1},W.$$arity=1);a.def(c,"$reftext",G=function(){var a;return q(a=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(a):h},
G.$$arity=0);a.def(c,"$reftext?",y=function(){return this.attributes["$key?"]("reftext")},y.$$arity=0);a.def(c,"$icon_uri",xa=function(a){q(this["$attr?"]("icon"))?(a=this.$attr("icon"),q(k(d,"Helpers")["$extname?"](a))||(a=""+a+"."+this.document.$attr("icontype","png"))):a=""+a+"."+this.document.$attr("icontype","png");return this.$image_uri(a,"iconsdir")},xa.$$arity=1);a.def(c,"$image_uri",J=function(a,b){var c,e,f,n,p=h,l=h;null==b&&(b="imagesdir");return q(q(c=g((p=this.document).$safe(),r(k(d,
"SafeMode"),"SECURE")))?p["$attr?"]("data-uri"):c)?q(q(c=q(e=k(d,"Helpers")["$uriish?"](a))?a=k(d,"Helpers").$encode_spaces_in_uri(a):e)?c:q(e=q(f=q(n=b)?l=p.$attr(b):n)?k(d,"Helpers")["$uriish?"](l):f)?a=this.$normalize_web_path(a,l,!1):e)?q(p["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(a,p["$attr?"]("cache-uri")):a:this.$generate_data_uri(a,b):this.$normalize_web_path(a,q(b)?p.$attr(b):h)},J.$$arity=-2);a.def(c,"$media_uri",ha=function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,
q(b)?this.document.$attr(b):h)},ha.$$arity=-2);a.def(c,"$generate_data_uri",X=function(a,b){var c=h;null==b&&(b=h);var e=q(c=k(d,"Helpers").$extname(a,h))?c["$=="](".svg")?"image/svg+xml":"image/"+c.$slice(1,c.$length()):"application/octet-stream";a=q(b)?this.$normalize_system_path(a,this.document.$attr(b),h,p(["target_name"],{target_name:"image"})):this.$normalize_system_path(a);if(q(r("::","File")["$readable?"](a)))return"data:"+e+";base64,"+[r("::","File").$binread(a)].$pack("m0");this.$logger().$warn("image to embed not found or not readable: "+
a);return"data:"+e+";base64,"},X.$$arity=-2);a.def(c,"$generate_data_uri_from_uri",N=function(b,c){var e,f=h,g=h;null==c&&(c=!1);q(c)?k(d,"Helpers").$require_library("open-uri/cached","open-uri-cached"):q(k(d,"RUBY_ENGINE_OPAL")["$!"]())&&r("::","OpenURI");try{var n=t(r("::","OpenURI"),"open_uri",[b,k(d,"URI_READ_MODE")],(e=function(a){null==a&&(a=h);return[a.$content_type(),a.$read()]},e.$$s=this,e.$$arity=1,e));var p=a.to_ary(n);f=null==p[0]?h:p[0];g=null==p[1]?h:p[1];n;return"data:"+f+";base64,"+
[g].$pack("m0")}catch(Na){if(a.rescue(Na,[k(d,"StandardError")]))try{return this.$logger().$warn("could not retrieve image data from URI: "+b),b}finally{a.pop_exception()}else throw Na;}},N.$$arity=-2);a.def(c,"$normalize_asset_path",O=function(a,b,c){null==b&&(b="path");null==c&&(c=!0);return this.$normalize_system_path(a,this.document.$base_dir(),h,p(["target_name","recover"],{target_name:b,recover:c}))},O.$$arity=-2);a.def(c,"$normalize_system_path",ya=function(a,b,c,e){var f,n;null==b&&(b=h);
null==c&&(c=h);null==e&&(e=p([],{}));q(g((n=this.document).$safe(),r(k(d,"SafeMode"),"SAFE")))?q(b)?q(n.$path_resolver()["$root?"](b))||(b=r("::","File").$join(n.$base_dir(),b)):b=n.$base_dir():(b=q(f=b)?f:n.$base_dir(),c=q(f=c)?f:n.$base_dir());return n.$path_resolver().$system_path(a,b,c,e)},ya.$$arity=-2);a.def(c,"$normalize_web_path",P=function(a,b,c){var e;null==b&&(b=h);null==c&&(c=!0);return q(q(e=c)?k(d,"Helpers")["$uriish?"](a):e)?k(d,"Helpers").$encode_spaces_in_uri(a):this.document.$path_resolver().$web_path(a,
b)},P.$$arity=-2);a.def(c,"$read_asset",ia=function(a,b){var c;null==b&&(b=p([],{}));q(r("::","Hash")["$==="](b))||(b=p(["warn_on_failure"],{warn_on_failure:b["$!="](!1)}));if(q(r("::","File")["$readable?"](a)))return q(b["$[]"]("normalize"))?k(d,"Helpers").$prepare_source_string(r("::","File").$read(a,p(["mode"],{mode:k(d,"FILE_READ_MODE")}))).$join(k(d,"LF")):r("::","File").$read(a,p(["mode"],{mode:k(d,"FILE_READ_MODE")}));q(b["$[]"]("warn_on_failure"))&&this.$logger().$warn(""+(q(c=this.$attr("docfile"))?
c:"<stdin>")+": "+(q(c=b["$[]"]("label"))?c:"file")+" does not exist or cannot be read: "+a);return h},ia.$$arity=-2);a.def(c,"$read_contents",Ba=function(b,c){var e,f,g,n,l,x=h,u=h,m=h;null==c&&(c=p([],{}));x=this.document;if(q(q(e=k(d,"Helpers")["$uriish?"](b))?e:q(f=q(g=u=c["$[]"]("start"))?k(d,"Helpers")["$uriish?"](u):g)?b=x.$path_resolver().$web_path(b,u):f))if(q(x["$attr?"]("allow-uri-read"))){q(x["$attr?"]("cache-uri"))&&k(d,"Helpers").$require_library("open-uri/cached","open-uri-cached");
try{m=q(c["$[]"]("normalize"))?k(d,"Helpers").$prepare_source_string(t(r("::","OpenURI"),"open_uri",[b,k(d,"URI_READ_MODE")],(n=function(a){null==a&&(a=h);return a.$read()},n.$$s=this,n.$$arity=1,n))).$join(k(d,"LF")):t(r("::","OpenURI"),"open_uri",[b,k(d,"URI_READ_MODE")],(l=function(a){null==a&&(a=h);return a.$read()},l.$$s=this,l.$$arity=1,l))}catch(Ka){if(a.rescue(Ka,[k(d,"StandardError")]))try{q(c.$fetch("warn_on_failure",!0))&&this.$logger().$warn("could not retrieve contents of "+(q(e=c["$[]"]("label"))?
e:"asset")+" at URI: "+b)}finally{a.pop_exception()}else throw Ka;}}else q(c.$fetch("warn_on_failure",!0))&&this.$logger().$warn("cannot retrieve contents of "+(q(e=c["$[]"]("label"))?e:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)");else b=this.$normalize_system_path(b,c["$[]"]("start"),h,p(["target_name"],{target_name:q(e=c["$[]"]("label"))?e:"asset"})),m=this.$read_asset(b,p(["normalize","warn_on_failure","label"],{normalize:c["$[]"]("normalize"),warn_on_failure:c.$fetch("warn_on_failure",
!0),label:c["$[]"]("label")}));q(q(e=q(f=m)?c["$[]"]("warn_if_empty"):f)?m["$empty?"]():e)&&this.$logger().$warn("contents of "+(q(e=c["$[]"]("label"))?e:"asset")+" is empty: "+b);return m},Ba.$$arity=-2);return(a.def(c,"$is_uri?",R=function(a){return k(d,"Helpers")["$uriish?"](a)},R.$$arity=1),h)&&"is_uri?"})(d[0],null,d)}(l[0],l)};Opal.modules["asciidoctor/abstract_block"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===
typeof a&&"number"===typeof b?a+b:a["$+"](b)}var l=[],h=a.nil,r=a.const_get_qualified,k=a.const_get_relative,c=a.module,q=a.klass,p=a.hash2,m=a.send,t=a.truthy;a.add_stubs("$attr_reader $attr_writer $attr_accessor $== $=== $level $file $lineno $playback_attributes $convert $converter $join $map $to_s $parent $parent= $- $<< $empty? $Integer $find_by_internal $to_proc $context $[] $items $+ $find_index $include? $next_adjacent_block $blocks $select $sub_specialchars $match? $sub_replacements $title $apply_title_subs $delete $reftext $! $nil_or_empty? $sub_placeholder $sub_quotes $compat_mode $attributes $chomp $increment_and_store_counter $index= $numbered $sectname $counter $numeral= $numeral $caption= $int_to_roman $each $assign_numeral $reindex_sections $protected $has_role? $raise $header? $!= $flatten $head $rows $merge $body $foot $style $inner_document".split(" "));
return function(d,e){d=[c(d,"Asciidoctor")].concat(e);(function(c,$super,e){c=q(c,$super,"AbstractBlock");var d=[c].concat(e),f,n,l,x,u,A,v,D,I,z,K,B,C,Q,E,F,fa,qa,ja,W,G,y,J,ha,va,X,N,O,ya,P;c.$$prototype.source_location=c.$$prototype.document=c.$$prototype.attributes=c.$$prototype.blocks=c.$$prototype.numeral=c.$$prototype.context=c.$$prototype.parent=c.$$prototype.caption=c.$$prototype.style=c.$$prototype.converted_title=c.$$prototype.title=c.$$prototype.subs=c.$$prototype.next_section_index=c.$$prototype.next_section_ordinal=
c.$$prototype.id=c.$$prototype.header=h;c.$attr_reader("blocks");c.$attr_writer("caption");c.$attr_accessor("content_model");c.$attr_accessor("level");c.$attr_accessor("numeral");c.$attr_accessor("source_location");c.$attr_accessor("style");c.$attr_reader("subs");a.def(c,"$initialize",f=function(b,c,e){var g,n=f.$$p,l;n&&(f.$$p=null);var r=0;var x=arguments.length;for(l=Array(x);r<x;r++)l[r]=arguments[r];null==e&&(e=p([],{}));m(this,a.find_super_dispatcher(this,"initialize",f,!1),l,n);this.content_model=
"compound";this.blocks=[];this.subs=[];this.id=this.title=this.caption=this.numeral=this.style=this.default_subs=this.source_location=h;return t(t(g=c["$=="]("document"))?g:c["$=="]("section"))?(this.level=this.next_section_index=0,this.next_section_ordinal=1):t(k(d,"AbstractBlock")["$==="](b))?this.level=b.$level():this.level=h},f.$$arity=-3);a.def(c,"$block?",n=function(){return!0},n.$$arity=0);a.def(c,"$inline?",l=function(){return!1},l.$$arity=0);a.def(c,"$file",x=function(){var a;return t(a=
this.source_location)?this.source_location.$file():a},x.$$arity=0);a.def(c,"$lineno",u=function(){var a;return t(a=this.source_location)?this.source_location.$lineno():a},u.$$arity=0);a.def(c,"$convert",A=function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)},A.$$arity=0);a.alias(c,"render","convert");a.def(c,"$content",v=function(){var a;return m(this.blocks,"map",[],(a=function(a){null==a&&(a=h);return a.$convert()},a.$$s=this,a.$$arity=1,a)).$join(k(d,
"LF"))},v.$$arity=0);a.def(c,"$context=",D=function(a){return this.node_name=(this.context=a).$to_s()},D.$$arity=1);a.def(c,"$<<",I=function(c){if(!c.$parent()["$=="](this)){var e=[this];m(c,"parent=",a.to_a(e));e[b(e.length,1)]}this.blocks["$<<"](c);return this},I.$$arity=1);a.alias(c,"append","<<");a.def(c,"$blocks?",z=function(){return t(this.blocks["$empty?"]())?!1:!0},z.$$arity=0);a.def(c,"$sections?",K=function(){return!1},K.$$arity=0);a.def(c,"$number",B=function(){try{return this.$Integer(this.numeral)}catch(ia){if(a.rescue(ia,
[k(d,"StandardError")]))try{return this.numeral}finally{a.pop_exception()}else throw ia;}},B.$$arity=0);a.def(c,"$number=",C=function(a){return this.numeral=a.$to_s()},C.$$arity=1);a.def(c,"$find_by",Q=function(b){var c=Q.$$p,e=c||h,d=h;c&&(Q.$$p=null);c&&(Q.$$p=null);null==b&&(b=p([],{}));try{return m(this,"find_by_internal",[b,d=[]],e.$to_proc())}catch(Ea){if(a.rescue(Ea,[r("::","StopIteration")]))try{return d}finally{a.pop_exception()}else throw Ea;}},Q.$$arity=-1);a.alias(c,"query","find_by");
a.def(c,"$next_adjacent_block",E=function(){var a,b=h,c=h;return this.context["$=="]("document")?h:t((b=this.parent).$context()["$=="]("dlist")?this.context["$=="]("list_item"):(b=this.parent).$context()["$=="]("dlist"))?t(c=b.$items()["$[]"](g(m(b.$items(),"find_index",[],(a=function(b,c){var e=a.$$s||this,d;null==b&&(b=h);null==c&&(c=h);return t(d=b["$include?"](e))?d:c["$=="](e)},a.$$s=this,a.$$arity=2,a)),1)))?c:b.$next_adjacent_block():t(c=b.$blocks()["$[]"](g(b.$blocks().$find_index(this),1)))?
c:b.$next_adjacent_block()},E.$$arity=0);a.def(c,"$sections",F=function(){var a;return m(this.blocks,"select",[],(a=function(a){null==a&&(a=h);return a.$context()["$=="]("section")},a.$$s=this,a.$$arity=1,a))},F.$$arity=0);a.def(c,"$alt",fa=function(){var a;if(t(a=this.attributes["$[]"]("alt"))){if(a["$=="](this.attributes["$[]"]("default-alt")))return this.$sub_specialchars(a);a=this.$sub_specialchars(a);return t(k(d,"ReplaceableTextRx")["$match?"](a))?this.$sub_replacements(a):a}return""},fa.$$arity=
0);a.def(c,"$caption",qa=function(){return this.context["$=="]("admonition")?this.attributes["$[]"]("textlabel"):this.caption},qa.$$arity=0);a.def(c,"$captioned_title",ja=function(){return""+this.caption+this.$title()},ja.$$arity=0);a.def(c,"$list_marker_keyword",W=function(a){var b;null==a&&(a=h);return k(d,"ORDERED_LIST_KEYWORDS")["$[]"](t(b=a)?b:this.style)},W.$$arity=-1);a.def(c,"$title",G=function(){var a,b;return this.converted_title=t(a=this.converted_title)?a:t(b=this.title)?this.$apply_title_subs(this.title):
b},G.$$arity=0);a.def(c,"$title?",y=function(){return t(this.title)?!0:!1},y.$$arity=0);a.def(c,"$title=",J=function(a){this.converted_title=h;return this.title=a},J.$$arity=1);a.def(c,"$sub?",ha=function(a){return this.subs["$include?"](a)},ha.$$arity=1);a.def(c,"$remove_sub",va=function(a){this.subs.$delete(a);return h},va.$$arity=1);a.def(c,"$xreftext",X=function(a){var b,c,e=h,f=h,g=h;null==a&&(a=h);t(t(b=e=this.$reftext())?e["$empty?"]()["$!"]():b)?b=e:(t(t(b=t(c=a)?this.title:c)?this.caption["$nil_or_empty?"]()["$!"]():
b)?"full"["$==="](a)?(a=this.$sub_placeholder(this.$sub_quotes(t(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=t(t(b=t(c=this.numeral)?f=k(d,"CAPTION_ATTRIBUTE_NAMES")["$[]"](this.context):c)?g=this.document.$attributes()["$[]"](f):b)?""+g+" "+this.numeral+", "+a:""+this.caption.$chomp(". ")+", "+a):a="short"["$==="](a)?t(t(b=t(c=this.numeral)?f=k(d,"CAPTION_ATTRIBUTE_NAMES")["$[]"](this.context):c)?g=this.document.$attributes()["$[]"](f):b)?""+g+" "+this.numeral:this.caption.$chomp(". "):
this.$title():a=this.$title(),b=a);return b},X.$$arity=-1);a.def(c,"$assign_caption",N=function(a,b){var c,e,f=h,g=h;null==b&&(b=this.context);!t(t(c=t(e=this.caption)?e:this.title["$!"]())?c:this.caption=t(e=a)?e:this.document.$attributes()["$[]"]("caption"))&&t(t(c=f=k(d,"CAPTION_ATTRIBUTE_NAMES")["$[]"](b))?g=this.document.$attributes()["$[]"](f):c)&&(this.caption=""+g+" "+(this.numeral=this.document.$increment_and_store_counter(""+b+"-number",this))+". ");return h},N.$$arity=-2);a.def(c,"$assign_numeral",
O=function(c){var e,f=h,n,p=h;this.next_section_index=g((f=[this.next_section_index],m(c,"index=",a.to_a(f)),f[b(f.length,1)]),1);t(f=c.$numbered())&&((n=c.$sectname())["$=="]("appendix")?(f=[this.document.$counter("appendix-number","A")],m(c,"numeral=",a.to_a(f)),f[b(f.length,1)],f=[t(p=this.document.$attributes()["$[]"]("appendix-caption"))?""+p+" "+c.$numeral()+": ":""+c.$numeral()+". "],m(c,"caption=",a.to_a(f)),f[b(f.length,1)]):t(t(e=n["$=="]("chapter"))?e:f["$=="]("chapter"))?(f=[this.document.$counter("chapter-number",
1).$to_s()],m(c,"numeral=",a.to_a(f)),f[b(f.length,1)]):(f=[n["$=="]("part")?k(d,"Helpers").$int_to_roman(this.next_section_ordinal):this.next_section_ordinal.$to_s()],m(c,"numeral=",a.to_a(f)),f[b(f.length,1)],this.next_section_ordinal=g(this.next_section_ordinal,1)));return h},O.$$arity=1);a.def(c,"$reindex_sections",ya=function(){var a;this.next_section_index=0;this.next_section_ordinal=1;return m(this.blocks,"each",[],(a=function(b){var c=a.$$s||this;null==b&&(b=h);return b.$context()["$=="]("section")?
(c.$assign_numeral(b),b.$reindex_sections()):h},a.$$s=this,a.$$arity=1,a))},ya.$$arity=0);c.$protected();return(a.def(c,"$find_by_internal",P=function(b,c){var e=P.$$p,d=e||h,f,n,k,l,x,u,q,A,M,v,D=h,I=h,T=h,z=h,K=h,S=h;S=h;e&&(P.$$p=null);e&&(P.$$p=null);null==b&&(b=p([],{}));null==c&&(c=[]);if(t(t(f=t(n=t(k=t(l=D=t(I=b["$[]"]("context"))?h:!0)?l:I["$=="](this.context))?t(l=(T=b["$[]"]("style"))["$!"]())?l:T["$=="](this.style):k)?t(k=(z=b["$[]"]("role"))["$!"]())?k:this["$has_role?"](z):n)?t(n=(K=
b["$[]"]("id"))["$!"]())?n:K["$=="](this.id):f))if(d!==h)if(t(S=a.yield1(d,this))){if("prune"["$==="](S))return c["$<<"](this),t(K)&&this.$raise(r("::","StopIteration")),c;if("reject"["$==="](S))return t(K)&&this.$raise(r("::","StopIteration")),c;"stop"["$==="](S)?this.$raise(r("::","StopIteration")):(c["$<<"](this),t(K)&&this.$raise(r("::","StopIteration")))}else t(K)&&this.$raise(r("::","StopIteration"));else c["$<<"](this),t(K)&&this.$raise(r("::","StopIteration"));S=this.context;"document"["$==="](S)?
I["$=="]("document")||(t(t(f=this["$header?"]())?t(n=D)?n:I["$=="]("section"):f)&&m(this.header,"find_by_internal",[b,c],d.$to_proc()),m(this.blocks,"each",[],(x=function(a){null==a&&(a=h);return t(I["$=="]("section")?a.$context()["$!="]("section"):I["$=="]("section"))?h:m(a,"find_by_internal",[b,c],d.$to_proc())},x.$$s=this,x.$$arity=1,x))):"dlist"["$==="](S)?t(t(f=D)?f:I["$!="]("section"))&&m(this.blocks.$flatten(),"each",[],(u=function(a){null==a&&(a=h);return t(a)?m(a,"find_by_internal",[b,c],
d.$to_proc()):h},u.$$s=this,u.$$arity=1,u)):"table"["$==="](S)?t(b["$[]"]("traverse_documents"))?(m(this.$rows().$head(),"each",[],(q=function(a){var e=q.$$s||this,f;null==a&&(a=h);return m(a,"each",[],(f=function(a){null==a&&(a=h);return m(a,"find_by_internal",[b,c],d.$to_proc())},f.$$s=e,f.$$arity=1,f))},q.$$s=this,q.$$arity=1,q)),I["$=="]("inner_document")&&(b=b.$merge(p(["context"],{context:"document"}))),m(g(this.$rows().$body(),this.$rows().$foot()),"each",[],(A=function(a){var e=A.$$s||this,
f;null==a&&(a=h);return m(a,"each",[],(f=function(a){null==a&&(a=h);m(a,"find_by_internal",[b,c],d.$to_proc());return a.$style()["$=="]("asciidoc")?m(a.$inner_document(),"find_by_internal",[b,c],d.$to_proc()):h},f.$$s=e,f.$$arity=1,f))},A.$$s=this,A.$$arity=1,A))):m(g(g(this.$rows().$head(),this.$rows().$body()),this.$rows().$foot()),"each",[],(M=function(a){var e=M.$$s||this,f;null==a&&(a=h);return m(a,"each",[],(f=function(a){null==a&&(a=h);return m(a,"find_by_internal",[b,c],d.$to_proc())},f.$$s=
e,f.$$arity=1,f))},M.$$s=this,M.$$arity=1,M)):m(this.blocks,"each",[],(v=function(a){null==a&&(a=h);return t(I["$=="]("section")?a.$context()["$!="]("section"):I["$=="]("section"))?h:m(a,"find_by_internal",[b,c],d.$to_proc())},v.$$s=this,v.$$arity=1,v));return c},P.$$arity=-1),h)&&"find_by_internal"})(d[0],k(d,"AbstractNode"),d)}(l[0],l)};Opal.modules["asciidoctor/attribute_list"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===
typeof a&&"number"===typeof b?a-b:a["$-"](b)}var h=[],l=a.nil,r=a.const_get_qualified,k=a.const_get_relative,c=a.module,m=a.klass,p=a.hash,q=a.hash2,t=a.truthy,n=a.send;a.add_stubs("$new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $- $private $skip_blank $peek $=== $parse_attribute_value $get_byte $start_with? $scan_name $end_with? $rstrip $string $== $unscan $scan_to_delimiter $* $include? $delete $each $split $empty? $apply_subs $scan_to_quote $gsub $skip $scan".split(" "));
return function(e,d){e=[c(e,"Asciidoctor")].concat(d);(function(c,$super,e){c=m(c,$super,"AttributeList");var d=[c].concat(e),f,h,x,u,A,v,D,I,z,K,V,B;c.$$prototype.attributes=c.$$prototype.scanner=c.$$prototype.delimiter=c.$$prototype.block=c.$$prototype.delimiter_skip_pattern=c.$$prototype.delimiter_boundary_pattern=l;a.const_set(d[0],"APOS","'");a.const_set(d[0],"BACKSLASH","\\");a.const_set(d[0],"QUOT",'"');a.const_set(d[0],"BoundaryRx",p(k(d,"QUOT"),/.*?[^\\](?=")/,k(d,"APOS"),/.*?[^\\](?=')/,
",",/.*?(?=[ \t]*(,|$))/));a.const_set(d[0],"EscapedQuotes",p(k(d,"QUOT"),'\\"',k(d,"APOS"),"\\'"));a.const_set(d[0],"NameRx",new RegExp(""+k(d,"CG_WORD")+"["+k(d,"CC_WORD")+"\\-.]*"));a.const_set(d[0],"BlankRx",/[ \t]+/);a.const_set(d[0],"SkipRx",q([","],{",":/[ \t]*(,|$)/}));a.def(c,"$initialize",f=function(a,b,c){null==b&&(b=l);null==c&&(c=",");this.scanner=r("::","StringScanner").$new(a);this.block=b;this.delimiter=c;this.delimiter_skip_pattern=k(d,"SkipRx")["$[]"](c);this.delimiter_boundary_pattern=
k(d,"BoundaryRx")["$[]"](c);return this.attributes=l},f.$$arity=-2);a.def(c,"$parse_into",h=function(a,b){null==b&&(b=[]);return a.$update(this.$parse(b))},h.$$arity=-2);a.def(c,"$parse",x=function(a){var c;null==a&&(a=[]);if(t(this.attributes))return this.attributes;this.attributes=q([],{});for(c=0;t(this.$parse_attribute(c,a))&&!t(this.scanner["$eos?"]());)this.$skip_delimiter(),c=b(c,1);return this.attributes},x.$$arity=-1);a.def(c,"$rekey",u=function(a){return k(d,"AttributeList").$rekey(this.attributes,
a)},u.$$arity=1);a.defs(c,"$rekey",A=function(c,e){var d;n(e,"each_with_index",[],(d=function(e,d){var f,p=l;null==e&&(e=l);null==d&&(d=l);return t(t(f=e)?p=c["$[]"](b(d,1)):f)?(e=[e,p],n(c,"[]=",a.to_a(e)),e[g(e.length,1)]):l},d.$$s=this,d.$$arity=2,d));return c},A.$$arity=2);c.$private();a.def(c,"$parse_attribute",v=function(c,e){var f,p,h,r=l,x=l,u=l,m=l,q=x=l,A=l;q=q=l;r=!0;this.$skip_blank();x=this.scanner.$peek(1);if(k(d,"QUOT")["$==="](x))u=this.$parse_attribute_value(this.scanner.$get_byte());
else if(k(d,"APOS")["$==="](x))u=this.$parse_attribute_value(this.scanner.$get_byte()),t(u["$start_with?"](k(d,"APOS")))||(m=!0);else if(x=t(f=t(p=u=this.$scan_name())?this.$skip_blank():p)?f:0,t(this.scanner["$eos?"]())){if(!t(t(f=u)?f:this.scanner.$string().$rstrip()["$end_with?"](this.delimiter)))return l;r=l}else if((q=this.scanner.$get_byte())["$=="](this.delimiter))this.scanner.$unscan();else if(t(u))if(q["$=="]("="))if(this.$skip_blank(),x=q=this.scanner.$get_byte(),k(d,"QUOT")["$==="](x))A=
this.$parse_attribute_value(q);else if(k(d,"APOS")["$==="](x))A=this.$parse_attribute_value(q),t(A["$start_with?"](k(d,"APOS")))||(m=!0);else if(this.delimiter["$==="](x))A="",this.scanner.$unscan();else if(l["$==="](x))A="";else{if(A=""+q+this.$scan_to_delimiter(),A["$=="]("None"))return!0}else u=""+u+" "["$*"](x)+q+this.$scan_to_delimiter();else u=""+q+this.$scan_to_delimiter();t(A)?(x=u,"options"["$==="](x)||"opts"["$==="](x)?t(A["$include?"](","))?(t(A["$include?"](" "))&&(A=A.$delete(" ")),n(A.$split(","),
"each",[],(h=function(b){var c=h.$$s||this;null==c.attributes&&(c.attributes=l);null==b&&(b=l);if(t(b["$empty?"]()))return l;b=[""+b+"-option",""];n(c.attributes,"[]=",a.to_a(b));return b[g(b.length,1)]},h.$$s=this,h.$$arity=1,h))):t(A["$empty?"]())||(q=[""+A+"-option",""],n(this.attributes,"[]=",a.to_a(q)),q[g(q.length,1)]):(t(t(f=m)?this.block:f)?(x=u,q="title"["$==="](x)||"reftext"["$==="](x)?[u,A]:[u,this.block.$apply_subs(A)]):q=[u,A],n(this.attributes,"[]=",a.to_a(q)),q[g(q.length,1)])):(t(t(f=
m)?this.block:f)&&(u=this.block.$apply_subs(u)),t(t(f=q=e["$[]"](c))?u:f)&&(q=[q,u],n(this.attributes,"[]=",a.to_a(q)),q[g(q.length,1)]),q=[b(c,1),u],n(this.attributes,"[]=",a.to_a(q)),q[g(q.length,1)]);return r},v.$$arity=2);a.def(c,"$parse_attribute_value",D=function(a){var b;return this.scanner.$peek(1)["$=="](a)?(this.scanner.$get_byte(),""):t(b=this.$scan_to_quote(a))?(this.scanner.$get_byte(),t(b["$include?"](k(d,"BACKSLASH")))?b.$gsub(k(d,"EscapedQuotes")["$[]"](a),a):b):""+a+this.$scan_to_delimiter()},
D.$$arity=1);a.def(c,"$skip_blank",I=function(){return this.scanner.$skip(k(d,"BlankRx"))},I.$$arity=0);a.def(c,"$skip_delimiter",z=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},z.$$arity=0);a.def(c,"$scan_name",K=function(){return this.scanner.$scan(k(d,"NameRx"))},K.$$arity=0);a.def(c,"$scan_to_delimiter",V=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},V.$$arity=0);return(a.def(c,"$scan_to_quote",B=function(a){return this.scanner.$scan(k(d,"BoundaryRx")["$[]"](a))},
B.$$arity=1),l)&&"scan_to_quote"})(e[0],null,e)}(h[0],h)};Opal.modules["asciidoctor/block"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=[],h=a.nil,l=a.const_get_qualified,r=a.const_get_relative,k=a.module,c=a.klass,q=a.send,p=a.hash2,m=a.truthy;a.add_stubs("$default= $- $attr_accessor $[] $key? $=== $drop $delete $to_s $[]= $commit_subs $nil_or_empty? $prepare_source_string $apply_subs $join $< $size $empty? $rstrip $shift $pop $== $warn $logger $class $object_id $inspect".split(" "));
return function(d,g){d=[k(d,"Asciidoctor")].concat(g);(function(e,$super,d){e=c(e,$super,"Block");var g=[e].concat(d),n,k,u,t;d=h;e.$$prototype.attributes=e.$$prototype.content_model=e.$$prototype.lines=e.$$prototype.subs=e.$$prototype.blocks=e.$$prototype.context=e.$$prototype.style=h;d=["simple"];q(a.const_set(g[0],"DEFAULT_CONTENT_MODEL",p("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",
open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",a.to_a(d));d[b(d.length,1)];a.alias(e,"blockname","context");e.$attr_accessor("lines");a.def(e,"$initialize",n=function(c,e,d){var k,x=n.$$p,u,t;x&&(n.$$p=null);var A=0;var M=arguments.length;for(t=Array(M);A<M;A++)t[A]=arguments[A];null==d&&(d=p([],{}));q(this,a.find_super_dispatcher(this,"initialize",n,!1),t,x);this.content_model=m(k=d["$[]"]("content_model"))?k:r(g,"DEFAULT_CONTENT_MODEL")["$[]"](e);
m(d["$key?"]("subs"))?m(k=d["$[]"]("subs"))?("default"["$==="](k)?this.default_subs=d["$[]"]("default_subs"):l("::","Array")["$==="](k)?(this.default_subs=k.$drop(0),this.attributes.$delete("subs")):(this.default_subs=h,k=["subs",k.$to_s()],q(this.attributes,"[]=",a.to_a(k)),k[b(k.length,1)]),this.$commit_subs()):(this.default_subs=[],this.attributes.$delete("subs")):this.default_subs=h;return m((u=d["$[]"]("source"))["$nil_or_empty?"]())?this.lines=[]:m(l("::","String")["$==="](u))?this.lines=r(g,
"Helpers").$prepare_source_string(u):this.lines=u.$drop(0)},n.$$arity=-3);a.def(e,"$content",k=function(){var b,c,e=k.$$p,d=this,n=h,p=h,l=h,u=h,t=h,A=h,M=h;e&&(k.$$p=null);A=0;M=arguments.length;for(t=Array(M);A<M;A++)t[A]=arguments[A];return function(){n=d.content_model;if("compound"["$==="](n))return q(d,a.find_super_dispatcher(d,"content",k,!1),t,e);if("simple"["$==="](n))return d.$apply_subs(d.lines.$join(r(g,"LF")),d.subs);if("verbatim"["$==="](n)||"raw"["$==="](n)){p=d.$apply_subs(d.lines,
d.subs);var x=p.$size();x="number"===typeof x?2>x:x["$<"](2);if(m(x))return m(b=p["$[]"](0))?b:"";for(;m(m(c=l=p["$[]"](0))?l.$rstrip()["$empty?"]():c);)p.$shift();for(;m(m(c=u=p["$[]"](-1))?u.$rstrip()["$empty?"]():c);)p.$pop();return p.$join(r(g,"LF"))}d.content_model["$=="]("empty")||d.$logger().$warn("unknown content model '"+d.content_model+"' for block: "+d);return h}()},k.$$arity=0);a.def(e,"$source",u=function(){return this.lines.$join(r(g,"LF"))},u.$$arity=0);return(a.def(e,"$to_s",t=function(){var a=
this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"},t.$$arity=0),h)&&"to_s"})(d[0],r(d,"AbstractBlock"),d)}(g[0],g)};Opal.modules["asciidoctor/callouts"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===
typeof a&&"number"===typeof b?a-b:a["$-"](b)}var h=[],l=a.nil,r=a.module,k=a.klass,c=a.hash2,q=a.truthy,p=a.send;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $private $generate_callout_id".split(" "));return function(d,h){d=[r(d,"Asciidoctor")].concat(h);(function(d,$super,f){d=k(d,$super,"Callouts");[d].concat(f);var n,h,r,u,m,t,x,A,v;d.$$prototype.co_index=d.$$prototype.lists=d.$$prototype.list_index=l;a.def(d,"$initialize",
n=function(){this.lists=[];this.list_index=0;return this.$next_list()},n.$$arity=0);a.def(d,"$register",h=function(a){this.$current_list()["$<<"](c(["ordinal","id"],{ordinal:a.$to_i(),id:a=this.$generate_next_callout_id()}));this.co_index=b(this.co_index,1);return a},h.$$arity=1);a.def(d,"$read_next_id",r=function(){var a=l;var c=this.$current_list();var d=this.co_index;var f=c.$size();d="number"===typeof d&&"number"===typeof f?d<=f:d["$<="](f);q(d)&&(a=c["$[]"](g(this.co_index,1))["$[]"]("id"));
this.co_index=b(this.co_index,1);return a},r.$$arity=0);a.def(d,"$callout_ids",u=function(a){var b;return p(this.$current_list(),"map",[],(b=function(b){null==b&&(b=l);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":""},b.$$s=this,b.$$arity=1,b)).$join().$chop()},u.$$arity=1);a.def(d,"$current_list",m=function(){return this.lists["$[]"](g(this.list_index,1))},m.$$arity=0);a.def(d,"$next_list",t=function(){this.list_index=b(this.list_index,1);var a=this.lists.$size();var c=this.list_index;
a="number"===typeof a&&"number"===typeof c?a<c:a["$<"](c);if(q(a))this.lists["$<<"]([]);this.co_index=1;return l},t.$$arity=0);a.def(d,"$rewind",x=function(){this.co_index=this.list_index=1;return l},x.$$arity=0);d.$private();a.def(d,"$generate_next_callout_id",A=function(){return this.$generate_callout_id(this.list_index,this.co_index)},A.$$arity=0);return(a.def(d,"$generate_callout_id",v=function(a,b){return"CO"+a+"-"+b},v.$$arity=2),l)&&"generate_callout_id"})(d[0],null,d)}(h[0],h)};Opal.modules["asciidoctor/converter"]=
function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var h=[],l=a.nil,r=a.const_get_qualified,k=a.const_get_relative,c=a.module,q=a.hash2,p=a.truthy,m=a.send,t=a.klass,n=a.gvars;a.add_stubs("$autoload $__dir__ $== $attr_reader $raise $class $[] $sub $slice $length $[]= $backend_traits $- $derive_backend_traits $register $map $to_s $new $create $default $each $default= $registry $for $=== $supports_templates? $merge $private $include $delete $clear $send $extend $private_class_method $node_name $+ $receiver $name $warn $logger $respond_to? $content".split(" "));
return function(e,d){e=[c(e,"Asciidoctor")].concat(d);(function(e,d){e=c(e,"Converter");var f=[e].concat(d),h,u,A,x,v;e.$autoload("CompositeConverter",""+e.$__dir__()+"/converter/composite");k(f,"RUBY_ENGINE")["$=="]("opal")||l;e.$attr_reader("backend");a.def(e,"$initialize",h=function(a,b){null==b&&q([],{});return this.backend=a},h.$$arity=-2);a.def(e,"$convert",u=function(a,b,c){null==this.backend&&(this.backend=l);return this.$raise(r("::","NotImplementedError"),""+this.$class()+" (backend: "+
this.backend+") must implement the #convert method")},u.$$arity=-2);a.def(e,"$handles?",A=function(a){return!0},A.$$arity=1);a.defs(e,"$derive_backend_traits",x=function(a,b){var c,e,d;null==b&&(b=l);if(!p(a))return q([],{});p(e=k(f,"DEFAULT_EXTENSIONS")["$[]"](b=p(c=b)?c:a.$sub(k(f,"TrailingDigitsRx"),"")))?d=e.$slice(1,e.$length()):e="."+(d=b);return d["$=="]("html")?q(["basebackend","filetype","htmlsyntax","outfilesuffix"],{basebackend:b,filetype:d,htmlsyntax:"html",outfilesuffix:e}):q(["basebackend",
"filetype","outfilesuffix"],{basebackend:b,filetype:d,outfilesuffix:e})},x.$$arity=-2);(function(e,d){e=c(e,"BackendTraits");var f=[e].concat(d),g,n,h,r,x,u,t,A,v;a.def(e,"$basebackend",g=function(c){null==c&&(c=l);if(p(c)){var e=["basebackend",c];m(this.$backend_traits(c),"[]=",a.to_a(e));return e[b(e.length,1)]}return this.$backend_traits()["$[]"]("basebackend")},g.$$arity=-1);a.def(e,"$filetype",n=function(c){null==c&&(c=l);return p(c)?(c=["filetype",c],m(this.$backend_traits(),"[]=",a.to_a(c)),
c[b(c.length,1)]):this.$backend_traits()["$[]"]("filetype")},n.$$arity=-1);a.def(e,"$htmlsyntax",h=function(c){null==c&&(c=l);return p(c)?(c=["htmlsyntax",c],m(this.$backend_traits(),"[]=",a.to_a(c)),c[b(c.length,1)]):this.$backend_traits()["$[]"]("htmlsyntax")},h.$$arity=-1);a.def(e,"$outfilesuffix",r=function(c){null==c&&(c=l);return p(c)?(c=["outfilesuffix",c],m(this.$backend_traits(),"[]=",a.to_a(c)),c[b(c.length,1)]):this.$backend_traits()["$[]"]("outfilesuffix")},r.$$arity=-1);a.def(e,"$supports_templates",
x=function(c){null==c&&(c=!0);c=["supports_templates",c];m(this.$backend_traits(),"[]=",a.to_a(c));return c[b(c.length,1)]},x.$$arity=-1);a.def(e,"$supports_templates?",u=function(){return this.$backend_traits()["$[]"]("supports_templates")},u.$$arity=0);a.def(e,"$init_backend_traits",t=function(a){var b;null==a&&(a=l);return this.backend_traits=p(b=a)?b:q([],{})},t.$$arity=-1);a.def(e,"$backend_traits",A=function(a){var b;null==this.backend_traits&&(this.backend_traits=l);null==this.backend&&(this.backend=
l);null==a&&(a=l);return this.backend_traits=p(b=this.backend_traits)?b:k(f,"Converter").$derive_backend_traits(this.backend,a)},A.$$arity=-1);a.alias(e,"backend_info","backend_traits");a.defs(e,"$derive_backend_traits",v=function(a,b){null==b&&(b=l);return k(f,"Converter").$derive_backend_traits(a,b)},v.$$arity=-2)})(f[0],f);(function(b,e){b=c(b,"Config");var d=[b].concat(e),f;a.def(b,"$register_for",f=function(b){var c;var e=a.slice.call(arguments,0,arguments.length);return m(k(d,"Converter"),"register",
[this].concat(a.to_a(m(e,"map",[],(c=function(a){null==a&&(a=l);return a.$to_s()},c.$$s=this,c.$$arity=1,c)))))},f.$$arity=-1)})(f[0],f);(function(e,d){e=c(e,"Factory");var f=[e].concat(d),g,n,h,x,u,t,A,v;a.defs(e,"$new",g=function(b,c){var e=a.slice.call(arguments,0,arguments.length);var d=a.extract_kwargs(e);if(null==d)d=q([],{});else if(!d.$$is_hash)throw a.ArgumentError.$new("expected kwargs");if(0<e.length){var g=e[0];e.splice(0,1)}null==g&&(g=l);e=d.$$smap.proxy_default;null==e&&(e=!0);return p(e)?
k(f,"DefaultFactoryProxy").$new(g):k(f,"CustomFactory").$new(g)},g.$$arity=-1);a.defs(e,"$default",n=function(b){a.slice.call(arguments,0,arguments.length);return k(f,"Converter")},n.$$arity=-1);a.defs(e,"$create",h=function(a,b){null==b&&(b=q([],{}));return this.$default().$create(a,b)},h.$$arity=-2);a.def(e,"$register",x=function(c,e){var d;var f=a.slice.call(arguments,1,arguments.length);return m(f,"each",[],(d=function(e){var f=d.$$s||this;null==e&&(e=l);e["$=="]("*")?(e=[c],m(f.$registry(),"default=",
a.to_a(e))):(e=[e,c],m(f.$registry(),"[]=",a.to_a(e)));return e[b(e.length,1)]},d.$$s=this,d.$$arity=1,d))},x.$$arity=-2);a.def(e,"$for",u=function(a){return this.$registry()["$[]"](a)},u.$$arity=1);a.def(e,"$create",t=function(a,b){var c,e,d,g,n=l;null==b&&(b=q([],{}));return p(d=this.$for(a))?(p(r("::","Class")["$==="](d))&&(d=d.$new(a,b)),p(p(c=p(e=g=b["$[]"]("template_dirs"))?k(f,"BackendTraits")["$==="](d):e)?d["$supports_templates?"]():c)?k(f,"CompositeConverter").$new(a,k(f,"TemplateConverter").$new(a,
g,b),d,q(["backend_traits_source"],{backend_traits_source:d})):d):p(g=b["$[]"]("template_dirs"))?p(p(c=n=b["$[]"]("delegate_backend"))?d=this.$for(n):c)?(p(r("::","Class")["$==="](d))&&(d=d.$new(n,b)),k(f,"CompositeConverter").$new(a,k(f,"TemplateConverter").$new(a,g,b),d,q(["backend_traits_source"],{backend_traits_source:d}))):k(f,"TemplateConverter").$new(a,g,b):l},t.$$arity=-2);a.def(e,"$converters",A=function(){return this.$registry().$merge()},A.$$arity=0);e.$private();a.def(e,"$registry",v=
function(){return this.$raise(r("::","NotImplementedError"),""+k(f,"Factory")+" subclass "+this.$class()+" must implement the #registry method")},v.$$arity=0)})(f[0],f);(function(c,$super,e){c=t(c,$super,"CustomFactory");e=[c].concat(e);var d,f;c.$include(k(e,"Factory"));a.def(c,"$initialize",d=function(c){null==c&&(c=l);if(p(c)){var e=[c.$delete("*")];m(c,"default=",a.to_a(e));e[b(e.length,1)];return this.registry=c}return this.registry=q([],{})},d.$$arity=-1);a.def(c,"$unregister_all",f=function(){var c=
[l];m(this.$registry().$clear(),"default=",a.to_a(c));return c[b(c.length,1)]},f.$$arity=0);c.$private();return c.$attr_reader("registry")})(f[0],null,f);(function(b,e){b=c(b,"DefaultFactory");var d=[b].concat(e),f;b.$include(k(d,"Factory"));b.$private();a.class_variable_set(d[0],"@@registry",q([],{}));a.def(b,"$registry",f=function(){var a;return null==(a=d[0].$$cvars["@@registry"])?l:a},f.$$arity=0);k(d,"RUBY_ENGINE")["$=="]("opal")||l})(f[0],f);(function(a,$super,b){a=t(a,$super,"DefaultFactoryProxy");
b=[a].concat(b);a.$include(k(b,"DefaultFactory"));k(b,"RUBY_ENGINE")["$=="]("opal");return l})(f[0],k(f,"CustomFactory"),f);a.defs(e,"$included",v=function(a){a.$send("include",k(f,"BackendTraits"));return a.$extend(k(f,"Config"))},v.$$arity=1);e.$private_class_method("included");(function(b,$super,c){b=t(b,$super,"Base");var e=[b].concat(c),d,f,h,x;b.$$prototype.backend=l;b.$include(k(e,"Logging"));b.$include(k(e,"Converter"));a.def(b,"$convert",d=function(b,c,d){var f,h,x=l;null==n["!"]&&(n["!"]=
l);null==c&&(c=b.$node_name());null==d&&(d=l);try{return p(d)?this.$send(g("convert_",c),b,d):this.$send(g("convert_",c),b)}catch(W){if(a.rescue(W,[k(e,"StandardError")]))try{return p(p(f=p(h=r("::","NoMethodError")["$==="](x=n["!"]))?x.$receiver()["$=="](this):h)?x.$name().$to_s()["$=="](c):f)||this.$raise(),this.$logger().$warn("missing convert handler for "+x.$name()+" node in "+this.backend+" backend ("+this.$class()+")"),l}finally{a.pop_exception()}else throw W;}},d.$$arity=-2);a.def(b,"$handles?",
f=function(a){return this["$respond_to?"]("convert_"+a)},f.$$arity=1);a.def(b,"$content_only",h=function(a){return a.$content()},h.$$arity=1);return(a.def(b,"$skip",x=function(a){return l},x.$$arity=1),l)&&"skip"})(f[0],null,f);e.$extend(k(f,"DefaultFactory"))})(e[0],e)}(h[0],h)};Opal.modules["asciidoctor/document"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function h(a,
b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var k=[],c=a.nil,q=a.const_get_qualified,p=a.const_get_relative,m=a.module,t=a.klass,n=a.send,e=a.truthy,f=a.hash2,v=a.hash,z=a.gvars;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $- $include? $strip $squeeze $gsub $empty? $! $rpartition $attr_accessor $delete $base_dir $options $merge $catalog $instance_variable_get $attributes $safe $compat_mode $outfilesuffix $sourcemap $path_resolver $converter $extensions $syntax_highlighter $each $end_with? $start_with? $slice $length $chop $== $downcase $=== $extname $value_for_name $key? $freeze $attribute_undefined $attribute_missing $update $& $keys $name_for_value $expand_path $pwd $to_s $>= $+ $abs $to_i $delete_if $update_doctype_attributes $cursor $parse $restore_attributes $update_backend_attributes $fetch $fill_datetime_attributes $activate $groups $create $to_proc $preprocessors? $preprocessors $process_method $tree_processors? $tree_processors $!= $counter $attribute_locked? $nil_or_empty? $nextval $value $save_to $register $tap $xreftext $> $source $source_lines $doctitle $sectname= $title= $first_section $title $reftext $< $find $context $assign_numeral $clear_playback_attributes $save_attributes $name $negate $rewind $replace $apply_attribute_value_subs $delete? $start $doctype $content_model $warn $logger $content $convert $postprocessors? $postprocessors $record $write $respond_to? $chomp $class $write_alternate_pages $map $split $resolve_docinfo_subs $normalize_system_path $read_asset $apply_subs $docinfo_processors? $join $concat $compact $docinfo_processors $object_id $inspect $size $private $=~ $resolve_pass_subs $apply_header_subs $limit_bytesize $bytesize $valid_encoding? $byteslice $resolve_subs $utc $at $Integer $now $index $strftime $year $utc_offset $partition $create_converter $basebackend $filetype $htmlsyntax $derive_backend_traits $raise".split(" "));
return function(d,k){d=[m(d,"Asciidoctor")].concat(k);(function(d,$super,k){d=t(d,$super,"Document");var x=[d].concat(k),u,m,A,M,D,I,T,K,B,C,E,V,F,Q,G,y,la,J,ha,va,X,N,O,P,R,ia,Ba,pa,wa,Ea,ra,aa,ca,Fa,Ra,Na,Sa,Ga,Ka,$a,Pa,Wa,Xa,ab,Ya,Z,w,H,ba,L,U,Ha,db;d.$$prototype.attributes=d.$$prototype.safe=d.$$prototype.sourcemap=d.$$prototype.reader=d.$$prototype.base_dir=d.$$prototype.parsed=d.$$prototype.parent_document=d.$$prototype.extensions=d.$$prototype.options=d.$$prototype.counters=d.$$prototype.catalog=
d.$$prototype.reftexts=d.$$prototype.next_section_index=d.$$prototype.header=d.$$prototype.blocks=d.$$prototype.header_attributes=d.$$prototype.attributes_modified=d.$$prototype.backend=d.$$prototype.attribute_overrides=d.$$prototype.timings=d.$$prototype.converter=d.$$prototype.outfilesuffix=d.$$prototype.docinfo_processor_extensions=d.$$prototype.document=d.$$prototype.max_attribute_value_size=d.$$prototype.id=d.$$prototype.doctype=c;a.const_set(x[0],"ImageReference",n(q("::","Struct"),"new",["target",
"imagesdir"],(u=function(){return a.alias(u.$$s||this,"to_s","target")},u.$$s=d,u.$$arity=0,u)));a.const_set(x[0],"Footnote",q("::","Struct").$new("index","id","text"));(function(d,$super,f){d=t(d,$super,"AttributeEntry");[d].concat(f);var g,w;d.$attr_reader("name","value","negate");a.def(d,"$initialize",g=function(a,b,d){null==d&&(d=c);this.name=a;this.value=b;return this.negate=e(d["$nil?"]())?b["$nil?"]():d},g.$$arity=-3);return(a.def(d,"$save_to",w=function(d){var f,g=c;(e(f=d["$[]"]("attribute_entries"))?
f:(g=["attribute_entries",[]],n(d,"[]=",a.to_a(g)),g[b(g.length,1)]))["$<<"](this);return this},w.$$arity=1),c)&&"save_to"})(x[0],null,x);(function(b,$super,d){b=t(b,$super,"Title");var g=[b].concat(d),n,w,k,l;b.$$prototype.sanitized=b.$$prototype.subtitle=b.$$prototype.combined=c;b.$attr_reader("main");a.alias(b,"title","main");b.$attr_reader("subtitle");b.$attr_reader("combined");a.def(b,"$initialize",n=function(b,d){var n,w,k=c;null==d&&(d=f([],{}));e(e(n=this.sanitized=d["$[]"]("sanitize"))?b["$include?"]("<"):
n)&&(b=b.$gsub(p(g,"XmlSanitizeRx"),"").$squeeze(" ").$strip());e(e(n=(k=e(w=d["$[]"]("separator"))?w:":")["$empty?"]())?n:b["$include?"](k=""+k+" ")["$!"]())?(this.main=b,this.subtitle=c):(w=b.$rpartition(k),n=a.to_ary(w),this.main=null==n[0]?c:n[0],this.subtitle=null==n[2]?c:n[2],w);return this.combined=b},n.$$arity=-2);a.def(b,"$sanitized?",w=function(){return this.sanitized},w.$$arity=0);a.def(b,"$subtitle?",k=function(){return e(this.subtitle)?!0:!1},k.$$arity=0);return(a.def(b,"$to_s",l=function(){return this.combined},
l.$$arity=0),c)&&"to_s"})(x[0],null,x);a.const_set(x[0],"Author",q("::","Struct").$new("name","firstname","middlename","lastname","initials","email"));d.$attr_reader("safe");d.$attr_reader("compat_mode");d.$attr_reader("backend");d.$attr_reader("doctype");d.$attr_accessor("sourcemap");d.$attr_reader("catalog");a.alias(d,"references","catalog");d.$attr_reader("counters");d.$attr_reader("header");d.$attr_reader("base_dir");d.$attr_reader("options");d.$attr_reader("outfilesuffix");d.$attr_reader("parent_document");
d.$attr_reader("reader");d.$attr_reader("path_resolver");d.$attr_reader("converter");d.$attr_reader("syntax_highlighter");d.$attr_reader("extensions");a.def(d,"$initialize",m=function(d,w){var k,l,r,u,H,t,A,U=c,L=c,M=c,ba=c,Ua=c,D=c,I=D=D=c,Ca=c,z=I=c,T=I=I=c;U=U=U=c;m.$$p&&(m.$$p=null);null==d&&(d=c);null==w&&(w=f([],{}));n(this,a.find_super_dispatcher(this,"initialize",m,!1),[this,"document"],null);if(e(U=w.$delete("parent")))this.parent_document=U,e(k=w["$[]"]("base_dir"))?k:(L=["base_dir",U.$base_dir()],
n(w,"[]=",a.to_a(L)),L[b(L.length,1)]),e(U.$options()["$[]"]("catalog_assets"))&&(L=["catalog_assets",!0],n(w,"[]=",a.to_a(L)),L[b(L.length,1)]),e(U.$options()["$[]"]("to_dir"))&&(L=["to_dir",U.$options()["$[]"]("to_dir")],n(w,"[]=",a.to_a(L)),L[b(L.length,1)]),this.catalog=U.$catalog().$merge(f(["footnotes"],{footnotes:[]})),this.attribute_overrides=M=U.$instance_variable_get("@attribute_overrides").$merge(U.$attributes()),M.$delete("compat-mode"),ba=M.$delete("doctype"),M.$delete("notitle"),M.$delete("showtitle"),
M.$delete("toc"),L=["toc-placement",e(k=M.$delete("toc-placement"))?k:"auto"],n(this.attributes,"[]=",a.to_a(L)),L[b(L.length,1)],M.$delete("toc-position"),this.safe=U.$safe(),e(this.compat_mode=U.$compat_mode())&&(L=["compat-mode",""],n(this.attributes,"[]=",a.to_a(L)),L[b(L.length,1)]),this.outfilesuffix=U.$outfilesuffix(),this.sourcemap=U.$sourcemap(),this.timings=c,this.path_resolver=U.$path_resolver(),this.converter=U.$converter(),Ua=c,this.extensions=U.$extensions(),this.syntax_highlighter=
U.$syntax_highlighter();else{this.parent_document=c;this.catalog=f("ids refs footnotes links images callouts includes".split(" "),{ids:f([],{}),refs:f([],{}),footnotes:[],links:[],images:[],callouts:p(x,"Callouts").$new(),includes:f([],{})});this.attribute_overrides=M=f([],{});n(e(k=w["$[]"]("attributes"))?k:f([],{}),"each",[],(l=function(d,f){var g;null==d&&(d=c);null==f&&(f=c);e(d["$end_with?"]("@"))?(e(d["$start_with?"]("!"))?(g=[d.$slice(1,b(d.$length(),2)),!1],d=g[0],f=g[1]):e(d["$end_with?"]("!@"))?
(g=[d.$slice(0,b(d.$length(),2)),!1],d=g[0],f=g[1]):(g=[d.$chop(),""+f+"@"],d=g[0],f=g[1]),g):e(d["$start_with?"]("!"))?(g=[d.$slice(1,d.$length()),f["$=="]("@")?!1:c],d=g[0],f=g[1],g):e(d["$end_with?"]("!"))&&(g=[d.$chop(),f["$=="]("@")?!1:c],d=g[0],f=g[1],g);L=[d.$downcase(),f];n(M,"[]=",a.to_a(L));return L[b(L.length,1)]},l.$$s=this,l.$$arity=2,l));e(q("::","String")["$==="](D=w["$[]"]("to_file")))&&(L=["outfilesuffix",p(x,"Helpers").$extname(D)],n(M,"[]=",a.to_a(L)),L[b(L.length,1)]);if(e((D=
w["$[]"]("safe"))["$!"]()))this.safe=q(p(x,"SafeMode"),"SECURE");else if(e(q("::","Integer")["$==="](D)))this.safe=D;else{a:{try{var Ha=p(x,"SafeMode").$value_for_name(D);break a}catch(rb){if(a.rescue(rb,[p(x,"StandardError")]))try{Ha=q(p(x,"SafeMode"),"SECURE");break a}finally{a.pop_exception()}else throw rb;}Ha=void 0}this.safe=Ha}D=w.$delete("input_mtime");this.compat_mode=M["$key?"]("compat-mode");this.sourcemap=w["$[]"]("sourcemap");this.timings=w.$delete("timings");this.path_resolver=p(x,"PathResolver").$new();
Ua=e(e(k=(r=q("::","Asciidoctor","skip_raise"))&&q(r,"Extensions","skip_raise")?"constant":c)?k:w["$key?"]("extensions"))?q(q("::","Asciidoctor"),"Extensions"):c;this.extensions=c;e(e(k=w["$key?"]("header_footer"))?w["$key?"]("standalone")["$!"]():k)&&(L=["standalone",w["$[]"]("header_footer")],n(w,"[]=",a.to_a(L)),L[b(L.length,1)])}this.parsed=this.reftexts=this.header=this.header_attributes=c;this.counters=f([],{});this.attributes_modified=q("::","Set").$new();this.docinfo_processor_extensions=
f([],{});I=w["$[]"]("standalone");(this.options=w).$freeze();Ca=this.attributes;e(U)||(L=["attribute-undefined",p(x,"Compliance").$attribute_undefined()],n(Ca,"[]=",a.to_a(L)),L[b(L.length,1)],L=["attribute-missing",p(x,"Compliance").$attribute_missing()],n(Ca,"[]=",a.to_a(L)),L[b(L.length,1)],Ca.$update(p(x,"DEFAULT_ATTRIBUTES")));e(I)?(L=["embedded",c],n(M,"[]=",a.to_a(L)),L[b(L.length,1)],L=["copycss",""],n(Ca,"[]=",a.to_a(L)),L[b(L.length,1)],L=["iconfont-remote",""],n(Ca,"[]=",a.to_a(L)),L[b(L.length,
1)],L=["stylesheet",""],n(Ca,"[]=",a.to_a(L)),L[b(L.length,1)],L=["webfonts",""],n(Ca,"[]=",a.to_a(L))):(L=["embedded",""],n(M,"[]=",a.to_a(L)),L[b(L.length,1)],e(e(k=M["$key?"]("showtitle"))?M.$keys()["$&"](["notitle","showtitle"])["$[]"](-1)["$=="]("showtitle"):k)?(L=["notitle",v(c,"",!1,"@","@",!1)["$[]"](M["$[]"]("showtitle"))],n(M,"[]=",a.to_a(L))):e(M["$key?"]("notitle"))?(L=["showtitle",v(c,"",!1,"@","@",!1)["$[]"](M["$[]"]("notitle"))],n(M,"[]=",a.to_a(L))):(L=["notitle",""],n(Ca,"[]=",a.to_a(L))));
L[b(L.length,1)];L=["asciidoctor",""];n(M,"[]=",a.to_a(L));L[b(L.length,1)];L=["asciidoctor-version",q(q("::","Asciidoctor"),"VERSION")];n(M,"[]=",a.to_a(L));L[b(L.length,1)];L=["safe-mode-name",I=p(x,"SafeMode").$name_for_value(this.safe)];n(M,"[]=",a.to_a(L));L[b(L.length,1)];L=["safe-mode-"+I,""];n(M,"[]=",a.to_a(L));L[b(L.length,1)];L=["safe-mode-level",this.safe];n(M,"[]=",a.to_a(L));L[b(L.length,1)];e(k=M["$[]"]("max-include-depth"))?k:(L=["max-include-depth",64],n(M,"[]=",a.to_a(L)),L[b(L.length,
1)]);e(k=M["$[]"]("allow-uri-read"))?k:(L=["allow-uri-read",c],n(M,"[]=",a.to_a(L)),L[b(L.length,1)]);e(M["$key?"]("numbered"))&&(L=["sectnums",M.$delete("numbered")],n(M,"[]=",a.to_a(L)),L[b(L.length,1)]);e(M["$key?"]("hardbreaks"))&&(L=["hardbreaks-option",M.$delete("hardbreaks")],n(M,"[]=",a.to_a(L)),L[b(L.length,1)]);e(z=w["$[]"]("base_dir"))?this.base_dir=(L=["docdir",q("::","File").$expand_path(z)],n(M,"[]=",a.to_a(L)),L[b(L.length,1)]):e(M["$[]"]("docdir"))?this.base_dir=M["$[]"]("docdir"):
this.base_dir=(L=["docdir",q("::","Dir").$pwd()],n(M,"[]=",a.to_a(L)),L[b(L.length,1)]);e(I=w["$[]"]("backend"))&&(L=["backend",I.$to_s()],n(M,"[]=",a.to_a(L)),L[b(L.length,1)]);e(I=w["$[]"]("doctype"))&&(L=["doctype",I.$to_s()],n(M,"[]=",a.to_a(L)),L[b(L.length,1)]);e(g(this.safe,q(p(x,"SafeMode"),"SERVER")))?(e(k=M["$[]"]("copycss"))?k:(L=["copycss",c],n(M,"[]=",a.to_a(L)),L[b(L.length,1)]),e(k=M["$[]"]("source-highlighter"))?k:(L=["source-highlighter",c],n(M,"[]=",a.to_a(L)),L[b(L.length,1)]),
e(k=M["$[]"]("backend"))?k:(L=["backend",p(x,"DEFAULT_BACKEND")],n(M,"[]=",a.to_a(L)),L[b(L.length,1)]),e(e(k=U["$!"]())?M["$key?"]("docfile"):k)&&(L=["docfile",M["$[]"]("docfile")["$[]"](a.Range.$new(h(M["$[]"]("docdir").$length(),1),-1,!1))],n(M,"[]=",a.to_a(L)),L[b(L.length,1)]),L=["docdir",""],n(M,"[]=",a.to_a(L)),L[b(L.length,1)],e(k=M["$[]"]("user-home"))?k:(L=["user-home","."],n(M,"[]=",a.to_a(L)),L[b(L.length,1)]),e(g(this.safe,q(p(x,"SafeMode"),"SECURE")))&&(e(M["$key?"]("max-attribute-value-size"))||
(L=["max-attribute-value-size",4096],n(M,"[]=",a.to_a(L)),L[b(L.length,1)]),e(M["$key?"]("linkcss"))||(L=["linkcss",""],n(M,"[]=",a.to_a(L)),L[b(L.length,1)]),e(k=M["$[]"]("icons"))?k:(L=["icons",c],n(M,"[]=",a.to_a(L)),L[b(L.length,1)]))):e(k=M["$[]"]("user-home"))?k:(L=["user-home",p(x,"USER_HOME")],n(M,"[]=",a.to_a(L)),L[b(L.length,1)]);this.max_attribute_value_size=e(T=e(k=M["$[]"]("max-attribute-value-size"))?k:(L=["max-attribute-value-size",c],n(M,"[]=",a.to_a(L)),L[b(L.length,1)]))?T.$to_i().$abs():
c;n(M,"delete_if",[],(u=function(d,f){var g,w=c;null==d&&(d=c);null==f&&(f=c);e(f)?(e(e(g=q("::","String")["$==="](f))?f["$end_with?"]("@"):g)&&(g=[f.$chop(),!0],f=g[0],w=g[1],g),L=[d,f],n(Ca,"[]=",a.to_a(L)),L[b(L.length,1)]):(Ca.$delete(d),w=f["$=="](!1));return w},u.$$s=this,u.$$arity=2,u));if(e(U))return this.backend=Ca["$[]"]("backend"),(this.doctype=(L=["doctype",ba],n(Ca,"[]=",a.to_a(L)),L[b(L.length,1)]))["$=="](p(x,"DEFAULT_DOCTYPE"))||this.$update_doctype_attributes(p(x,"DEFAULT_DOCTYPE")),
this.reader=p(x,"Reader").$new(d,w["$[]"]("cursor")),e(this.sourcemap)&&(this.source_location=this.reader.$cursor()),p(x,"Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;this.backend=c;(U=e(k=Ca["$[]"]("backend"))?k:p(x,"DEFAULT_BACKEND"))["$=="]("manpage")?this.doctype=(L=["doctype",(L=["doctype","manpage"],n(M,"[]=",a.to_a(L)),L[b(L.length,1)])],n(Ca,"[]=",a.to_a(L)),L[b(L.length,1)]):this.doctype=e(k=Ca["$[]"]("doctype"))?k:(L=["doctype",p(x,"DEFAULT_DOCTYPE")],n(Ca,
"[]=",a.to_a(L)),L[b(L.length,1)]);this.$update_backend_attributes(U,!0);e(k=Ca["$[]"]("stylesdir"))?k:(L=["stylesdir","."],n(Ca,"[]=",a.to_a(L)),L[b(L.length,1)]);e(k=Ca["$[]"]("iconsdir"))?k:(L=["iconsdir",""+Ca.$fetch("imagesdir","./images")+"/icons"],n(Ca,"[]=",a.to_a(L)),L[b(L.length,1)]);this.$fill_datetime_attributes(Ca,D);e(Ua)&&(e(U=w["$[]"]("extension_registry"))?e(e(k=q(p(x,"Extensions"),"Registry")["$==="](U))?k:e(H=(A=q("::","AsciidoctorJ","skip_raise"))&&(t=q(A,"Extensions","skip_raise"))&&
q(t,"ExtensionRegistry","skip_raise")?"constant":c)?q(q(q("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](U):H)&&(this.extensions=U.$activate(this)):e((U=w["$[]"]("extensions"))["$nil?"]())?e(p(x,"Extensions").$groups()["$empty?"]())||(this.extensions=q(p(x,"Extensions"),"Registry").$new().$activate(this)):e(q("::","Proc")["$==="](U))&&(this.extensions=n(p(x,"Extensions"),"create",[],U.$to_proc()).$activate(this)));this.reader=p(x,"PreprocessorReader").$new(this,d,q(p(x,"Reader"),
"Cursor").$new(Ca["$[]"]("docfile"),this.base_dir),f(["normalize"],{normalize:!0}));return e(this.sourcemap)?this.source_location=this.reader.$cursor():c},m.$$arity=-1);a.def(d,"$parse",A=function(a){var b,d,g,w=c,k=c;null==a&&(a=c);if(e(this.parsed))return this;w=this;e(a)&&(this.reader=p(x,"PreprocessorReader").$new(w,a,q(p(x,"Reader"),"Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir),f(["normalize"],{normalize:!0})),e(this.sourcemap)&&(this.source_location=this.reader.$cursor()));
e(e(b=k=e(this.parent_document)?c:this.extensions)?k["$preprocessors?"]():b)&&n(k.$preprocessors(),"each",[],(d=function(a){var b=d.$$s||this,f;null==b.reader&&(b.reader=c);null==a&&(a=c);return b.reader=e(f=a.$process_method()["$[]"](w,b.reader))?f:b.reader},d.$$s=this,d.$$arity=1,d));p(x,"Parser").$parse(this.reader,w,f(["header_only"],{header_only:this.options["$[]"]("parse_header_only")}));this.$restore_attributes();e(e(b=k)?k["$tree_processors?"]():b)&&n(k.$tree_processors(),"each",[],(g=function(a){var b,
d,f=c;null==a&&(a=c);return e(e(b=e(d=f=a.$process_method()["$[]"](w))?p(x,"Document")["$==="](f):d)?f["$!="](w):b)?w=f:c},g.$$s=this,g.$$arity=1,g));this.parsed=!0;return w},A.$$arity=-1);a.def(d,"$parsed?",M=function(){return this.parsed},M.$$arity=0);a.def(d,"$counter",D=function(d,f){var g,w,k,l=c,h=c;null==f&&(f=c);if(e(this.parent_document))return this.parent_document.$counter(d,f);f=e(e(g=e(w=k=this["$attribute_locked?"](d))?l=this.counters["$[]"](d):w)?g:(l=this.attributes["$[]"](d))["$nil_or_empty?"]()["$!"]())?
(h=[d,p(x,"Helpers").$nextval(l)],n(this.counters,"[]=",a.to_a(h)),h[b(h.length,1)]):e(f)?(h=[d,f["$=="](f.$to_i().$to_s())?f.$to_i():f],n(this.counters,"[]=",a.to_a(h)),h[b(h.length,1)]):(h=[d,1],n(this.counters,"[]=",a.to_a(h)),h[b(h.length,1)]);e(k)||(h=[d,f],n(this.attributes,"[]=",a.to_a(h)),h[b(h.length,1)]);return f},D.$$arity=-2);a.def(d,"$increment_and_store_counter",I=function(a,b){return p(x,"AttributeEntry").$new(a,this.$counter(a)).$save_to(b.$attributes()).$value()},I.$$arity=2);a.alias(d,
"counter_increment","increment_and_store_counter");a.def(d,"$register",T=function(d,g){var w,k=this,h=c,l=c,r=c,u=c,q=c;return function(){h=d;return"ids"["$==="](h)?k.$register("refs",[l=g["$[]"](0),p(x,"Inline").$new(k,"anchor",g["$[]"](1),f(["type","id"],{type:"ref",id:l}))]):"refs"["$==="](h)?(r=k.catalog["$[]"]("refs"),e(w=r["$[]"](g["$[]"](0)))?w:(u=[g["$[]"](0),q=g["$[]"](1)],n(r,"[]=",a.to_a(u)),u[b(u.length,1)]),q):"footnotes"["$==="](h)?k.catalog["$[]"](d)["$<<"](g):e(k.options["$[]"]("catalog_assets"))?
k.catalog["$[]"](d)["$<<"](d["$=="]("images")?p(x,"ImageReference").$new(g,k.attributes["$[]"]("imagesdir")):g):c}()},T.$$arity=2);a.def(d,"$resolve_id",K=function(d){var g,w,k=this,p=c,h=c;if(e(k.reftexts))return k.reftexts["$[]"](d);if(e(k.parsed))return n(k.reftexts=f([],{}),"tap",[],(g=function(d){var f=g.$$s||this,w;null==f.catalog&&(f.catalog=c);null==d&&(d=c);return n(f.catalog["$[]"]("refs"),"each",[],(w=function(f,g){var w,k=c;null==f&&(f=c);null==g&&(g=c);return e(w=d["$[]"](g.$xreftext()))?
w:(k=[g.$xreftext(),f],n(d,"[]=",a.to_a(k)),k[b(k.length,1)])},w.$$s=f,w.$$arity=2,w))},g.$$s=k,g.$$arity=1,g))["$[]"](d);p=c;k.reftexts=h=f([],{});(function(){var f=a.new_brk();try{return n(k.catalog["$[]"]("refs"),"each",[],(w=function(g,w){var k,l=c;null==g&&(g=c);null==w&&(w=c);(w=w.$xreftext())["$=="](d)&&(p=g,a.brk(c,f));return e(k=h["$[]"](w))?k:(l=[w,g],n(h,"[]=",a.to_a(l)),l[b(l.length,1)])},w.$$s=k,w.$$brk=f,w.$$arity=2,w))}catch(La){if(La===f)return La.$v;throw La;}})();k.reftexts=c;return p},
K.$$arity=1);a.def(d,"$sections?",B=function(){return l(this.next_section_index,0)},B.$$arity=0);a.def(d,"$footnotes?",C=function(){return e(this.catalog["$[]"]("footnotes")["$empty?"]())?!1:!0},C.$$arity=0);a.def(d,"$footnotes",E=function(){return this.catalog["$[]"]("footnotes")},E.$$arity=0);a.def(d,"$callouts",V=function(){return this.catalog["$[]"]("callouts")},V.$$arity=0);a.def(d,"$nested?",F=function(){return e(this.parent_document)?!0:!1},F.$$arity=0);a.def(d,"$embedded?",Q=function(){return this.attributes["$key?"]("embedded")},
Q.$$arity=0);a.def(d,"$extensions?",G=function(){return e(this.extensions)?!0:!1},G.$$arity=0);a.def(d,"$source",y=function(){return e(this.reader)?this.reader.$source():c},y.$$arity=0);a.def(d,"$source_lines",la=function(){return e(this.reader)?this.reader.$source_lines():c},la.$$arity=0);a.def(d,"$basebackend?",J=function(a){return this.attributes["$[]"]("basebackend")["$=="](a)},J.$$arity=1);a.def(d,"$title",ha=function(){return this.$doctitle()},ha.$$arity=0);a.def(d,"$title=",va=function(c){var d;
if(!e(d=this.header)){var f=["header"];n(d=this.header=p(x,"Section").$new(this,0),"sectname=",a.to_a(f));f[b(f.length,1)]}f=[c];n(d,"title=",a.to_a(f));return f[b(f.length,1)]},va.$$arity=1);a.def(d,"$doctitle",X=function(a){var b,d,g,n=c;null==a&&(a=f([],{}));if(!e(d=this.attributes["$[]"]("title")))if(e(g=this.$first_section()))d=g.$title();else if(e((e(b=a["$[]"]("use_fallback"))?d=this.attributes["$[]"]("untitled-label"):b)["$!"]()))return c;return e(n=a["$[]"]("partition"))?p(x,"Title").$new(d,
a.$merge(f(["separator"],{separator:n["$=="](!0)?this.attributes["$[]"]("title-separator"):n}))):e(e(b=a["$[]"]("sanitize"))?d["$include?"]("<"):b)?d.$gsub(p(x,"XmlSanitizeRx"),"").$squeeze(" ").$strip():d},X.$$arity=-1);a.alias(d,"name","doctitle");a.def(d,"$xreftext",N=function(a){var b;a=c;return e(e(b=a=this.$reftext())?a["$empty?"]()["$!"]():b)?a:this.$title()},N.$$arity=-1);a.def(d,"$author",O=function(){return this.attributes["$[]"]("author")},O.$$arity=0);a.def(d,"$authors",P=function(){var a,
b,c;if(e((b=this.attributes)["$key?"]("author"))){var d=[p(x,"Author").$new(b["$[]"]("author"),b["$[]"]("firstname"),b["$[]"]("middlename"),b["$[]"]("lastname"),b["$[]"]("authorinitials"),b["$[]"]("email"))];if(e(l(c=e(a=b["$[]"]("authorcount"))?a:0,1)))for(a=1;e(r(a,c));)a=h(a,1),d["$<<"](p(x,"Author").$new(b["$[]"]("author_"+a),b["$[]"]("firstname_"+a),b["$[]"]("middlename_"+a),b["$[]"]("lastname_"+a),b["$[]"]("authorinitials_"+a),b["$[]"]("email_"+a)));return d}return[]},P.$$arity=0);a.def(d,"$revdate",
R=function(){return this.attributes["$[]"]("revdate")},R.$$arity=0);a.def(d,"$notitle",ia=function(){return this.attributes["$key?"]("notitle")},ia.$$arity=0);a.def(d,"$noheader",Ba=function(){return this.attributes["$key?"]("noheader")},Ba.$$arity=0);a.def(d,"$nofooter",pa=function(){return this.attributes["$key?"]("nofooter")},pa.$$arity=0);a.def(d,"$first_section",wa=function(){var a,b;return e(a=this.header)?a:n(this.blocks,"find",[],(b=function(a){null==a&&(a=c);return a.$context()["$=="]("section")},
b.$$s=this,b.$$arity=1,b))},wa.$$arity=0);a.def(d,"$header?",Ea=function(){return e(this.header)?!0:!1},Ea.$$arity=0);a.alias(d,"has_header?","header?");a.def(d,"$<<",ra=function(b){var c=ra.$$p,e;c&&(ra.$$p=null);var d=0;var f=arguments.length;for(e=Array(f);d<f;d++)e[d]=arguments[d];b.$context()["$=="]("section")&&this.$assign_numeral(b);return n(this,a.find_super_dispatcher(this,"<<",ra,!1),e,c)},ra.$$arity=1);a.def(d,"$finalize_header",aa=function(c,d){null==d&&(d=!0);this.$clear_playback_attributes(c);
this.$save_attributes();e(d)||(d=["invalid-header",!0],n(c,"[]=",a.to_a(d)),d[b(d.length,1)]);return c},aa.$$arity=-2);a.def(d,"$playback_attributes",ca=function(d){var f;return e(d["$key?"]("attribute_entries"))?n(d["$[]"]("attribute_entries"),"each",[],(f=function(d){var g=f.$$s||this;null==g.attributes&&(g.attributes=c);null==d&&(d=c);var w=d.$name();if(e(d.$negate()))return g.attributes.$delete(w),w["$=="]("compat-mode")?g.compat_mode=!1:c;d=[w,d.$value()];n(g.attributes,"[]=",a.to_a(d));d[b(d.length,
1)];return w["$=="]("compat-mode")?g.compat_mode=!0:c},f.$$s=this,f.$$arity=1,f)):c},ca.$$arity=1);a.def(d,"$restore_attributes",Fa=function(){e(this.parent_document)||this.catalog["$[]"]("callouts").$rewind();return this.attributes.$replace(this.header_attributes)},Fa.$$arity=0);a.def(d,"$set_attribute",Ra=function(d,f){null==f&&(f="");if(e(this["$attribute_locked?"](d)))return c;e(f["$empty?"]())||(f=this.$apply_attribute_value_subs(f));if(e(this.header_attributes)){var g=[d,f];n(this.attributes,
"[]=",a.to_a(g));g[b(g.length,1)]}else"backend"["$==="](d)?this.$update_backend_attributes(f,e(g=this.attributes_modified["$delete?"]("htmlsyntax"))?f["$=="](this.backend):g):"doctype"["$==="](d)?this.$update_doctype_attributes(f):(g=[d,f],n(this.attributes,"[]=",a.to_a(g)),g[b(g.length,1)]),this.attributes_modified["$<<"](d);return f},Ra.$$arity=-2);a.def(d,"$delete_attribute",Na=function(a){if(e(this["$attribute_locked?"](a)))return!1;this.attributes.$delete(a);this.attributes_modified["$<<"](a);
return!0},Na.$$arity=1);a.def(d,"$attribute_locked?",Sa=function(a){return this.attribute_overrides["$key?"](a)},Sa.$$arity=1);a.def(d,"$set_header_attribute",Ga=function(c,d,f){var g;null==d&&(d="");null==f&&(f=!0);var w=e(g=this.header_attributes)?g:this.attributes;if(e(f["$=="](!1)?w["$key?"](c):f["$=="](!1)))return!1;c=[c,d];n(w,"[]=",a.to_a(c));c[b(c.length,1)];return!0},Ga.$$arity=-2);a.def(d,"$convert",Ka=function(d){var w,k,h=c,l=c,r=c,u=c,m=c;null==d&&(d=f([],{}));e(this.timings)&&this.timings.$start("convert");
e(this.parsed)||this.$parse();e(e(w=g(this.safe,q(p(x,"SafeMode"),"SERVER")))?w:d["$empty?"]())||(e((h=["outfile",d["$[]"]("outfile")],n(this.attributes,"[]=",a.to_a(h)),h[b(h.length,1)]))||this.attributes.$delete("outfile"),e((h=["outdir",d["$[]"]("outdir")],n(this.attributes,"[]=",a.to_a(h)),h[b(h.length,1)]))||this.attributes.$delete("outdir"));this.$doctype()["$=="]("inline")?e(l=e(w=this.blocks["$[]"](0))?w:this.header)&&(e(e(w=l.$content_model()["$=="]("compound"))?w:l.$content_model()["$=="]("empty"))?
this.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):r=l.$content()):(u=e(d["$key?"]("standalone"))?e(d["$[]"]("standalone"))?"document":"embedded":e(d["$key?"]("header_footer"))?e(d["$[]"]("header_footer"))?"document":"embedded":e(this.options["$[]"]("standalone"))?"document":"embedded",r=this.converter.$convert(this,u));!e(this.parent_document)&&e(e(w=m=this.extensions)?m["$postprocessors?"]():w)&&n(m.$postprocessors(),"each",
[],(k=function(a){var b=k.$$s||this;null==a&&(a=c);return r=a.$process_method()["$[]"](b,r)},k.$$s=this,k.$$arity=1,k));e(this.timings)&&this.timings.$record("convert");return r},Ka.$$arity=-1);a.alias(d,"render","convert");a.def(d,"$write",$a=function(a,b){var d;e(this.timings)&&this.timings.$start("write");e(p(x,"Writer")["$==="](this.converter))?this.converter.$write(a,b):(e(b["$respond_to?"]("write"))?e(a["$nil_or_empty?"]())||(b.$write(a.$chomp()),b.$write(p(x,"LF"))):q("::","File").$write(b,
a,f(["mode"],{mode:p(x,"FILE_WRITE_MODE")})),e(e(d=this.backend["$=="]("manpage")?q("::","String")["$==="](b):this.backend["$=="]("manpage"))?this.converter.$class()["$respond_to?"]("write_alternate_pages"):d)&&this.converter.$class().$write_alternate_pages(this.attributes["$[]"]("mannames"),this.attributes["$[]"]("manvolnum"),b));e(this.timings)&&this.timings.$record("write");return c},$a.$$arity=2);a.def(d,"$content",Pa=function(){var b=Pa.$$p,c;b&&(Pa.$$p=null);var e=0;var d=arguments.length;for(c=
Array(d);e<d;e++)c[e]=arguments[e];this.attributes.$delete("title");return n(this,a.find_super_dispatcher(this,"content",Pa,!1),c,b)},Pa.$$arity=0);a.def(d,"$docinfo",Wa=function(a,b){var d,g,w,k=c,h=c,l=c,u=c,m=c,H=c,t=c;u=t=c;null==a&&(a="head");null==b&&(b=c);if(e(r(this.$safe(),q(p(x,"SafeMode"),"SECURE")))&&(a["$=="]("head")||(k="-"+a),b=e(d=b)?d:this.outfilesuffix,h=e((h=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?e(this.attributes["$key?"]("docinfo2"))?["private","shared"]:e(this.attributes["$key?"]("docinfo1"))?
["shared"]:e(h)?["private"]:c:n(h.$split(","),"map",[],(g=function(a){null==a&&(a=c);return a.$strip()},g.$$s=this,g.$$arity=1,g)),e(h))){l=[];d=["docinfo"+k+b,this.attributes["$[]"]("docinfodir"),this.$resolve_docinfo_subs()];u=d[0];m=d[1];H=d[2];d;if(!e(h["$&"](["shared","shared-"+a])["$empty?"]())&&(t=this.$normalize_system_path(u,m),e(t=this.$read_asset(t,f(["normalize"],{normalize:!0})))))l["$<<"](this.$apply_subs(t,H));if(!e(e(d=this.attributes["$[]"]("docname")["$nil_or_empty?"]())?d:h["$&"](["private",
"private-"+a])["$empty?"]())&&(t=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+u,m),e(u=this.$read_asset(t,f(["normalize"],{normalize:!0})))))l["$<<"](this.$apply_subs(u,H))}return e(e(d=this.extensions)?this["$docinfo_processors?"](a):d)?(e(d=l)?d:[]).$concat(n(this.docinfo_processor_extensions["$[]"](a),"map",[],(w=function(a){var b=w.$$s||this;null==a&&(a=c);return a.$process_method()["$[]"](b)},w.$$s=this,w.$$arity=1,w)).$compact()).$join(p(x,"LF")):e(l)?l.$join(p(x,"LF")):
""},Wa.$$arity=-1);a.def(d,"$docinfo_processors?",Xa=function(d){var f,g=c;null==d&&(d="head");if(e(this.docinfo_processor_extensions["$key?"](d)))return this.docinfo_processor_extensions["$[]"](d)["$!="](!1);if(e(e(f=this.extensions)?this.document.$extensions()["$docinfo_processors?"](d):f))return(g=[d,this.document.$extensions().$docinfo_processors(d)],n(this.docinfo_processor_extensions,"[]=",a.to_a(g)),g[b(g.length,1)])["$!"]()["$!"]();g=[d,!1];n(this.docinfo_processor_extensions,"[]=",a.to_a(g));
return g[b(g.length,1)]},Xa.$$arity=-1);a.def(d,"$to_s",ab=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+(e(a=this.header)?this.header.$title():a).$inspect()+", blocks: "+this.blocks.$size()+"}>"},ab.$$arity=0);d.$private();a.def(d,"$apply_attribute_value_subs",Ya=function(a){var b;e(p(x,"AttributeEntryPassMacroRx")["$=~"](a))?(a=(b=z["~"])===c?c:b["$[]"](2),e((b=z["~"])===c?c:b["$[]"](1))&&(a=this.$apply_subs(a,this.$resolve_pass_subs((b=
z["~"])===c?c:b["$[]"](1))))):a=this.$apply_header_subs(a);return e(this.max_attribute_value_size)?this.$limit_bytesize(a,this.max_attribute_value_size):a},Ya.$$arity=1);a.def(d,"$limit_bytesize",Z=function(a,c){if(e(l(a.$bytesize(),c)))for(;!e((a=a.$byteslice(0,c))["$valid_encoding?"]());)c=b(c,1);return a},Z.$$arity=2);a.def(d,"$resolve_docinfo_subs",w=function(){return e(this.attributes["$key?"]("docinfosubs"))?this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",c,"docinfo"):["attributes"]},
w.$$arity=0);a.def(d,"$create_converter",H=function(d,g){var w,k,h=c,l;var r=f(["document","htmlsyntax"],{document:this,htmlsyntax:this.attributes["$[]"]("htmlsyntax")});e(k=e(w=(h=this.options)["$[]"]("template_dirs"))?w:h["$[]"]("template_dir"))&&(w=["template_dirs",[].concat(a.to_a(k))],n(r,"[]=",a.to_a(w)),w[b(w.length,1)],w=["template_cache",h.$fetch("template_cache",!0)],n(r,"[]=",a.to_a(w)),w[b(w.length,1)],w=["template_engine",h["$[]"]("template_engine")],n(r,"[]=",a.to_a(w)),w[b(w.length,
1)],w=["template_engine_options",h["$[]"]("template_engine_options")],n(r,"[]=",a.to_a(w)),w[b(w.length,1)],w=["eruby",h["$[]"]("eruby")],n(r,"[]=",a.to_a(w)),w[b(w.length,1)],w=["safe",this.safe],n(r,"[]=",a.to_a(w)),w[b(w.length,1)],e(g)&&(w=["delegate_backend",g],n(r,"[]=",a.to_a(w)),w[b(w.length,1)]));return e(l=h["$[]"]("converter"))?q(p(x,"Converter"),"CustomFactory").$new(v(d,l)).$create(d,r):h.$fetch("converter_factory",p(x,"Converter")).$create(d,r)},H.$$arity=2);a.def(d,"$clear_playback_attributes",
ba=function(a){return a.$delete("attribute_entries")},ba.$$arity=1);a.def(d,"$save_attributes",L=function(){var d,g,w=c,k=c,h=c,l=h=c,r=c,u=c,m=c,H=m=m=l=u=c,t=c,L=c;e(e(d=(w=this.attributes)["$key?"]("doctitle"))?d:(k=this.$doctitle())["$!"]())||(h=["doctitle",k],n(w,"[]=",a.to_a(h)),h[b(h.length,1)]);this.id=e(d=this.id)?d:w["$[]"]("css-signature");e(h=e(w.$delete("toc2"))?"left":w["$[]"]("toc"))&&(l=e(e(d=r=w.$fetch("toc-placement","macro"))?r["$!="]("auto"):d)?r:w["$[]"]("toc-position"),e(e(d=
h["$empty?"]())?l["$nil_or_empty?"]():d)||(u="left",m="toc2",u=e(l["$nil_or_empty?"]())?e(h["$empty?"]())?u:h:l,h=["toc",""],n(w,"[]=",a.to_a(h)),h[b(h.length,1)],h=["toc-placement","auto"],n(w,"[]=",a.to_a(h)),h[b(h.length,1)],l=u,"left"["$==="](l)||"<"["$==="](l)||"&lt;"["$==="](l)?(h=["toc-position","left"],n(w,"[]=",a.to_a(h)),h[b(h.length,1)]):"right"["$==="](l)||">"["$==="](l)||"&gt;"["$==="](l)?(h=["toc-position","right"],n(w,"[]=",a.to_a(h)),h[b(h.length,1)]):"top"["$==="](l)||"^"["$==="](l)?
(h=["toc-position","top"],n(w,"[]=",a.to_a(h)),h[b(h.length,1)]):"bottom"["$==="](l)||"v"["$==="](l)?(h=["toc-position","bottom"],n(w,"[]=",a.to_a(h)),h[b(h.length,1)]):("preamble"["$==="](l)||"macro"["$==="](l)?(h=["toc-position","content"],n(w,"[]=",a.to_a(h)),h[b(h.length,1)],h=["toc-placement",u],n(w,"[]=",a.to_a(h)),h[b(h.length,1)]):w.$delete("toc-position"),m=c),e(m)&&(e(d=w["$[]"]("toc-class"))?d:(h=["toc-class",m],n(w,"[]=",a.to_a(h)),h[b(h.length,1)]))));e(e(d=m=w["$[]"]("icons"))?w["$key?"]("icontype")["$!"]():
d)&&(l=m,""["$==="](l)||"font"["$==="](l)?c:(h=["icons",""],n(w,"[]=",a.to_a(h)),h[b(h.length,1)],m["$=="]("image")||(h=["icontype",m],n(w,"[]=",a.to_a(h)),h[b(h.length,1)])));e(e(d=this.compat_mode=w["$key?"]("compat-mode"))?w["$key?"]("language"):d)&&(h=["source-language",w["$[]"]("language")],n(w,"[]=",a.to_a(h)),h[b(h.length,1)]);e(this.parent_document)||((m=w["$[]"]("basebackend"))["$=="]("html")?e(e(d=H=w["$[]"]("source-highlighter"))?w["$[]"](""+H+"-unavailable")["$!"]():d)&&(e(t=this.options["$[]"]("syntax_highlighter_factory"))?
this.syntax_highlighter=t.$create(H,this.backend,f(["document"],{document:this})):e(L=this.options["$[]"]("syntax_highlighters"))?this.syntax_highlighter=q(p(x,"SyntaxHighlighter"),"DefaultFactoryProxy").$new(L).$create(H,this.backend,f(["document"],{document:this})):this.syntax_highlighter=p(x,"SyntaxHighlighter").$create(H,this.backend,f(["document"],{document:this}))):m["$=="]("docbook")&&(e(e(d=this["$attribute_locked?"]("toc"))?d:this.attributes_modified["$include?"]("toc"))||(h=["toc",""],n(w,
"[]=",a.to_a(h)),h[b(h.length,1)]),e(e(d=this["$attribute_locked?"]("sectnums"))?d:this.attributes_modified["$include?"]("sectnums"))||(h=["sectnums",""],n(w,"[]=",a.to_a(h)),h[b(h.length,1)])),this.outfilesuffix=w["$[]"]("outfilesuffix"),n(p(x,"FLEXIBLE_ATTRIBUTES"),"each",[],(g=function(a){var b=g.$$s||this,d;null==b.attribute_overrides&&(b.attribute_overrides=c);null==a&&(a=c);return e(e(d=b.attribute_overrides["$key?"](a))?b.attribute_overrides["$[]"](a):d)?b.attribute_overrides.$delete(a):c},
g.$$s=this,g.$$arity=1,g)));return this.header_attributes=w.$merge()},L.$$arity=0);a.def(d,"$fill_datetime_attributes",U=function(d,f){var g,w,k=c,p,h=c;var l=e(q("::","ENV")["$key?"]("SOURCE_DATE_EPOCH"))?k=q("::","Time").$at(this.$Integer(q("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():q("::","Time").$now();e(p=d["$[]"]("localdate"))?e(g=d["$[]"]("localyear"))?g:(h=["localyear",p.$index("-")["$=="](4)?p.$slice(0,4):c],n(d,"[]=",a.to_a(h)),h[b(h.length,1)]):(p=(h=["localdate",l.$strftime("%F")],
n(d,"[]=",a.to_a(h)),h[b(h.length,1)]),e(g=d["$[]"]("localyear"))?g:(h=["localyear",l.$year().$to_s()],n(d,"[]=",a.to_a(h)),h[b(h.length,1)]));var r=e(g=d["$[]"]("localtime"))?g:(h=["localtime",l.$strftime("%T "+(l.$utc_offset()["$=="](0)?"UTC":"%z"))],n(d,"[]=",a.to_a(h)),h[b(h.length,1)]);e(g=d["$[]"]("localdatetime"))?g:(h=["localdatetime",""+p+" "+r],n(d,"[]=",a.to_a(h)),h[b(h.length,1)]);f=e(g=e(w=k)?w:f)?g:l;e(w=d["$[]"]("docdate"))?e(g=d["$[]"]("docyear"))?g:(h=["docyear",w.$index("-")["$=="](4)?
w.$slice(0,4):c],n(d,"[]=",a.to_a(h)),h[b(h.length,1)]):(w=(h=["docdate",f.$strftime("%F")],n(d,"[]=",a.to_a(h)),h[b(h.length,1)]),e(g=d["$[]"]("docyear"))?g:(h=["docyear",f.$year().$to_s()],n(d,"[]=",a.to_a(h)),h[b(h.length,1)]));f=e(g=d["$[]"]("doctime"))?g:(h=["doctime",f.$strftime("%T "+(f.$utc_offset()["$=="](0)?"UTC":"%z"))],n(d,"[]=",a.to_a(h)),h[b(h.length,1)]);e(g=d["$[]"]("docdatetime"))?g:(h=["docdatetime",""+w+" "+f],n(d,"[]=",a.to_a(h)),h[b(h.length,1)]);return c},U.$$arity=2);a.def(d,
"$update_backend_attributes",Ha=function(d,f){var g,w,k=c,h=c,l=c,r=c,u=c,m;null==f&&(f=c);if(e(e(g=f)?g:d["$!="](this.backend))){var H=this.backend;var t=(w=this.attributes)["$[]"]("basebackend");var L=this.doctype;if(e(d["$include?"](":"))){var v=d.$partition(":");g=a.to_ary(v);k=null==g[0]?c:g[0];d=null==g[2]?c:g[2];v}e(d["$start_with?"]("xhtml"))?(h=["htmlsyntax","xml"],n(w,"[]=",a.to_a(h)),h[b(h.length,1)],d=d.$slice(1,d.$length())):e(d["$start_with?"]("html"))&&(e(g=w["$[]"]("htmlsyntax"))?
g:(h=["htmlsyntax","html"],n(w,"[]=",a.to_a(h)),h[b(h.length,1)]));d=e(g=p(x,"BACKEND_ALIASES")["$[]"](d))?g:d;e(k)&&(g=[k,d],d=g[0],l=g[1],g);e(L)?(e(H)&&(w.$delete("backend-"+H),w.$delete("backend-"+H+"-doctype-"+L)),h=["backend-"+d+"-doctype-"+L,""],n(w,"[]=",a.to_a(h)),h[b(h.length,1)],h=["doctype-"+L,""],n(w,"[]=",a.to_a(h)),h[b(h.length,1)]):e(H)&&w.$delete("backend-"+H);h=["backend-"+d,""];n(w,"[]=",a.to_a(h));h[b(h.length,1)];this.backend=(h=["backend",d],n(w,"[]=",a.to_a(h)),h[b(h.length,
1)]);e(q(p(x,"Converter"),"BackendTraits")["$==="](v=this.$create_converter(d,l)))?(r=v.$basebackend(),u=v.$filetype(),e(H=v.$htmlsyntax())&&(h=["htmlsyntax",H],n(w,"[]=",a.to_a(h)),h[b(h.length,1)]),e(f)?e(g=w["$[]"]("outfilesuffix"))?g:(h=["outfilesuffix",v.$outfilesuffix()],n(w,"[]=",a.to_a(h)),h[b(h.length,1)]):e(this["$attribute_locked?"]("outfilesuffix"))||(h=["outfilesuffix",v.$outfilesuffix()],n(w,"[]=",a.to_a(h)),h[b(h.length,1)])):e(v)?(H=p(x,"Converter").$derive_backend_traits(d),r=H["$[]"]("basebackend"),
u=H["$[]"]("filetype"),e(f)?e(g=w["$[]"]("outfilesuffix"))?g:(h=["outfilesuffix",H["$[]"]("outfilesuffix")],n(w,"[]=",a.to_a(h)),h[b(h.length,1)]):e(this["$attribute_locked?"]("outfilesuffix"))||(h=["outfilesuffix",H["$[]"]("outfilesuffix")],n(w,"[]=",a.to_a(h)),h[b(h.length,1)])):this.$raise(q("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+d+"'. Processing aborted.");this.converter=v;e(m=w["$[]"]("filetype"))&&w.$delete("filetype-"+m);h=["filetype",u];n(w,"[]=",
a.to_a(h));h[b(h.length,1)];h=["filetype-"+u,""];n(w,"[]=",a.to_a(h));h[b(h.length,1)];e(f=p(x,"DEFAULT_PAGE_WIDTHS")["$[]"](r))?(h=["pagewidth",f],n(w,"[]=",a.to_a(h)),h[b(h.length,1)]):w.$delete("pagewidth");e(r["$!="](t))&&(e(L)?(e(t)&&(w.$delete("basebackend-"+t),w.$delete("basebackend-"+t+"-doctype-"+L)),h=["basebackend-"+r+"-doctype-"+L,""],n(w,"[]=",a.to_a(h)),h[b(h.length,1)]):e(t)&&w.$delete("basebackend-"+t),h=["basebackend-"+r,""],n(w,"[]=",a.to_a(h)),h[b(h.length,1)],h=["basebackend",
r],n(w,"[]=",a.to_a(h)),h[b(h.length,1)]);return d}return c},Ha.$$arity=-2);return(a.def(d,"$update_doctype_attributes",db=function(d){var f,g;if(e(e(f=d)?d["$!="](this.doctype):f)){f=[this.backend,(g=this.attributes)["$[]"]("basebackend"),this.doctype];var w=f[0];var k=f[1];var h=f[2];f;e(h)?(g.$delete("doctype-"+h),e(w)&&(g.$delete("backend-"+w+"-doctype-"+h),f=["backend-"+w+"-doctype-"+d,""],n(g,"[]=",a.to_a(f)),f[b(f.length,1)]),e(k)&&(g.$delete("basebackend-"+k+"-doctype-"+h),f=["basebackend-"+
k+"-doctype-"+d,""],n(g,"[]=",a.to_a(f)),f[b(f.length,1)])):(e(w)&&(f=["backend-"+w+"-doctype-"+d,""],n(g,"[]=",a.to_a(f)),f[b(f.length,1)]),e(k)&&(f=["basebackend-"+k+"-doctype-"+d,""],n(g,"[]=",a.to_a(f)),f[b(f.length,1)]));f=["doctype-"+d,""];n(g,"[]=",a.to_a(f));f[b(f.length,1)];return this.doctype=(f=["doctype",d],n(g,"[]=",a.to_a(f)),f[b(f.length,1)])}return c},db.$$arity=1),c)&&"update_doctype_attributes"})(d[0],p(d,"AbstractBlock"),d)}(k[0],k)};Opal.modules["asciidoctor/inline"]=function(a){var b=
[],g=a.nil,h=a.const_get_relative,l=a.module,r=a.klass,k=a.hash2,c=a.send,q=a.truthy;a.add_stubs("$attr_accessor $attr_reader $[] $convert $converter $attr $== $apply_reftext_subs $reftext".split(" "));return function(b,d){b=[l(b,"Asciidoctor")].concat(d);(function(b,$super,e){b=r(b,$super,"Inline");[b].concat(e);var d,h,p,l,u,m,t,x;b.$$prototype.text=b.$$prototype.type=g;b.$attr_accessor("text");b.$attr_reader("type");b.$attr_accessor("target");a.def(b,"$initialize",d=function(b,e,f,h){d.$$p&&(d.$$p=
null);null==f&&(f=g);null==h&&(h=k([],{}));c(this,a.find_super_dispatcher(this,"initialize",d,!1),[b,e,h],null);this.node_name="inline_"+e;this.text=f;this.id=h["$[]"]("id");this.type=h["$[]"]("type");return this.target=h["$[]"]("target")},d.$$arity=-3);a.def(b,"$block?",h=function(){return!1},h.$$arity=0);a.def(b,"$inline?",p=function(){return!0},p.$$arity=0);a.def(b,"$convert",l=function(){return this.$converter().$convert(this)},l.$$arity=0);a.alias(b,"render","convert");a.def(b,"$alt",u=function(){var a;
return q(a=this.$attr("alt"))?a:""},u.$$arity=0);a.def(b,"$reftext?",m=function(){var a,b;return q(a=this.text)?q(b=this.type["$=="]("ref"))?b:this.type["$=="]("bibref"):a},m.$$arity=0);a.def(b,"$reftext",t=function(){var a;return q(a=this.text)?this.$apply_reftext_subs(a):g},t.$$arity=0);return(a.def(b,"$xreftext",x=function(a){return this.$reftext()},x.$$arity=-1),g)&&"xreftext"})(b[0],h(b,"AbstractNode"),b)}(b[0],b)};Opal.modules["asciidoctor/list"]=function(a){var b=[],g=a.nil,h=a.const_get_relative,
l=a.module,r=a.klass,k=a.hash2,c=a.send,q=a.truthy;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $drop $nil_or_empty? $apply_subs $attr_writer $empty? $=== $[] $outline? $! $simple? $source $shift $context $parent".split(" "));return function(b,d){b=[l(b,"Asciidoctor")].concat(d);(function(b,$super,e){b=r(b,$super,"List");[b].concat(e);var d,h,p,l;b.$$prototype.context=b.$$prototype.document=b.$$prototype.style=g;a.alias(b,"items","blocks");a.alias(b,
"content","blocks");a.alias(b,"items?","blocks?");a.def(b,"$initialize",d=function(b,e,f){var g=d.$$p,h;g&&(d.$$p=null);var p=0;var l=arguments.length;for(h=Array(l);p<l;p++)h[p]=arguments[p];null==f&&(f=k([],{}));return c(this,a.find_super_dispatcher(this,"initialize",d,!1),h,g)},d.$$arity=-3);a.def(b,"$outline?",h=function(){var a;return q(a=this.context["$=="]("ulist"))?a:this.context["$=="]("olist")},h.$$arity=0);a.def(b,"$convert",p=function(){var b=p.$$p,e;b&&(p.$$p=null);var d=0;var f=arguments.length;
for(e=Array(f);d<f;d++)e[d]=arguments[d];return this.context["$=="]("colist")?(b=c(this,a.find_super_dispatcher(this,"convert",p,!1),e,b),this.document.$callouts().$next_list(),b):c(this,a.find_super_dispatcher(this,"convert",p,!1),e,b)},p.$$arity=0);a.alias(b,"render","convert");return(a.def(b,"$to_s",l=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},l.$$arity=0),g)&&"to_s"})(b[0],
h(b,"AbstractBlock"),b);(function(b,$super,e){b=r(b,$super,"ListItem");var d=[b].concat(e),k,p,l,u,m,t,x;b.$$prototype.text=b.$$prototype.subs=b.$$prototype.blocks=g;a.alias(b,"list","parent");b.$attr_accessor("marker");a.def(b,"$initialize",k=function(b,e){k.$$p&&(k.$$p=null);null==e&&(e=g);c(this,a.find_super_dispatcher(this,"initialize",k,!1),[b,"list_item"],null);this.text=e;this.level=b.$level();return this.subs=h(d,"NORMAL_SUBS").$drop(0)},k.$$arity=-2);a.def(b,"$text?",p=function(){return q(this.text["$nil_or_empty?"]())?
!1:!0},p.$$arity=0);a.def(b,"$text",l=function(){var a;return q(a=this.text)?this.$apply_subs(this.text,this.subs):a},l.$$arity=0);b.$attr_writer("text");a.def(b,"$simple?",u=function(){var a,b,c=g;return q(a=this.blocks["$empty?"]())?a:q(b=this.blocks.$size()["$=="](1)?h(d,"List")["$==="](c=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?c["$outline?"]():b},u.$$arity=0);a.def(b,"$compound?",m=function(){return this["$simple?"]()["$!"]()},m.$$arity=0);a.def(b,"$fold_first",t=function(){this.text=
q(this.text["$nil_or_empty?"]())?this.blocks.$shift().$source():""+this.text+h(d,"LF")+this.blocks.$shift().$source();return g},t.$$arity=0);return(a.def(b,"$to_s",x=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(q(a=this.blocks)?a:[]).$size()+"}>"},x.$$arity=0),g)&&"to_s"})(b[0],h(b,"AbstractBlock"),b)}(b[0],b)};Opal.modules["asciidoctor/parser"]=function(a){function b(a,b){return"number"===
typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var k=[],c=a.nil,q=a.const_get_qualified,p=a.const_get_relative,m=a.module,t=a.klass,n=a.send,e=a.truthy,f=a.hash2,v=a.gvars;a.add_stubs("$include $new $proc $start_with? $match? $is_delimited_block? $extend $private_class_method $parse_document_header $[] $has_more_lines? $next_section $assign_numeral $<< $blocks $skip_blank_lines $parse_block_metadata_lines $attributes $is_next_line_doctitle? $[]= $- $finalize_header $nil_or_empty? $title= $sourcemap $cursor $parse_section_title $id= $include? $sub_specialchars $sub_attributes $source_location= $header $attribute_locked? $id $clear $delete $instance_variable_get $parse_header_metadata $== $! $register $process_authors $update $doctype $parse_manpage_header $=~ $downcase $error $logger $message_with_context $cursor_at_line $backend $save $is_next_line_section? $initialize_section $join $map $read_lines_until $lstrip $split $title $restore_save $discard_save $context $empty? $header? $!= $attr? $attr $key? $document $+ $level $special $sectname $to_i $< $> $warn $next_block $blocks? $style $style= $parent= $content_model $content_model= $lines $subs $size $context= $shift $unwrap_standalone_preamble $source_location $merge $fetch $parse_block_metadata_line $extensions $block_macros? $mark $read_line $terminator $to_s $masq $to_sym $registered_for_block? $debug? $debug $cursor_at_mark $strict_verbatim_paragraphs $unshift_line $markdown_syntax $keys $chr $uniform? $length $end_with? $=== $parse_attributes $attribute_missing $tr $basename $assign_caption $registered_for_block_macro? $config $process_method $replace $parse_callout_list $callouts $parse_list $parse_description_list $underline_style_section_titles $is_section_title? $peek_line $atx_section_title? $generate_id $level= $read_paragraph_lines $adjust_indentation! $map! $slice $pop $build_block $apply_subs $chop $catalog_inline_anchors $rekey $index $strip $parse_table $each $raise $title? $update_attributes $commit_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $nil? $parse_blocks $parse_list_item $items $scan $gsub $count $advance $dup $match $callout_ids $next_list $catalog_inline_anchor $marker= $catalog_inline_biblio_anchor $set_option $text= $resolve_ordered_list_marker $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $concat $find $casecmp $sectname= $special= $numbered= $numbered $lineno $peek_lines $setext_section_title? $abs $cursor_at_prev_line $process_attribute_entries $next_line_empty? $apply_header_subs $rstrip $each_with_index $compact $to_h $squeeze $to_a $parse_style_attribute $process_attribute_entry $skip_comment_lines $store_attribute $sanitize_attribute_name $set_attribute $save_to $delete_attribute $ord $int_to_roman $resolve_list_marker $parse_colspecs $create_columns $has_header_option= $format $starts_with_delimiter? $close_open_cell $parse_cellspec $delimiter $match_delimiter $pre_match $post_match $buffer_has_unclosed_quotes? $skip_past_delimiter $buffer $buffer= $skip_past_escaped_delimiter $keep_cell_open $push_cellspec $close_cell $cell_open? $close_table $columns $assign_column_widths $partition_header_footer $upto $partition $shorthand_property_syntax $each_char $yield_buffered_attribute $any? $* $each_byte $%".split(" "));
return function(d,k){d=[m(d,"Asciidoctor")].concat(k);(function(d,$super,k){d=t(d,$super,"Parser");var x=[d].concat(k),u,m,A,D,z,I,T,B,C,E,K,F,Q,G,y,W,V,J,la,Y,va,X,ha,N,O,P,ia,R,pa,wa,Ea,ra,aa,ca,Fa,Ra,Na,Sa,Ga,Ka,$a,Pa,Wa,Xa,ab,Ya;d.$include(p(x,"Logging"));a.const_set(x[0],"BlockMatchData",p(x,"Struct").$new("context","masq","tip","terminator"));a.const_set(x[0],"TAB","\t");a.const_set(x[0],"TabIndentRx",/^\t+/);a.const_set(x[0],"StartOfBlockProc",n(d,"proc",[],(u=function(a){var b=u.$$s||this,
d,f;null==a&&(a=c);return e(d=e(f=a["$start_with?"]("["))?p(x,"BlockAttributeLineRx")["$match?"](a):f)?d:b["$is_delimited_block?"](a)},u.$$s=d,u.$$arity=1,u)));a.const_set(x[0],"StartOfListProc",n(d,"proc",[],(m=function(a){null==a&&(a=c);return p(x,"AnyListRx")["$match?"](a)},m.$$s=d,m.$$arity=1,m)));a.const_set(x[0],"StartOfBlockOrListProc",n(d,"proc",[],(A=function(a){var b=A.$$s||this,d,f,g;null==a&&(a=c);return e(d=e(f=b["$is_delimited_block?"](a))?f:e(g=a["$start_with?"]("["))?p(x,"BlockAttributeLineRx")["$match?"](a):
g)?d:p(x,"AnyListRx")["$match?"](a)},A.$$s=d,A.$$arity=1,A)));a.const_set(x[0],"NoOp",c);a.const_set(x[0],"AuthorKeys","author authorinitials firstname middlename lastname email".split(" "));a.const_set(x[0],"ListContinuationMarker",q("::","Module").$new());a.const_set(x[0],"ListContinuationPlaceholder",q("::","String").$new().$extend(p(x,"ListContinuationMarker")));a.const_set(x[0],"ListContinuationString",q("::","String").$new(p(x,"LIST_CONTINUATION")).$extend(p(x,"ListContinuationMarker")));a.const_set(x[0],
"TableCellHorzAlignments",f(["<",">","^"],{"<":"left",">":"right","^":"center"}));a.const_set(x[0],"TableCellVertAlignments",f(["<",">","^"],{"<":"top",">":"bottom","^":"middle"}));a.const_set(x[0],"TableCellStyles",f("dsemhla".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",a:"asciidoc"}));d.$private_class_method("new");a.defs(d,"$parse",D=function(b,d,g){null==g&&(g=f([],{}));var w=this.$parse_document_header(b,d,g=g["$[]"]("header_only"));if(!e(g))for(;e(b["$has_more_lines?"]());){g=
this.$next_section(b,d,w);w=a.to_ary(g);var n=null==w[0]?c:w[0];w=null==w[1]?c:w[1];g;e(n)&&(d.$assign_numeral(n),d.$blocks()["$<<"](n))}return d},D.$$arity=-3);a.defs(d,"$parse_document_header",z=function(d,g,h){var w,k,l,r=c,q=c;null==h&&(h=!1);var u=e(d.$skip_blank_lines())?this.$parse_block_metadata_lines(d,g):f([],{});var m=g.$attributes();if(e(e(w=k=this["$is_next_line_doctitle?"](d,u,m["$[]"]("leveloffset")))?u["$[]"]("title"):w)){var H=["authorcount",0];n(m,"[]=",a.to_a(H));H[b(H.length,1)];
return g.$finalize_header(u,!1)}e((l=m["$[]"]("doctitle"))["$nil_or_empty?"]())||(H=[r=l],n(g,"title=",a.to_a(H)),H[b(H.length,1)]);if(e(k)){e(g.$sourcemap())&&(q=d.$cursor());H=this.$parse_section_title(d,g);w=a.to_ary(H);g["$id="](null==w[0]?c:w[0]);k=null==w[2]?c:w[2];var t=null==w[4]?c:w[4];H;e(r)?k=c:(H=[k],n(g,"title=",a.to_a(H)),H[b(H.length,1)],e((H=["doctitle",r=g.$sub_specialchars(k)],n(m,"[]=",a.to_a(H)),H[b(H.length,1)])["$include?"](p(x,"ATTR_REF_HEAD")))&&(H=["doctitle",r=g.$sub_attributes(r,
f(["attribute_missing"],{attribute_missing:"skip"}))],n(m,"[]=",a.to_a(H)),H[b(H.length,1)]));e(q)&&(H=[q],n(g.$header(),"source_location=",a.to_a(H)),H[b(H.length,1)]);e(e(w=t)?w:g["$attribute_locked?"]("compat-mode"))||(H=["compat-mode",""],n(m,"[]=",a.to_a(H)),H[b(H.length,1)]);e(H=u["$[]"]("separator"))&&!e(g["$attribute_locked?"]("title-separator"))&&(H=["title-separator",H],n(m,"[]=",a.to_a(H)),H[b(H.length,1)]);e(q=u["$[]"]("id"))?(H=[q],n(g,"id=",a.to_a(H)),H[b(H.length,1)]):q=g.$id();e(H=
u["$[]"]("role"))&&(H=["role",H],n(m,"[]=",a.to_a(H)),H[b(H.length,1)]);e(H=u["$[]"]("reftext"))&&(H=["reftext",H],n(m,"[]=",a.to_a(H)),H[b(H.length,1)]);u.$clear();(H=g.$instance_variable_get("@attributes_modified")).$delete("doctitle");this.$parse_header_metadata(d,g,c);if(e(H["$include?"]("doctitle")))e(e(w=(l=m["$[]"]("doctitle"))["$nil_or_empty?"]())?w:l["$=="](r))?(H=["doctitle",r],n(m,"[]=",a.to_a(H))):(H=[l],n(g,"title=",a.to_a(H))),H[b(H.length,1)];else if(e(k["$!"]()))H["$<<"]("doctitle");
e(q)&&g.$register("refs",[q,g])}else e(w=m["$[]"]("author"))?(w=this.$process_authors(w,!0,!1),e(m["$[]"]("authorinitials"))&&w.$delete("authorinitials"),m.$update(w)):e(w=m["$[]"]("authors"))?(w=this.$process_authors(w,!0),m.$update(w)):(H=["authorcount",0],n(m,"[]=",a.to_a(H)),H[b(H.length,1)]);g.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(d,g,u,h);return g.$finalize_header(u)},z.$$arity=-3);a.defs(d,"$parse_manpage_header",I=function(d,g,h,k){var w,l,r,q,u=c,m=c,H=c,t=c,A=c,D=c,ba=
D=c,z=c,I=c,Z=c;null==k&&(k=!1);e(p(x,"ManpageTitleVolnumRx")["$=~"]((u=g.$attributes())["$[]"]("doctitle")))?(m=["manvolnum",H=(w=v["~"])===c?c:w["$[]"](2)],n(u,"[]=",a.to_a(m)),m[b(m.length,1)],m=["mantitle",(e((t=(w=v["~"])===c?c:w["$[]"](1))["$include?"](p(x,"ATTR_REF_HEAD")))?g.$sub_attributes(t):t).$downcase()]):(this.$logger().$error(this.$message_with_context("non-conforming manpage title",f(["source_location"],{source_location:d.$cursor_at_line(1)}))),m=["mantitle",e(w=e(l=u["$[]"]("doctitle"))?
l:u["$[]"]("docname"))?w:"command"],n(u,"[]=",a.to_a(m)),m[b(m.length,1)],m=["manvolnum",H="1"]);n(u,"[]=",a.to_a(m));m[b(m.length,1)];e(e(w=A=u["$[]"]("manname"))?u["$[]"]("manpurpose"):w)?(e(w=u["$[]"]("manname-title"))?w:(m=["manname-title","Name"],n(u,"[]=",a.to_a(m)),m[b(m.length,1)]),m=["mannames",[A]],n(u,"[]=",a.to_a(m)),m[b(m.length,1)],g.$backend()["$=="]("manpage")&&(m=["docname",A],n(u,"[]=",a.to_a(m)),m[b(m.length,1)],m=["outfilesuffix","."+H],n(u,"[]=",a.to_a(m)),m[b(m.length,1)])):
e(k)||(d.$skip_blank_lines(),d.$save(),h.$update(this.$parse_block_metadata_lines(d,g)),e(D=this["$is_next_line_section?"](d,f([],{})))?D["$=="](1)?(D=this.$initialize_section(d,g,f([],{})),ba=n(d.$read_lines_until(f(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],(r=function(a){null==a&&(a=c);return a.$lstrip()},r.$$s=this,r.$$arity=1,r)).$join(" "),e(p(x,"ManpageNamePurposeRx")["$=~"](ba))?(e((A=(w=v["~"])===c?c:w["$[]"](1))["$include?"](p(x,
"ATTR_REF_HEAD")))&&(A=g.$sub_attributes(A)),e(A["$include?"](","))?A=(z=n(A.$split(","),"map",[],(q=function(a){null==a&&(a=c);return a.$lstrip()},q.$$s=this,q.$$arity=1,q)))["$[]"](0):z=[A],e((I=(w=v["~"])===c?c:w["$[]"](2))["$include?"](p(x,"ATTR_REF_HEAD")))&&(I=g.$sub_attributes(I)),e(w=u["$[]"]("manname-title"))?w:(m=["manname-title",D.$title()],n(u,"[]=",a.to_a(m)),m[b(m.length,1)]),e(D.$id())&&(m=["manname-id",D.$id()],n(u,"[]=",a.to_a(m)),m[b(m.length,1)]),m=["manname",A],n(u,"[]=",a.to_a(m)),
m[b(m.length,1)],m=["mannames",z],n(u,"[]=",a.to_a(m)),m[b(m.length,1)],m=["manpurpose",I],n(u,"[]=",a.to_a(m)),m[b(m.length,1)],g.$backend()["$=="]("manpage")&&(m=["docname",A],n(u,"[]=",a.to_a(m)),m[b(m.length,1)],m=["outfilesuffix","."+H],n(u,"[]=",a.to_a(m)),m[b(m.length,1)])):Z="non-conforming name section body"):Z="name section must be at level 1":Z="name section expected",e(Z)?(d.$restore_save(),this.$logger().$error(this.$message_with_context(Z,f(["source_location"],{source_location:d.$cursor()}))),
m=["manname",A=e(w=u["$[]"]("docname"))?w:"command"],n(u,"[]=",a.to_a(m)),m[b(m.length,1)],m=["mannames",[A]],n(u,"[]=",a.to_a(m)),m[b(m.length,1)],g.$backend()["$=="]("manpage")&&(m=["docname",A],n(u,"[]=",a.to_a(m)),m[b(m.length,1)],m=["outfilesuffix","."+H],n(u,"[]=",a.to_a(m)),m[b(m.length,1)])):d.$discard_save());return c},I.$$arity=-4);a.defs(d,"$next_section",T=function(d,w,k){var r,m,u,q,H,t,v=c,A,D,z=c,I=D=c,Z;null==k&&(k=f([],{}));var T=H=t=!1;if(e(e(r=(m=w.$context()["$=="]("document"))?
w.$blocks()["$empty?"]():w.$context()["$=="]("document"))?e(m=e(u=v=w["$header?"]())?u:k.$delete("invalid-header"))?m:this["$is_next_line_section?"](d,k)["$!"]():r)){var B=(A=w).$doctype()["$=="]("book");if(e(e(r=v)?r:e(m=B)?k["$[]"](1)["$!="]("abstract"):m)){T=H=p(x,"Block").$new(w,"preamble",f(["content_model"],{content_model:"compound"}));if(e(e(r=B)?w["$attr?"]("preface-title"):r)){var C=[w.$attr("preface-title")];n(T,"title=",a.to_a(C));C[b(C.length,1)]}w.$blocks()["$<<"](T)}v=w;D=0;if(e(w.$attributes()["$key?"]("fragment")))var E=
-1;else e(B)?(r=[1,0],E=r[0],z=r[1],r):E=1}else B=(A=w.$document()).$doctype()["$=="]("book"),v=this.$initialize_section(d,w,k),k=e(D=k["$[]"]("title"))?f(["title"],{title:D}):f([],{}),E=g(D=v.$level(),1),D["$=="](0)?t=B:e((r=D["$=="](1))?v.$special():D["$=="](1))&&!e(e(r=e(m=(I=v.$sectname())["$=="]("appendix"))?m:I["$=="]("preface"))?r:I["$=="]("abstract"))&&(E=c);for(d.$skip_blank_lines();e(d["$has_more_lines?"]());){this.$parse_block_metadata_lines(d,A,k);if(e(Z=this["$is_next_line_section?"](d,
k)))if(e(A["$attr?"]("leveloffset"))&&(Z=g(Z,A.$attr("leveloffset").$to_i()),e(h(Z,0))&&(Z=0)),e(l(Z,D)))e(E)?e(e(m=e(u=Z["$=="](E))?u:e(q=z)?Z["$=="](z):q)?m:h(E,0))||(m=e(z)?"expected levels "+z+" or "+E:"expected level "+E,this.$logger().$warn(this.$message_with_context("section title out of sequence: "+m+", got level "+Z,f(["source_location"],{source_location:d.$cursor()})))):this.$logger().$error(this.$message_with_context(""+I+" sections do not support nested sections",f(["source_location"],
{source_location:d.$cursor()}))),u=this.$next_section(d,v,k),m=a.to_ary(u),Z=null==m[0]?c:m[0],k=null==m[1]?c:m[1],u,v.$assign_numeral(Z),v.$blocks()["$<<"](Z);else if(e((m=Z["$=="](0))?v["$=="](A):Z["$=="](0)))e(B)||this.$logger().$error(this.$message_with_context("level 0 sections can only be used when doctype is book",f(["source_location"],{source_location:d.$cursor()}))),u=this.$next_section(d,v,k),m=a.to_ary(u),Z=null==m[0]?c:m[0],k=null==m[1]?c:m[1],u,v.$assign_numeral(Z),v.$blocks()["$<<"](Z);
else break;else if(C=d.$cursor(),e(Z=this.$next_block(d,e(m=H)?m:v,k,f(["parse_metadata"],{parse_metadata:!1})))){if(e(t))if(e(v["$blocks?"]()["$!"]()))e(Z.$style()["$!="]("partintro"))?e((m=Z.$style()["$=="]("open"))?Z.$context()["$=="]("open"):Z.$style()["$=="]("open"))?(C=["partintro"],n(Z,"style=",a.to_a(C)),C[b(C.length,1)]):(C=[H=p(x,"Block").$new(v,"open",f(["content_model"],{content_model:"compound"}))],n(Z,"parent=",a.to_a(C)),C[b(C.length,1)],C=["partintro"],n(H,"style=",a.to_a(C)),C[b(C.length,
1)],v.$blocks()["$<<"](H)):Z.$content_model()["$=="]("simple")&&(C=["compound"],n(Z,"content_model=",a.to_a(C)),C[b(C.length,1)],Z["$<<"](p(x,"Block").$new(Z,"paragraph",f(["source","subs"],{source:Z.$lines(),subs:Z.$subs()}))),Z.$lines().$clear(),Z.$subs().$clear());else if(v.$blocks().$size()["$=="](1)){var K=v.$blocks()["$[]"](0);e(e(m=H["$!"]())?K.$content_model()["$=="]("compound"):m)?this.$logger().$error(this.$message_with_context("illegal block content outside of partintro block",f(["source_location"],
{source_location:C}))):e(K.$content_model()["$!="]("compound"))&&(C=[H=p(x,"Block").$new(v,"open",f(["content_model"],{content_model:"compound"}))],n(Z,"parent=",a.to_a(C)),C[b(C.length,1)],K.$style()["$=="]((C=["partintro"],n(H,"style=",a.to_a(C)),C[b(C.length,1)]))&&(C=["paragraph"],n(K,"context=",a.to_a(C)),C[b(C.length,1)],C=[c],n(K,"style=",a.to_a(C)),C[b(C.length,1)]),v.$blocks().$shift(),H["$<<"](K),v.$blocks()["$<<"](H))}(e(m=H)?m:v).$blocks()["$<<"](Z);k.$clear()}if(e(m=d.$skip_blank_lines()))m;
else break}if(e(t))e(e(r=v["$blocks?"]())?v.$blocks()["$[]"](-1).$context()["$=="]("section"):r)||this.$logger().$error(this.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",f(["source_location"],{source_location:d.$cursor()})));else if(e(T))if(e(T["$blocks?"]()))if(e(e(r=e(m=B)?m:A.$blocks()["$[]"](1))?r:p(x,"Compliance").$unwrap_standalone_preamble()["$!"]()))e(A.$sourcemap())&&(C=[T.$blocks()["$[]"](0).$source_location()],n(T,"source_location=",
a.to_a(C)),C[b(C.length,1)]);else for(A.$blocks().$shift();e(d=T.$blocks().$shift());)A["$<<"](d);else A.$blocks().$shift();return[v["$=="](w)?c:v,k.$merge()]},T.$$arity=-3);a.defs(d,"$next_block",B=function(d,w,k,r){try{var m,u,q,t,H,A,D,ba=c,z=c,I=c,C=c,T=c,Z=c,B=c,E=c,K=c,S=c,F=c,Q=c,X=c,G=c,y=c,ka=c,qa=c,W=c,ta=c,V=c,J=c,na=c,da=c,fa=c,ua=c,ja=c,la=c,ma=c,Ga=c,sa=c,xa=c,Y=c,va=c,ha=c,N=c,Ka=c,ea=c,O=c,P=c,Ja=c,ya=c,za=c,Aa=c,R=c,ia=c,Da=c,Ia=c,Ma=c,Va=c;null==v["~"]&&(v["~"]=c);null==k&&(k=f([],
{}));null==r&&(r=f([],{}));if(!e(ba=d.$skip_blank_lines()))return c;e(e(m=z=r["$[]"]("text_only"))?l(ba,0):m)&&(r.$delete("text_only"),z=c);I=w.$document();if(e(r.$fetch("parse_metadata",!0)))for(;e(this.$parse_block_metadata_line(d,I,k,r));)d.$shift(),e(u=d.$skip_blank_lines())?u:a.ret(c);e(C=I.$extensions())&&(m=[C["$blocks?"](),C["$block_macros?"]()],T=m[0],Z=m[1],m);d.$mark();m=[d.$read_line(),I.$attributes(),k["$[]"](1)];B=m[0];E=m[1];K=m[2];m;S=F=Q=X=c;e(G=this["$is_delimited_block?"](B,!0))&&
(F=Q=G.$context(),X=G.$terminator(),e(K)?K["$=="](F.$to_s())||(e(G.$masq()["$include?"](K))?F=K.$to_sym():e(e(m=G.$masq()["$include?"]("admonition"))?p(x,"ADMONITION_STYLES")["$include?"](K):m)?F="admonition":e(e(m=T)?C["$registered_for_block?"](K,F):m)?F=K.$to_sym():(e(this.$logger()["$debug?"]())&&this.$logger().$debug(this.$message_with_context("unknown style for "+F+" block: "+K,f(["source_location"],{source_location:d.$cursor_at_mark()}))),K=F.$to_s())):K=(y=["style",F.$to_s()],n(k,"[]=",a.to_a(y)),
y[b(y.length,1)]));if(!e(G))for(;e(!0);){if(e(e(u=e(q=K)?p(x,"Compliance").$strict_verbatim_paragraphs():q)?p(x,"VERBATIM_STYLES")["$include?"](K):u)){F=K.$to_sym();Q="paragraph";d.$unshift_line(B);break}if(e(z))ka=B["$start_with?"](" ",p(x,"TAB"));else if(qa=p(x,"Compliance").$markdown_syntax(),e(B["$start_with?"](" "))){if(u=[!0," "],ka=u[0],W=u[1],u,e(e(u=e(q=qa)?n(B.$lstrip(),"start_with?",a.to_a(p(x,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):q)?p(x,"MarkdownThematicBreakRx")["$match?"](B):u)){S=
p(x,"Block").$new(w,"thematic_break",f(["content_model"],{content_model:"empty"}));break}}else if(e(B["$start_with?"](p(x,"TAB"))))u=[!0,p(x,"TAB")],ka=u[0],W=u[1],u;else if(u=[!1,B.$chr()],ka=u[0],W=u[1],u,ta=e(qa)?p(x,"HYBRID_LAYOUT_BREAK_CHARS"):p(x,"LAYOUT_BREAK_CHARS"),e(e(u=ta["$key?"](W))?e(qa)?p(x,"ExtLayoutBreakRx")["$match?"](B):e(q=this["$uniform?"](B,W,V=B.$length()))?l(V,2):q:u)){S=p(x,"Block").$new(w,ta["$[]"](W),f(["content_model"],{content_model:"empty"}));break}else if(e(e(u=B["$end_with?"]("]"))?
B["$include?"]("::"):u))if(e(e(u=e(q=W["$=="]("i"))?q:B["$start_with?"]("video:","audio:"))?p(x,"BlockMediaMacroRx")["$=~"](B):u)){u=[((q=v["~"])===c?c:q["$[]"](1)).$to_sym(),(q=v["~"])===c?c:q["$[]"](2),(q=v["~"])===c?c:q["$[]"](3)];J=u[0];na=u[1];da=u[2];u;S=p(x,"Block").$new(w,J,f(["content_model"],{content_model:"empty"}));e(da)&&(fa=J,ua="video"["$==="](fa)?["poster","width","height"]:"audio"["$==="](fa)?[]:["alt","width","height"],S.$parse_attributes(da,ua,f(["sub_input","into"],{sub_input:!0,
into:k})));e(k["$key?"]("style"))&&k.$delete("style");if(e(na["$include?"](p(x,"ATTR_REF_HEAD")))){if(e(e(u=e(q=(ja=S.$sub_attributes(na))["$empty?"]())?(e(t=E["$[]"]("attribute-missing"))?t:p(x,"Compliance").$attribute_missing())["$=="]("drop-line"):q)?S.$sub_attributes(g(na," "),f(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():u))return k.$clear(),c;na=ja}J["$=="]("image")&&(I.$register("images",na),y=["imagesdir",E["$[]"]("imagesdir")],
n(k,"[]=",a.to_a(y)),y[b(y.length,1)],e(u=k["$[]"]("alt"))?u:(y=["alt",e(q=K)?q:(y=["default-alt",p(x,"Helpers").$basename(na,!0).$tr("_-"," ")],n(k,"[]=",a.to_a(y)),y[b(y.length,1)])],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]),e((la=k.$delete("scaledwidth"))["$nil_or_empty?"]())||(y=["scaledwidth",e(p(x,"TrailingDigitsRx")["$match?"](la))?""+la+"%":la],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]),e(k["$[]"]("title"))&&(y=[ma=k.$delete("title")],n(S,"title=",a.to_a(y)),y[b(y.length,1)],S.$assign_caption(k.$delete("caption"),
"figure")));y=["target",na];n(k,"[]=",a.to_a(y));y[b(y.length,1)];break}else if(e(e(u=(q=W["$=="]("t"))?B["$start_with?"]("toc:"):W["$=="]("t"))?p(x,"BlockTocMacroRx")["$=~"](B):u)){S=p(x,"Block").$new(w,"toc",f(["content_model"],{content_model:"empty"}));e((u=v["~"])===c?c:u["$[]"](1))&&S.$parse_attributes((u=v["~"])===c?c:u["$[]"](1),[],f(["into"],{into:k}));break}else if(e(e(Z)?e(u=e(q=p(x,"CustomBlockMacroRx")["$=~"](B))?Ga=C["$registered_for_block_macro?"]((t=v["~"])===c?c:t["$[]"](1)):q)?u:
sa=this.$logger()["$debug?"]():e(u=this.$logger()["$debug?"]())?sa=p(x,"CustomBlockMacroRx")["$=~"](B):u))if(e(sa))this.$logger().$debug(this.$message_with_context("unknown name for block macro: "+((u=v["~"])===c?c:u["$[]"](1)),f(["source_location"],{source_location:d.$cursor_at_mark()})));else{xa=(u=v["~"])===c?c:u["$[]"](3);if(e((na=(u=v["~"])===c?c:u["$[]"](2))["$include?"](p(x,"ATTR_REF_HEAD")))){if(e(e(u=e(q=(ja=w.$sub_attributes(na))["$empty?"]())?(e(t=E["$[]"]("attribute-missing"))?t:p(x,"Compliance").$attribute_missing())["$=="]("drop-line"):
q)?w.$sub_attributes(g(na," "),f(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():u))return k.$clear(),c;na=ja}(Y=Ga.$config())["$[]"]("content_model")["$=="]("attributes")?e(xa)&&I.$parse_attributes(xa,e(u=e(q=Y["$[]"]("positional_attrs"))?q:Y["$[]"]("pos_attrs"))?u:[],f(["sub_input","into"],{sub_input:!0,into:k})):(y=["text",e(u=xa)?u:""],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]);e(va=Y["$[]"]("default_attrs"))&&n(k,"update",[va],
(H=function(a,b){null==b&&(b=c);return b},H.$$s=this,H.$$arity=2,H));if(e(e(u=S=Ga.$process_method()["$[]"](w,na,k))?S["$!="](w):u)){k.$replace(S.$attributes());break}else return k.$clear(),c}if(e(e(u=e(q=ka["$!"]())?(W=e(t=W)?t:B.$chr())["$=="]("<"):q)?p(x,"CalloutListRx")["$=~"](B):u)){d.$unshift_line(B);S=this.$parse_callout_list(d,v["~"],w,I.$callouts());y=["style","arabic"];n(k,"[]=",a.to_a(y));y[b(y.length,1)];break}else if(e(p(x,"UnorderedListRx")["$match?"](B))){d.$unshift_line(B);e(e(u=e(q=
K["$!"]())?p(x,"Section")["$==="](w):q)?w.$sectname()["$=="]("bibliography"):u)&&(y=["style",K="bibliography"],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]);S=this.$parse_list(d,"ulist",w,K);break}else if(e(p(x,"OrderedListRx")["$match?"](B))){d.$unshift_line(B);S=this.$parse_list(d,"olist",w,K);e(S.$style())&&(y=["style",S.$style()],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]);break}else if(e(e(u=e(q=B["$include?"]("::"))?q:B["$include?"](";;"))?p(x,"DescriptionListRx")["$=~"](B):u)){d.$unshift_line(B);S=this.$parse_description_list(d,
v["~"],w);break}else if(e(e(u=e(q=K["$=="]("float"))?q:K["$=="]("discrete"))?e(p(x,"Compliance").$underline_style_section_titles())?this["$is_section_title?"](B,d.$peek_line()):e(q=ka["$!"]())?this["$atx_section_title?"](B):q:u)){d.$unshift_line(B);q=this.$parse_section_title(d,I,k["$[]"]("id"));u=a.to_ary(q);ha=null==u[0]?c:u[0];N=null==u[1]?c:u[1];ma=null==u[2]?c:u[2];Ka=null==u[3]?c:u[3];q;e(N)&&(y=["reftext",N],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]);S=p(x,"Block").$new(w,"floating_title",f(["content_model"],
{content_model:"empty"}));y=[ma];n(S,"title=",a.to_a(y));y[b(y.length,1)];k.$delete("title");y=[e(u=ha)?u:e(E["$key?"]("sectids"))?p(x,"Section").$generate_id(S.$title(),I):c];n(S,"id=",a.to_a(y));y[b(y.length,1)];y=[Ka];n(S,"level=",a.to_a(y));y[b(y.length,1)];break}else if(e(e(u=K)?K["$!="]("normal"):u))if(e(p(x,"PARAGRAPH_STYLES")["$include?"](K))){F=K.$to_sym();Q="paragraph";d.$unshift_line(B);break}else if(e(p(x,"ADMONITION_STYLES")["$include?"](K))){F="admonition";Q="paragraph";d.$unshift_line(B);
break}else if(e(e(u=T)?C["$registered_for_block?"](K,"paragraph"):u)){F=K.$to_sym();Q="paragraph";d.$unshift_line(B);break}else e(this.$logger()["$debug?"]())&&this.$logger().$debug(this.$message_with_context("unknown style for paragraph: "+K,f(["source_location"],{source_location:d.$cursor_at_mark()}))),K=c;d.$unshift_line(B);if(e(e(u=ka)?K["$!"]():u))ea=this.$read_paragraph_lines(d,O=ba["$=="](0)?r["$[]"]("list_type"):c,f(["skip_line_comments"],{skip_line_comments:z})),this["$adjust_indentation!"](ea),
S=e(e(u=z)?u:O["$=="]("dlist"))?p(x,"Block").$new(w,"paragraph",f(["content_model","source","attributes"],{content_model:"simple",source:ea,attributes:k})):p(x,"Block").$new(w,"literal",f(["content_model","source","attributes"],{content_model:"verbatim",source:ea,attributes:k}));else{ea=this.$read_paragraph_lines(d,(u=ba["$=="](0))?r["$[]"]("list_type"):ba["$=="](0),f(["skip_line_comments"],{skip_line_comments:!0}));if(e(z)){if(e(e(u=ka)?K["$=="]("normal"):u))this["$adjust_indentation!"](ea);S=p(x,
"Block").$new(w,"paragraph",f(["content_model","source","attributes"],{content_model:"simple",source:ea,attributes:k}))}else if(e(e(u=e(q=p(x,"ADMONITION_STYLE_HEADS")["$include?"](W))?B["$include?"](":"):q)?p(x,"AdmonitionParagraphRx")["$=~"](B):u))y=[0,(u=v["~"])===c?c:u.$post_match()],n(ea,"[]=",a.to_a(y)),y[b(y.length,1)],y=["name",P=(y=["style",(u=v["~"])===c?c:u["$[]"](1)],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]).$downcase()],n(k,"[]=",a.to_a(y)),y[b(y.length,1)],y=["textlabel",e(u=k.$delete("caption"))?
u:E["$[]"](""+P+"-caption")],n(k,"[]=",a.to_a(y)),y[b(y.length,1)],S=p(x,"Block").$new(w,"admonition",f(["content_model","source","attributes"],{content_model:"simple",source:ea,attributes:k}));else if(e(e(u=e(q=qa)?W["$=="](">"):q)?B["$start_with?"]("> "):u)){n(ea,"map!",[],(A=function(a){null==a&&(a=c);return a["$=="](">")?a.$slice(1,a.$length()):e(a["$start_with?"]("> "))?a.$slice(2,a.$length()):a},A.$$s=this,A.$$arity=1,A));if(e(ea["$[]"](-1)["$start_with?"]("-- "))&&(Ja=(Ja=ea.$pop()).$slice(3,
Ja.$length()),!e(ea["$empty?"]())))for(;e(ea["$[]"](-1)["$empty?"]());)ea.$pop();y=["style","quote"];n(k,"[]=",a.to_a(y));y[b(y.length,1)];S=this.$build_block("quote","compound",!1,w,p(x,"Reader").$new(ea),k);e(Ja)&&(q=S.$apply_subs(Ja).$split(", ",2),u=a.to_ary(q),ya=null==u[0]?c:u[0],za=null==u[1]?c:u[1],q,e(ya)&&(y=["attribution",ya],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]),e(za)&&(y=["citetitle",za],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]))}else if(e(e(u=e(q=(t=W["$=="]('"'))?l(ea.$size(),1):W["$=="]('"'))?
ea["$[]"](-1)["$start_with?"]("-- "):q)?ea["$[]"](-2)["$end_with?"]('"'):u)){y=[0,B.$slice(1,B.$length())];n(ea,"[]=",a.to_a(y));y[b(y.length,1)];for(Ja=(Ja=ea.$pop()).$slice(3,Ja.$length());e(ea["$[]"](-1)["$empty?"]());)ea.$pop();ea["$<<"](ea.$pop().$chop());y=["style","quote"];n(k,"[]=",a.to_a(y));y[b(y.length,1)];S=p(x,"Block").$new(w,"quote",f(["content_model","source","attributes"],{content_model:"simple",source:ea,attributes:k}));q=S.$apply_subs(Ja).$split(", ",2);u=a.to_ary(q);ya=null==u[0]?
c:u[0];za=null==u[1]?c:u[1];q;e(ya)&&(y=["attribution",ya],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]);e(za)&&(y=["citetitle",za],n(k,"[]=",a.to_a(y)),y[b(y.length,1)])}else{if(e(e(u=ka)?K["$=="]("normal"):u))this["$adjust_indentation!"](ea);S=p(x,"Block").$new(w,"paragraph",f(["content_model","source","attributes"],{content_model:"simple",source:ea,attributes:k}))}this.$catalog_inline_anchors(ea.$join(p(x,"LF")),S,I,d)}break}if(!e(S))if(fa=F,"listing"["$==="](fa)||"source"["$==="](fa))e(e(m=F["$=="]("source"))?
m:Aa=e(k["$[]"](1))?c:e(u=k["$[]"](2))?u:E["$[]"]("source-language"))&&(e(Aa)?(y=["style","source"],n(k,"[]=",a.to_a(y)),y[b(y.length,1)],y=["language",Aa],n(k,"[]=",a.to_a(y)),y[b(y.length,1)],p(x,"AttributeList").$rekey(k,[c,c,"linenums"])):(p(x,"AttributeList").$rekey(k,[c,"language","linenums"]),!e(k["$key?"]("language"))&&e(E["$key?"]("source-language"))&&(y=["language",E["$[]"]("source-language")],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]),Q["$=="]("listing")||(y=["cloaked-context",Q],n(k,"[]=",
a.to_a(y)),y[b(y.length,1)])),!e(k["$key?"]("linenums"))&&e(e(m=k["$[]"]("linenums-option"))?m:E["$[]"]("source-linenums-option"))&&(y=["linenums",""],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]),!e(k["$key?"]("indent"))&&e(E["$key?"]("source-indent"))&&(y=["indent",E["$[]"]("source-indent")],n(k,"[]=",a.to_a(y)),y[b(y.length,1)])),S=this.$build_block("listing","verbatim",X,w,d,k);else if("fenced_code"["$==="](fa))y=["style","source"],n(k,"[]=",a.to_a(y)),y[b(y.length,1)],e(l(V=B.$length(),3))&&(e(R=(Aa=
B.$slice(3,V)).$index(","))?e(l(R,0))?(Aa=Aa.$slice(0,R).$strip(),e(h(R,b(V,4)))&&(y=["linenums",""],n(k,"[]=",a.to_a(y)),y[b(y.length,1)])):e(l(V,4))&&(y=["linenums",""],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]):Aa=Aa.$lstrip()),e(Aa["$nil_or_empty?"]())?e(E["$key?"]("source-language"))&&(y=["language",E["$[]"]("source-language")],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]):(y=["language",Aa],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]),y=["cloaked-context",Q],n(k,"[]=",a.to_a(y)),y[b(y.length,1)],!e(k["$key?"]("linenums"))&&
e(e(m=k["$[]"]("linenums-option"))?m:E["$[]"]("source-linenums-option"))&&(y=["linenums",""],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]),!e(k["$key?"]("indent"))&&e(E["$key?"]("source-indent"))&&(y=["indent",E["$[]"]("source-indent")],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]),X=X.$slice(0,3),S=this.$build_block("listing","verbatim",X,w,d,k);else if("table"["$==="](fa))ia=d.$cursor(),Da=p(x,"Reader").$new(d.$read_lines_until(f(["terminator","skip_line_comments","context","cursor"],{terminator:X,skip_line_comments:!0,
context:"table",cursor:"at_mark"})),ia),e(X["$start_with?"]("|","!"))||(e(m=k["$[]"]("format"))?m:(y=["format",e(X["$start_with?"](","))?"csv":"dsv"],n(k,"[]=",a.to_a(y)),y[b(y.length,1)])),S=this.$parse_table(Da,w,k);else if("sidebar"["$==="](fa))S=this.$build_block(F,"compound",X,w,d,k);else if("admonition"["$==="](fa))y=["name",P=K.$downcase()],n(k,"[]=",a.to_a(y)),y[b(y.length,1)],y=["textlabel",e(m=k.$delete("caption"))?m:E["$[]"](""+P+"-caption")],n(k,"[]=",a.to_a(y)),y[b(y.length,1)],S=this.$build_block(F,
"compound",X,w,d,k);else if("open"["$==="](fa)||"abstract"["$==="](fa)||"partintro"["$==="](fa))S=this.$build_block("open","compound",X,w,d,k);else if("literal"["$==="](fa))S=this.$build_block(F,"verbatim",X,w,d,k);else if("example"["$==="](fa))e(k["$[]"]("collapsible-option"))&&(y=["caption",""],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]),S=this.$build_block(F,"compound",X,w,d,k);else if("quote"["$==="](fa)||"verse"["$==="](fa))p(x,"AttributeList").$rekey(k,[c,"attribution","citetitle"]),S=this.$build_block(F,
F["$=="]("verse")?"verbatim":"compound",X,w,d,k);else if("stem"["$==="](fa)||"latexmath"["$==="](fa)||"asciimath"["$==="](fa))F["$=="]("stem")&&(y=["style",p(x,"STEM_TYPE_ALIASES")["$[]"](e(m=k["$[]"](2))?m:E["$[]"]("stem"))],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]),S=this.$build_block("stem","raw",X,w,d,k);else if("pass"["$==="](fa))S=this.$build_block(F,"raw",X,w,d,k);else{if("comment"["$==="](fa))return this.$build_block(F,"skip",X,w,d,k),k.$clear(),c;if(e(e(m=T)?Ga=C["$registered_for_block?"](F,
Q):m)){if((Ia=(Y=Ga.$config())["$[]"]("content_model"))["$=="]("skip")||(e((Ma=e(m=Y["$[]"]("positional_attrs"))?m:Y["$[]"]("pos_attrs"))["$nil_or_empty?"]())||p(x,"AttributeList").$rekey(k,g([c],Ma)),e(va=Y["$[]"]("default_attrs"))&&n(va,"each",[],(D=function(d,f){var g;null==d&&(d=c);null==f&&(f=c);return e(g=k["$[]"](d))?g:(y=[d,f],n(k,"[]=",a.to_a(y)),y[b(y.length,1)])},D.$$s=this,D.$$arity=2,D)),y=["cloaked-context",Q],n(k,"[]=",a.to_a(y)),y[b(y.length,1)]),!e(S=this.$build_block(F,Ia,X,w,d,
k,f(["extension"],{extension:Ga}))))return k.$clear(),c}else this.$raise("Unsupported block type "+F+" at "+d.$cursor())}e(I.$sourcemap())&&(y=[d.$cursor_at_mark()],n(S,"source_location=",a.to_a(y)),y[b(y.length,1)]);e(k["$[]"]("title"))&&(y=[ma=k.$delete("title")],n(S,"title=",a.to_a(y)),y[b(y.length,1)],e(p(x,"CAPTION_ATTRIBUTE_NAMES")["$[]"](S.$context()))&&S.$assign_caption(k.$delete("caption")));y=[k["$[]"]("style")];n(S,"style=",a.to_a(y));y[b(y.length,1)];e(Va=e(m=S.$id())?m:(y=[k["$[]"]("id")],
n(S,"id=",a.to_a(y)),y[b(y.length,1)]))&&(e(e(ma)?ma["$include?"](p(x,"ATTR_REF_HEAD")):S["$title?"]())&&S.$title(),e(I.$register("refs",[Va,S]))||this.$logger().$warn(this.$message_with_context("id assigned to block already in use: "+Va,f(["source_location"],{source_location:d.$cursor_at_mark()}))));e(k["$empty?"]())||S.$update_attributes(k);S.$commit_subs();e(S["$sub?"]("callouts"))&&!e(this.$catalog_callouts(S.$source(),I))&&S.$remove_sub("callouts");return S}catch(ib){if(ib===a.returner)return ib.$v;
throw ib;}},B.$$arity=-3);a.defs(d,"$read_paragraph_lines",C=function(c,d,g){null==g&&(g=f([],{}));var w=["break_on_blank_lines",!0];n(g,"[]=",a.to_a(w));w[b(w.length,1)];w=["break_on_list_continuation",!0];n(g,"[]=",a.to_a(w));w[b(w.length,1)];w=["preserve_last_line",!0];n(g,"[]=",a.to_a(w));w[b(w.length,1)];d=e(d)?e(p(x,"Compliance").$block_terminates_paragraph())?p(x,"StartOfBlockOrListProc"):p(x,"StartOfListProc"):e(p(x,"Compliance").$block_terminates_paragraph())?p(x,"StartOfBlockProc"):p(x,
"NoOp");return n(c,"read_lines_until",[g],d.$to_proc())},C.$$arity=-3);a.defs(d,"$is_delimited_block?",E=function(d,f){var g,w;null==f&&(f=c);if(!e(e(g=l(w=d.$length(),1))?p(x,"DELIMITED_BLOCK_HEADS")["$[]"](d.$slice(0,2)):g))return c;if(w["$=="](2)){var k=d;var n=2}else if(e(h(w,5))?(k=d,n=w):k=d.$slice(0,n=4),e(e(g=p(x,"Compliance").$markdown_syntax())?k["$start_with?"]("`"):g))if(n["$=="](4)){if(e(e(g=k["$=="]("````"))?g:(k=k.$chop())["$!="]("```")))return c;d=k;w=n=3}else{if(e(k["$!="]("```")))return c}else if(n["$=="](3))return c;
var r=p(x,"DELIMITED_BLOCKS")["$[]"](k);g=a.to_ary(r);var u=null==g[0]?c:g[0];var m=null==g[1]?c:g[1];r;return e(e(g=u)?e(r=w["$=="](n))?r:this["$uniform?"](d.$slice(1,w),p(x,"DELIMITED_BLOCK_TAILS")["$[]"](k),b(w,1)):g)?e(f)?p(x,"BlockMatchData").$new(u,m,k,d):!0:c},E.$$arity=-2);a.defs(d,"$build_block",K=function(a,b,d,g,k,n,h){var w,r,u,m,q=c;null==h&&(h=f([],{}));var t=b;"skip"["$==="](t)?(w=[!0,"simple"],u=w[0],m=w[1]):"raw"["$==="](t)?(w=[!1,"simple"],u=w[0],m=w[1]):(w=[!1,b],u=w[0],m=w[1]);
w;e(d["$nil?"]())?(m["$=="]("verbatim")?m=k.$read_lines_until(f(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(b["$=="]("compound")&&(b="simple"),m=this.$read_paragraph_lines(k,!1,f(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:u}))),d=c):e(m["$!="]("compound"))?(m=k.$read_lines_until(f(["terminator","skip_processing","context","cursor"],{terminator:d,skip_processing:u,context:a,cursor:"at_mark"})),
d=c):d["$=="](!1)?(m=c,d=k):(m=c,t=k.$cursor(),d=p(x,"Reader").$new(k.$read_lines_until(f(["terminator","skip_processing","context","cursor"],{terminator:d,skip_processing:u,context:a,cursor:"at_mark"})),t));t=b;if("verbatim"["$==="](t))if(k=(e(w=n["$[]"]("tabsize"))?w:g.$document().$attributes()["$[]"]("tabsize")).$to_i(),e(t=n["$[]"]("indent")))this["$adjust_indentation!"](m,t.$to_i(),k);else{if(e(l(k,0)))this["$adjust_indentation!"](m,-1,k)}else if("skip"["$==="](t))return c;if(e(h=h["$[]"]("extension")))if(n.$delete("style"),
e(e(w=q=h.$process_method()["$[]"](g,e(r=d)?r:p(x,"Reader").$new(m),n.$merge()))?q["$!="](g):w))n.$replace(q.$attributes()),e(e(w=q.$content_model()["$=="]("compound")?p(x,"Block")["$==="](q):q.$content_model()["$=="]("compound"))?(m=q.$lines())["$empty?"]()["$!"]():w)&&(b="compound",d=p(x,"Reader").$new(m));else return c;else q=p(x,"Block").$new(g,a,f(["content_model","source","attributes"],{content_model:b,source:m,attributes:n}));b["$=="]("compound")&&this.$parse_blocks(d,q);return q},K.$$arity=
-7);a.defs(d,"$parse_blocks",F=function(a,b,d){var f,g,w=c;null==d&&(d=c);if(e(d))for(;e(e(f=e(g=w=this.$next_block(a,b,d.$merge()))?b.$blocks()["$<<"](w):g)?f:a["$has_more_lines?"]()););else for(;e(e(f=e(g=w=this.$next_block(a,b))?b.$blocks()["$<<"](w):g)?f:a["$has_more_lines?"]()););return c},F.$$arity=-3);a.defs(d,"$parse_list",Q=function(a,b,d,f){var g,w;null==v["~"]&&(v["~"]=c);d=p(x,"List").$new(d,b);for(b=p(x,"ListRxMap")["$[]"](b);e(e(g=a["$has_more_lines?"]())?b["$=~"](a.$peek_line()):g);){if(e(w=
this.$parse_list_item(a,d,v["~"],(g=v["~"])===c?c:g["$[]"](1),f)))d.$items()["$<<"](w);if(e(g=a.$skip_blank_lines()))g;else break}return d},Q.$$arity=4);a.defs(d,"$catalog_callouts",G=function(a,b){var d,f=c,w=c;f=!1;w=0;e(a["$include?"]("<"))&&n(a,"scan",[p(x,"CalloutScanRx")],(d=function(){var a;e(((a=v["~"])===c?c:a["$[]"](0))["$start_with?"]("\\"))||b.$callouts().$register(((a=v["~"])===c?c:a["$[]"](2))["$=="](".")?(w=g(w,1)).$to_s():(a=v["~"])===c?c:a["$[]"](2));return f=!0},d.$$s=this,d.$$arity=
0,d));return f},G.$$arity=2);a.defs(d,"$catalog_inline_anchor",y=function(a,b,d,g,k){var w;null==k&&(k=d.$document());e(e(w=b)?b["$include?"](p(x,"ATTR_REF_HEAD")):w)&&(b=k.$sub_attributes(b));e(k.$register("refs",[a,p(x,"Inline").$new(d,"anchor",b,f(["type","id"],{type:"ref",id:a}))]))||(e(p(x,"Reader")["$==="](g))&&(g=g.$cursor()),this.$logger().$warn(this.$message_with_context("id assigned to anchor already in use: "+a,f(["source_location"],{source_location:g}))));return c},y.$$arity=-5);a.defs(d,
"$catalog_inline_anchors",W=function(a,b,d,k){var w,h;e(e(w=a["$include?"]("[["))?w:a["$include?"]("or:"))&&n(a,"scan",[p(x,"InlineAnchorScanRx")],(h=function(){var a=h.$$s||this,w,n,r,u,m=c,q=c;if(e(u=(w=v["~"])===c?c:w["$[]"](1))){if(e(e(w=e(n=m=(r=v["~"])===c?c:r["$[]"](2))?m["$include?"](p(x,"ATTR_REF_HEAD")):n)?(m=d.$sub_attributes(m))["$empty?"]():w))return c}else u=(w=v["~"])===c?c:w["$[]"](3),e(m=(w=v["~"])===c?c:w["$[]"](4))&&(e(m["$include?"]("]"))?(m=m.$gsub("\\]","]"),e(m["$include?"](p(x,
"ATTR_REF_HEAD")))&&(m=d.$sub_attributes(m))):e(m["$include?"](p(x,"ATTR_REF_HEAD")))&&e((m=d.$sub_attributes(m))["$empty?"]())&&(m=c));if(e(d.$register("refs",[u,p(x,"Inline").$new(b,"anchor",m,f(["type","id"],{type:"ref",id:u}))])))return c;n=k.$cursor_at_mark();e(l(q=g(((w=v["~"])===c?c:w.$pre_match()).$count(p(x,"LF")),e(((w=v["~"])===c?c:w["$[]"](0))["$start_with?"](p(x,"LF")))?1:0),0))&&(n=n.$dup()).$advance(q);return a.$logger().$warn(a.$message_with_context("id assigned to anchor already in use: "+
u,f(["source_location"],{source_location:n})))},h.$$s=this,h.$$arity=0,h));return c},W.$$arity=4);a.defs(d,"$catalog_inline_biblio_anchor",V=function(a,b,d,g){e(d.$document().$register("refs",[a,p(x,"Inline").$new(d,"anchor",e(b)?"["+b+"]":b,f(["type","id"],{type:"bibref",id:a}))]))||this.$logger().$warn(this.$message_with_context("id assigned to bibliography anchor already in use: "+a,f(["source_location"],{source_location:g.$cursor()})));return c},V.$$arity=4);a.defs(d,"$parse_description_list",
J=function(d,f,g){var k;null==v["~"]&&(v["~"]=c);g=p(x,"List").$new(g,"dlist");var w=p(x,"DescriptionListSiblingRx")["$[]"](f["$[]"](2));for(g.$items()["$<<"](f=this.$parse_list_item(d,g,f,w));e(e(k=d["$has_more_lines?"]())?w["$=~"](d.$peek_line()):k);){var h=this.$parse_list_item(d,g,v["~"],w);if(e(f["$[]"](1)))g.$items()["$<<"](f=h);else f["$[]"](0)["$<<"](h["$[]"](0)["$[]"](0)),h=[1,h["$[]"](1)],n(f,"[]=",a.to_a(h)),h[b(h.length,1)]}return g},J.$$arity=3);a.defs(d,"$parse_callout_list",la=function(d,
w,k,h){var l,r,m,u;k=p(x,"List").$new(k,"colist");var q=1;for(m=0;e(e(l=w)?l:e(r=w=p(x,"CalloutListRx").$match(d.$peek_line()))?d.$mark():r);)(u=w["$[]"](1))["$=="](".")&&(u=(m=g(m,1)).$to_s()),u["$=="](q.$to_s())||this.$logger().$warn(this.$message_with_context("callout list item index: expected "+q+", got "+u,f(["source_location"],{source_location:d.$cursor_at_mark()}))),e(w=this.$parse_list_item(d,k,w,"<1>"))&&(k.$items()["$<<"](w),e((u=h.$callout_ids(k.$items().$size()))["$empty?"]())?this.$logger().$warn(this.$message_with_context("no callout found for <"+
k.$items().$size()+">",f(["source_location"],{source_location:d.$cursor_at_mark()}))):(u=["coids",u],n(w.$attributes(),"[]=",a.to_a(u)),u[b(u.length,1)])),q=g(q,1),w=c;h.$next_list();return k},la.$$arity=4);a.defs(d,"$parse_list_item",Y=function(d,g,k,h,l){var w,r,u,m=c,q=c,t,H=c,A=c,L,D=c,z=c;null==l&&(l=c);if((u=g.$context())["$=="]("dlist")){if(m=!0,q=p(x,"ListItem").$new(g,l=k["$[]"](1)),e(e(w=l["$start_with?"]("[["))?p(x,"LeadingInlineAnchorRx")["$=~"](l):w)&&this.$catalog_inline_anchor((w=v["~"])===
c?c:w["$[]"](1),e(w=(r=v["~"])===c?c:r["$[]"](2))?w:((r=v["~"])===c?c:r.$post_match()).$lstrip(),q,d),e(t=k["$[]"](3))&&(H=!0),k=p(x,"ListItem").$new(g,t),e(g.$document().$sourcemap())){var y=[d.$cursor()];n(q,"source_location=",a.to_a(y));y[b(y.length,1)];e(H)?(y=[q.$source_location()],n(k,"source_location=",a.to_a(y)),y[b(y.length,1)]):A=!0}}else if(H=!0,k=p(x,"ListItem").$new(g,t=k["$[]"](2)),e(g.$document().$sourcemap())&&(y=[d.$cursor()],n(k,"source_location=",a.to_a(y)),y[b(y.length,1)]),"ulist"["$==="](u))y=
[h],n(k,"marker=",a.to_a(y)),y[b(y.length,1)],e(t["$start_with?"]("["))&&(e(e(w=l)?l["$=="]("bibliography"):w)?e(p(x,"InlineBiblioAnchorRx")["$=~"](t))&&this.$catalog_inline_biblio_anchor((w=v["~"])===c?c:w["$[]"](1),(w=v["~"])===c?c:w["$[]"](2),k,d):e(t["$start_with?"]("[["))?e(p(x,"LeadingInlineAnchorRx")["$=~"](t))&&this.$catalog_inline_anchor((w=v["~"])===c?c:w["$[]"](1),(w=v["~"])===c?c:w["$[]"](2),k,d):e(t["$start_with?"]("[ ] ","[x] ","[*] "))&&(g.$set_option("checklist"),y=["checkbox",""],
n(k.$attributes(),"[]=",a.to_a(y)),y[b(y.length,1)],e(t["$start_with?"]("[ "))||(y=["checked",""],n(k.$attributes(),"[]=",a.to_a(y)),y[b(y.length,1)]),y=[t.$slice(4,t.$length())],n(k,"text=",a.to_a(y)),y[b(y.length,1)]));else{if("olist"["$==="](u)){r=this.$resolve_ordered_list_marker(h,L=g.$items().$size(),!0,d);w=a.to_ary(r);h=null==w[0]?c:w[0];var I=null==w[1]?c:w[1];r;y=[h];n(k,"marker=",a.to_a(y));y[b(y.length,1)];e((w=L["$=="](0))?l["$!"]():L["$=="](0))&&(y=[e(w=I)?w:(e(r=p(x,"ORDERED_LIST_STYLES")["$[]"](b(h.$length(),
1)))?r:"arabic").$to_s()],n(g,"style=",a.to_a(y)),y[b(y.length,1)])}else y=[h],n(k,"marker=",a.to_a(y)),y[b(y.length,1)];e(e(w=t["$start_with?"]("[["))?p(x,"LeadingInlineAnchorRx")["$=~"](t):w)&&this.$catalog_inline_anchor((w=v["~"])===c?c:w["$[]"](1),(w=v["~"])===c?c:w["$[]"](2),k,d)}d.$shift();g=d.$cursor();d=p(x,"Reader").$new(this.$read_lines_for_list_item(d,u,h,H),g);if(e(d["$has_more_lines?"]())){e(A)&&(y=[g],n(k,"source_location=",a.to_a(y)),y[b(y.length,1)]);A=d.$skip_line_comments();e(h=
d.$peek_line())&&(e(A["$empty?"]())||d.$unshift_lines(A),e(h["$empty?"]())||(D=!0,e(m)||(H=c)));if(e(H=this.$next_block(d,k,f([],{}),f(["text_only","list_type"],{text_only:e(H)?c:!0,list_type:u}))))k.$blocks()["$<<"](H);for(;e(d["$has_more_lines?"]());)if(e(H=this.$next_block(d,k,f([],{}),f(["list_type"],{list_type:u}))))k.$blocks()["$<<"](H);e(e(w=e(r=D)?z=k.$blocks()["$[]"](0):r)?z.$context()["$=="]("paragraph"):w)&&k.$fold_first()}return e(m)?[[q],e(e(w=k["$text?"]())?w:k["$blocks?"]())?k:c]:k},
Y.$$arity=-5);a.defs(d,"$read_lines_for_list_item",va=function(d,g,k,h){var w,l,r,u,m,q,t,H,A=c,D=c,y=c,z=c,I=c,B=c,ba=c,C=c,T=C=ba=C=c,S=c;D=ba=c;null==k&&(k=c);null==h&&(h=!0);A=[];D="inactive";y=!1;z=c;for(I=g["$=="]("dlist");e(d["$has_more_lines?"]());){B=d.$read_line();if(e(this["$is_sibling_list_item?"](B,g,k)))break;B["$=="](p(x,"LIST_CONTINUATION"))&&(B=p(x,"ListContinuationString"));ba=e(A["$empty?"]())?c:A["$[]"](-1);if(e(p(x,"ListContinuationMarker")["$==="](ba))&&(D["$=="]("inactive")&&
(D="active",h=!0,e(y)||(C=[-1,p(x,"ListContinuationPlaceholder")],n(A,"[]=",a.to_a(C)),C[b(C.length,1)])),e(p(x,"ListContinuationMarker")["$==="](B)))){e(D["$!="]("frozen"))&&(D="frozen",A["$<<"](B));B=c;continue}if(e(C=this["$is_delimited_block?"](B,!0))){if(!D["$=="]("active"))break;A["$<<"](B);A.$concat(d.$read_lines_until(f(["terminator","read_last_line","context"],{terminator:C.$terminator(),read_last_line:!0,context:c})));D="inactive"}else if(e(e(w=e(l=e(r=I)?D["$!="]("active"):r)?B["$start_with?"]("["):
l)?p(x,"BlockAttributeLineRx")["$match?"](B):w)){for(ba=[B];e(C=d.$peek_line());){if(e(this["$is_delimited_block?"](C)))T=!0;else if(e(e(l=C["$empty?"]())?l:e(r=C["$start_with?"]("["))?p(x,"BlockAttributeLineRx")["$match?"](C):r)){ba["$<<"](d.$read_line());continue}else e(e(l=p(x,"AnyListRx")["$match?"](C))?this["$is_sibling_list_item?"](C,g,k)["$!"]():l)?A.$concat(ba):T=!0;break}if(e(T)){B=c;d.$unshift_lines(ba);break}}else if(e((w=D["$=="]("active"))?B["$empty?"]()["$!"]():D["$=="]("active")))if(e(p(x,
"LiteralParagraphRx")["$match?"](B)))d.$unshift_line(B),e(I)?A.$concat(n(d,"read_lines_until",[f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(u=function(a){var b=u.$$s||this;null==a&&(a=c);return b["$is_sibling_list_item?"](a,g,k)},u.$$s=this,u.$$arity=1,u))):A.$concat(d.$read_lines_until(f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,
break_on_blank_lines:!0,break_on_list_continuation:!0}))),D="inactive";else if(e(e(w=e(l=(r=(S=B.$chr())["$=="]("."))?p(x,"BlockTitleRx")["$match?"](B):(S=B.$chr())["$=="]("."))?l:(r=S["$=="]("["))?p(x,"BlockAttributeLineRx")["$match?"](B):S["$=="]("["))?w:(l=S["$=="](":"))?p(x,"AttributeEntryRx")["$match?"](B):S["$=="](":")))A["$<<"](B);else e(ba=n(e(y)?["dlist"]:p(x,"NESTABLE_LIST_CONTEXTS"),"find",[],(m=function(a){null==a&&(a=c);return p(x,"ListRxMap")["$[]"](a)["$=~"](B)},m.$$s=this,m.$$arity=
1,m)))&&(y=!0,e((w=ba["$=="]("dlist"))?((l=v["~"])===c?c:l["$[]"](3))["$nil_or_empty?"]():ba["$=="]("dlist"))&&(h=!1)),A["$<<"](B),D="inactive";else if(e(e(w=ba)?ba["$empty?"]():w)){if(e(B["$empty?"]())){if(!e(B=e(w=d.$skip_blank_lines())?d.$read_line():w))break;if(e(this["$is_sibling_list_item?"](B,g,k)))break}if(B["$=="](p(x,"LIST_CONTINUATION")))z=A.$size(),A["$<<"](p(x,"ListContinuationString"));else if(e(h))if(e(this["$is_sibling_list_item?"](B,g,k)))break;else if(e(ba=n(p(x,"NESTABLE_LIST_CONTEXTS"),
"find",[],(q=function(a){null==a&&(a=c);return p(x,"ListRxMap")["$[]"](a)["$=~"](B)},q.$$s=this,q.$$arity=1,q))))A["$<<"](B),y=!0,e((w=ba["$=="]("dlist"))?((l=v["~"])===c?c:l["$[]"](3))["$nil_or_empty?"]():ba["$=="]("dlist"))&&(h=!1);else if(e(p(x,"LiteralParagraphRx")["$match?"](B)))d.$unshift_line(B),e(I)?A.$concat(n(d,"read_lines_until",[f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(t=
function(a){var b=t.$$s||this;null==a&&(a=c);return b["$is_sibling_list_item?"](a,g,k)},t.$$s=this,t.$$arity=1,t))):A.$concat(d.$read_lines_until(f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else break;else e(y)||A.$pop(),A["$<<"](B),h=!0}else e(p(x,"ListContinuationMarker")["$==="](B))?h=!0:(e(B["$empty?"]())||(h=!0),e(ba=n(e(y)?["dlist"]:p(x,"NESTABLE_LIST_CONTEXTS"),"find",[],(H=function(a){null==
a&&(a=c);return p(x,"ListRxMap")["$[]"](a)["$=~"](B)},H.$$s=this,H.$$arity=1,H)))&&(y=!0,e((w=ba["$=="]("dlist"))?((l=v["~"])===c?c:l["$[]"](3))["$nil_or_empty?"]():ba["$=="]("dlist"))&&(h=!1))),A["$<<"](B);B=c}e(B)&&d.$unshift_line(B);e(z)&&(C=[z,p(x,"ListContinuationPlaceholder")],n(A,"[]=",a.to_a(C)),C[b(C.length,1)]);for(;!e(A["$empty?"]());)if(e(p(x,"ListContinuationMarker")["$==="](D=A["$[]"](-1)))){A.$pop();break}else if(e(D["$empty?"]()))A.$pop();else break;return A},va.$$arity=-3);a.defs(d,
"$initialize_section",X=function(d,g,k){var w,h=c,r=c,u=c,m=c,q=c;null==k&&(k=f([],{}));var t=g.$document();var v=(w=t.$doctype())["$=="]("book");e(t.$sourcemap())&&(h=d.$cursor());var A=k["$[]"](1);var H=this.$parse_section_title(d,t,k["$[]"]("id"));var D=a.to_ary(H);var y=null==D[0]?c:D[0];var z=null==D[1]?c:D[1];var I=null==D[2]?c:D[2];var B=null==D[3]?c:D[3];var C=null==D[4]?c:D[4];H;e(A)?e(e(D=v)?A["$=="]("abstract"):D)?(D=["chapter",1],w=D[0],B=D[1],D):e(e(D=A["$start_with?"]("sect"))?p(x,"SectionLevelStyleRx")["$match?"](A):
D)?w="section":(D=[A,!0],w=D[0],r=D[1],D,B["$=="](0)&&(B=1),u=w["$=="]("appendix")):e(v)?w=B["$=="](0)?"part":e(l(B,1))?"section":"chapter":e(w["$=="]("manpage")?I.$casecmp("synopsis")["$=="](0):w["$=="]("manpage"))?(D=["synopsis",!0],w=D[0],r=D[1],D):w="section";e(z)&&(m=["reftext",z],n(k,"[]=",a.to_a(m)),m[b(m.length,1)]);z=p(x,"Section").$new(g,B);D=[y,I,w,h];z["$id="](D[0]);z["$title="](D[1]);z["$sectname="](D[2]);z["$source_location="](D[3]);D;e(r)?(m=[!0],n(z,"special=",a.to_a(m)),m[b(m.length,
1)],e(u)?(m=[!0],n(z,"numbered=",a.to_a(m)),m[b(m.length,1)]):t.$attributes()["$[]"]("sectnums")["$=="]("all")&&(m=[e(e(D=v)?B["$=="](1):D)?"chapter":!0],n(z,"numbered=",a.to_a(m)),m[b(m.length,1)])):e(e(D=t.$attributes()["$[]"]("sectnums"))?l(B,0):D)?(m=[e(z.$special())?e(D=g.$numbered())?!0:D:!0],n(z,"numbered=",a.to_a(m)),m[b(m.length,1)]):e(e(D=e(H=v)?B["$=="](0):H)?t.$attributes()["$[]"]("partnums"):D)&&(m=[!0],n(z,"numbered=",a.to_a(m)),m[b(m.length,1)]);e(g=e(D=z.$id())?D:(m=[e(t.$attributes()["$key?"]("sectids"))?
q=p(x,"Section").$generate_id(z.$title(),t):c],n(z,"id=",a.to_a(m)),m[b(m.length,1)]))&&(e(e(D=q)?D:I["$include?"](p(x,"ATTR_REF_HEAD"))["$!"]())||z.$title(),e(t.$register("refs",[g,z]))||this.$logger().$warn(this.$message_with_context("id assigned to section already in use: "+g,f(["source_location"],{source_location:d.$cursor_at_line(b(d.$lineno(),e(C)?1:2))}))));z.$update_attributes(k);d.$skip_blank_lines();return z},X.$$arity=-3);a.defs(d,"$is_next_line_section?",ha=function(a,b){var d,f,g=c;return e(e(d=
g=b["$[]"](1))?e(f=g["$=="]("discrete"))?f:g["$=="]("float"):d)?c:e(p(x,"Compliance").$underline_style_section_titles())?(a=a.$peek_lines(2,e(d=g)?g["$=="]("comment"):d),this["$is_section_title?"](e(d=a["$[]"](0))?d:"",a["$[]"](1))):this["$atx_section_title?"](e(d=a.$peek_line())?d:"")},ha.$$arity=2);a.defs(d,"$is_next_line_doctitle?",N=function(a,b,d){var f,k=c;return e(d)?e(f=k=this["$is_next_line_section?"](a,b))?g(k,d.$to_i())["$=="](0):f:this["$is_next_line_section?"](a,b)["$=="](0)},N.$$arity=
3);a.defs(d,"$is_section_title?",O=function(a,b){var d;null==b&&(b=c);return e(d=this["$atx_section_title?"](a))?d:e(b["$nil_or_empty?"]())?c:this["$setext_section_title?"](a,b)},O.$$arity=-2);a.defs(d,"$atx_section_title?",P=function(a){var d;return e(e(p(x,"Compliance").$markdown_syntax())?e(d=a["$start_with?"]("=","#"))?p(x,"ExtAtxSectionTitleRx")["$=~"](a):d:e(d=a["$start_with?"]("="))?p(x,"AtxSectionTitleRx")["$=~"](a):d)?b(((d=v["~"])===c?c:d["$[]"](1)).$length(),1):c},P.$$arity=1);a.defs(d,
"$setext_section_title?",ia=function(a,d){var f,g,k,w,n=c,l=c;return e(e(f=e(g=e(k=w=p(x,"SETEXT_SECTION_LEVELS")["$[]"](n=d.$chr()))?this["$uniform?"](d,n,l=d.$length()):k)?p(x,"SetextSectionTitleRx")["$match?"](a):g)?h(b(a.$length(),l).$abs(),2):f)?w:c},ia.$$arity=2);a.defs(d,"$parse_section_title",R=function(a,d,f){var k,w,n,l,r,m=c,u=c,q=c,t=c,A=c,H=c;null==f&&(f=c);var D=c;var y=a.$read_line();e(e(p(x,"Compliance").$markdown_syntax())?e(k=y["$start_with?"]("=","#"))?p(x,"ExtAtxSectionTitleRx")["$=~"](y):
k:e(k=y["$start_with?"]("="))?p(x,"AtxSectionTitleRx")["$=~"](y):k)?(k=[b(((w=v["~"])===c?c:w["$[]"](1)).$length(),1),(w=v["~"])===c?c:w["$[]"](2),!0],m=k[0],u=k[1],q=k[2],k,!e(f)&&e(e(k=e(w=u["$end_with?"]("]]"))?p(x,"InlineSectionAnchorRx")["$=~"](u):w)?((w=v["~"])===c?c:w["$[]"](1))["$!"]():k)&&(k=[u.$slice(0,b(u.$length(),((w=v["~"])===c?c:w["$[]"](0)).$length())),(w=v["~"])===c?c:w["$[]"](2),(w=v["~"])===c?c:w["$[]"](3)],u=k[0],f=k[1],D=k[2],k)):e(e(k=e(w=e(n=e(l=e(r=p(x,"Compliance").$underline_style_section_titles())?
t=a.$peek_line(!0):r)?m=p(x,"SETEXT_SECTION_LEVELS")["$[]"](A=t.$chr()):l)?this["$uniform?"](t,A,H=t.$length()):n)?u=e(n=p(x,"SetextSectionTitleRx")["$=~"](y))?(l=v["~"])===c?c:l["$[]"](1):n:w)?h(b(y.$length(),H).$abs(),2):k)?(q=!1,!e(f)&&e(e(k=e(w=u["$end_with?"]("]]"))?p(x,"InlineSectionAnchorRx")["$=~"](u):w)?((w=v["~"])===c?c:w["$[]"](1))["$!"]():k)&&(k=[u.$slice(0,b(u.$length(),((w=v["~"])===c?c:w["$[]"](0)).$length())),(w=v["~"])===c?c:w["$[]"](2),(w=v["~"])===c?c:w["$[]"](3)],u=k[0],f=k[1],
D=k[2],k),a.$shift()):this.$raise("Unrecognized section at "+a.$cursor_at_prev_line());e(d["$attr?"]("leveloffset"))&&(m=g(m,d.$attr("leveloffset").$to_i()),e(h(m,0))&&(m=0));return[f,D,u,m,q]},R.$$arity=-3);a.defs(d,"$parse_header_metadata",pa=function(d,k,h){var w,m,r,u,q=c,t=c,v=c,A=c,H=c,D=c,y=c,z=c,I=c,B=c,C=z=c,T=c,S=c,K=z=I=c,E=c,F=c;null==k&&(k=c);null==h&&(h=!0);q=e(w=k)?k.$attributes():w;this.$process_attribute_entries(d,k);e(e(w=d["$has_more_lines?"]())?d["$next_line_empty?"]()["$!"]():
w)?(t=(v=this.$process_authors(d.$read_line())).$delete("authorcount"),e(e(w=k)?l((A=["authorcount",t],n(q,"[]=",a.to_a(A)),A[b(A.length,1)]),0):w)&&(n(v,"each",[],(m=function(d,f){null==d&&(d=c);null==f&&(f=c);if(e(q["$key?"](d)))return c;A=[d,k.$apply_header_subs(f)];n(q,"[]=",a.to_a(A));return A[b(A.length,1)]},m.$$s=this,m.$$arity=2,m)),H=q["$[]"]("author"),D=q["$[]"]("authorinitials"),y=q["$[]"]("authors")),A=["authorcount",t],n(v,"[]=",a.to_a(A)),A[b(A.length,1)],this.$process_attribute_entries(d,
k),e(e(w=d["$has_more_lines?"]())?d["$next_line_empty?"]()["$!"]():w)&&(z=d.$read_line(),e(I=p(x,"RevisionInfoLineRx").$match(z))?(B=f([],{}),e(I["$[]"](1))&&(A=["revnumber",I["$[]"](1).$rstrip()],n(B,"[]=",a.to_a(A)),A[b(A.length,1)]),e((z=I["$[]"](2).$strip())["$empty?"]())||(A=e(e(w=I["$[]"](1)["$!"]())?z["$start_with?"]("v"):w)?["revnumber",z.$slice(1,z.$length())]:["revdate",z],n(B,"[]=",a.to_a(A)),A[b(A.length,1)]),e(I["$[]"](3))&&(A=["revremark",I["$[]"](3).$rstrip()],n(B,"[]=",a.to_a(A)),
A[b(A.length,1)]),e(e(w=k)?B["$empty?"]()["$!"]():w)&&n(B,"each",[],(r=function(d,f){null==d&&(d=c);null==f&&(f=c);if(e(q["$key?"](d)))return c;A=[d,k.$apply_header_subs(f)];n(q,"[]=",a.to_a(A));return A[b(A.length,1)]},r.$$s=this,r.$$arity=2,r))):d.$unshift_line(z)),this.$process_attribute_entries(d,k),d.$skip_blank_lines()):v=f([],{});if(e(k)){if(e(e(w=q["$key?"]("author"))?(C=q["$[]"]("author"))["$!="](H):w))T=this.$process_authors(C,!0,!1),e(q["$[]"]("authorinitials")["$!="](D))&&T.$delete("authorinitials");
else if(e(e(w=q["$key?"]("authors"))?(C=q["$[]"]("authors"))["$!="](y):w))T=this.$process_authors(C,!0);else{w=[[],1,"author_1",!1,!1];S=w[0];I=w[1];z=w[2];K=w[3];E=w[4];for(w;e(q["$key?"](z));)(F=q["$[]"](z))["$=="](v["$[]"](z))?(S["$<<"](c),E=!0):(S["$<<"](F),K=!0),z="author_"+(I=g(I,1));e(K)?(e(E)&&n(S,"each_with_index",[],(u=function(d,f){var k=u.$$s||this,w,h=c;null==d&&(d=c);null==f&&(f=c);if(e(d))return c;A=[f,n([v["$[]"]("firstname_"+(h=g(f,1))),v["$[]"]("middlename_"+h),v["$[]"]("lastname_"+
h)].$compact(),"map",[],(w=function(a){null==a&&(a=c);return a.$tr(" ","_")},w.$$s=k,w.$$arity=1,w)).$join(" ")];n(S,"[]=",a.to_a(A));return A[b(A.length,1)]},u.$$s=this,u.$$arity=2,u)),T=this.$process_authors(S,!0,!1)):T=f(["authorcount"],{authorcount:0})}T["$[]"]("authorcount")["$=="](0)?e(t)?T=c:(A=["authorcount",0],n(q,"[]=",a.to_a(A)),A[b(A.length,1)]):(q.$update(T),e(e(w=q["$key?"]("email")["$!"]())?q["$key?"]("email_1"):w)&&(A=["email",q["$[]"]("email_1")],n(q,"[]=",a.to_a(A)),A[b(A.length,
1)]))}return e(h)?v.$merge(B.$to_h(),T.$to_h()):c},pa.$$arity=-2);a.defs(d,"$process_authors",wa=function(d,k,h){var w,l,m=c,r=c,u=c;null==k&&(k=!1);null==h&&(h=!0);m=f([],{});r=0;n(e(e(w=h)?d["$include?"](";"):w)?d.$split(p(x,"AuthorDelimiterRx")):[].concat(a.to_a(d)),"each",[],(l=function(d){var w=l.$$s||this,h,u,q,t,v=c,A=c,H=c,D=c,y=c,L=c,z=c,I=c;null==d&&(d=c);if(e(d["$empty?"]()))return c;v=f([],{});(r=g(r,1))["$=="](1)?n(p(x,"AuthorKeys"),"each",[],(h=function(e){null==e&&(e=c);e=[e.$to_sym(),
e];n(v,"[]=",a.to_a(e));return e[b(e.length,1)]},h.$$s=w,h.$$arity=1,h)):n(p(x,"AuthorKeys"),"each",[],(u=function(e){null==e&&(e=c);e=[e.$to_sym(),""+e+"_"+r];n(v,"[]=",a.to_a(e));return e[b(e.length,1)]},u.$$s=w,u.$$arity=1,u));if(e(k)){if(e(d["$include?"]("<"))&&(A=[v["$[]"]("author"),d.$tr("_"," ")],n(m,"[]=",a.to_a(A)),A[b(A.length,1)],d=d.$gsub(p(x,"XmlSanitizeRx"),"")),(H=d.$split(c,3)).$size()["$=="](3))H["$<<"](H.$pop().$squeeze(" "))}else e(D=p(x,"AuthorInfoLineRx").$match(d))&&(H=D.$to_a()).$shift();
e(H)?(y=(A=[v["$[]"]("firstname"),L=H["$[]"](0).$tr("_"," ")],n(m,"[]=",a.to_a(A)),A[b(A.length,1)]),A=[v["$[]"]("authorinitials"),L.$chr()],n(m,"[]=",a.to_a(A)),A[b(A.length,1)],e(H["$[]"](1))&&(e(H["$[]"](2))?(A=[v["$[]"]("middlename"),z=H["$[]"](1).$tr("_"," ")],n(m,"[]=",a.to_a(A)),A[b(A.length,1)],A=[v["$[]"]("lastname"),I=H["$[]"](2).$tr("_"," ")],n(m,"[]=",a.to_a(A)),A[b(A.length,1)],y=g(g(g(g(L," "),z)," "),I),A=[v["$[]"]("authorinitials"),""+L.$chr()+z.$chr()+I.$chr()]):(A=[v["$[]"]("lastname"),
I=H["$[]"](1).$tr("_"," ")],n(m,"[]=",a.to_a(A)),A[b(A.length,1)],y=g(g(L," "),I),A=[v["$[]"]("authorinitials"),""+L.$chr()+I.$chr()]),n(m,"[]=",a.to_a(A)),A[b(A.length,1)]),e(q=m["$[]"](v["$[]"]("author")))?q:(A=[v["$[]"]("author"),y],n(m,"[]=",a.to_a(A)),A[b(A.length,1)]),e(e(q=k)?q:H["$[]"](3)["$!"]())||(A=[v["$[]"]("email"),H["$[]"](3)],n(m,"[]=",a.to_a(A)),A[b(A.length,1)])):(A=[v["$[]"]("author"),(A=[v["$[]"]("firstname"),L=d.$squeeze(" ").$strip()],n(m,"[]=",a.to_a(A)),A[b(A.length,1)])],n(m,
"[]=",a.to_a(A)),A[b(A.length,1)],A=[v["$[]"]("authorinitials"),L.$chr()],n(m,"[]=",a.to_a(A)),A[b(A.length,1)]);r["$=="](1)?A=["authors",m["$[]"](v["$[]"]("author"))]:(r["$=="](2)&&n(p(x,"AuthorKeys"),"each",[],(t=function(d){null==d&&(d=c);return e(m["$key?"](d))?(A=[""+d+"_1",m["$[]"](d)],n(m,"[]=",a.to_a(A)),A[b(A.length,1)]):c},t.$$s=w,t.$$arity=1,t)),A=["authors",""+m["$[]"]("authors")+", "+m["$[]"](v["$[]"]("author"))]);n(m,"[]=",a.to_a(A));return A[b(A.length,1)]},l.$$s=this,l.$$arity=1,l));
u=["authorcount",r];n(m,"[]=",a.to_a(u));u[b(u.length,1)];return m},wa.$$arity=-2);a.defs(d,"$parse_block_metadata_lines",Ea=function(a,b,c,d){var g;null==c&&(c=f([],{}));for(null==d&&(d=f([],{}));e(this.$parse_block_metadata_line(a,b,c,d));)if(a.$shift(),e(g=a.$skip_blank_lines()))g;else break;return c},Ea.$$arity=-3);a.defs(d,"$parse_block_metadata_line",ra=function(d,g,k,h){var w,l,m=c,r=c,u=c;null==v["~"]&&(v["~"]=c);null==h&&(h=f([],{}));if(e(e(w=m=d.$peek_line())?e(h["$[]"]("text_only"))?m["$start_with?"]("[",
"/"):r=m["$start_with?"]("[",".","/",":"):w))if(e(m["$start_with?"]("[")))if(e(m["$start_with?"]("[["))){if(e(e(w=m["$end_with?"]("]]"))?p(x,"BlockAnchorRx")["$=~"](m):w))return d=["id",(w=v["~"])===c?c:w["$[]"](1)],n(k,"[]=",a.to_a(d)),d[b(d.length,1)],e(d=(w=v["~"])===c?c:w["$[]"](2))&&(d=["reftext",e(d["$include?"](p(x,"ATTR_REF_HEAD")))?g.$sub_attributes(d):d],n(k,"[]=",a.to_a(d)),d[b(d.length,1)]),!0}else{if(e(e(w=m["$end_with?"]("]"))?p(x,"BlockAttributeListRx")["$=~"](m):w))return h=k["$[]"](1),
e(g.$parse_attributes((w=v["~"])===c?c:w["$[]"](1),[],f(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,into:k}))["$[]"](1))&&(d=[1,e(w=this.$parse_style_attribute(k,d))?w:h],n(k,"[]=",a.to_a(d)),d[b(d.length,1)]),!0}else if(e(e(w=r)?m["$start_with?"]("."):w)){if(e(p(x,"BlockTitleRx")["$=~"](m)))return d=["title",(w=v["~"])===c?c:w["$[]"](1)],n(k,"[]=",a.to_a(d)),d[b(d.length,1)],!0}else if(e(e(w=r["$!"]())?w:m["$start_with?"]("/"))){if(e(m["$start_with?"]("//"))){if(m["$=="]("//"))return!0;
if(e(e(w=r)?this["$uniform?"](m,"/",u=m.$length()):w)){if(!u["$=="](3))return d.$read_lines_until(f(["terminator","skip_first_line","preserve_last_line","skip_processing","context"],{terminator:m,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"})),!0}else if(!e(m["$start_with?"]("///")))return!0}}else if(e(e(w=e(l=r)?m["$start_with?"](":"):l)?p(x,"AttributeEntryRx")["$=~"](m):w))return this.$process_attribute_entry(d,g,k,v["~"]),!0;return c},ra.$$arity=-4);a.defs(d,"$process_attribute_entries",
aa=function(a,b,d){null==d&&(d=c);for(a.$skip_comment_lines();e(this.$process_attribute_entry(a,b,d));)a.$shift(),a.$skip_comment_lines()},aa.$$arity=-3);a.defs(d,"$process_attribute_entry",ca=function(a,d,f,g){var k,w,n,h,l=c;null==f&&(f=c);null==g&&(g=c);if(e(e(k=g)?k:g=e(a["$has_more_lines?"]())?p(x,"AttributeEntryRx").$match(a.$peek_line()):c)){if(e((h=g["$[]"](2))["$nil_or_empty?"]()))h="";else if(e(h["$end_with?"](p(x,"LINE_CONTINUATION"),p(x,"LINE_CONTINUATION_LEGACY")))){k=[h.$slice(b(h.$length(),
2),2),h.$slice(0,b(h.$length(),2)).$rstrip()];var m=k[0];h=k[1];for(k;e(e(w=a.$advance())?(l=e(n=a.$peek_line())?n:"")["$empty?"]()["$!"]():w)&&(l=l.$lstrip(),e(k=l["$end_with?"](m))&&(l=l.$slice(0,b(l.$length(),2)).$rstrip()),h=""+h+(e(h["$end_with?"](p(x,"HARD_LINE_BREAK")))?p(x,"LF"):" ")+l,e(k)););}this.$store_attribute(g["$[]"](1),h,d,f);return!0}return c},ca.$$arity=-3);a.defs(d,"$store_attribute",Fa=function(a,d,f,k){var w;null==f&&(f=c);null==k&&(k=c);e(a["$end_with?"]("!"))?(a=a.$chop(),
d=c):e(a["$start_with?"]("!"))&&(a=a.$slice(1,a.$length()),d=c);(a=this.$sanitize_attribute_name(a))["$=="]("numbered")?a="sectnums":a["$=="]("hardbreaks")?a="hardbreaks-option":a["$=="]("showtitle")&&this.$store_attribute("notitle",e(d)?c:"",f,k);e(f)?e(d)?(a["$=="]("leveloffset")&&(e(d["$start_with?"]("+"))?d=g(f.$attr("leveloffset",0).$to_i(),d.$slice(1,d.$length()).$to_i()).$to_s():e(d["$start_with?"]("-"))&&(d=b(f.$attr("leveloffset",0).$to_i(),d.$slice(1,d.$length()).$to_i()).$to_s())),e(f=
f.$set_attribute(a,d))&&(d=f,e(k)&&q(p(x,"Document"),"AttributeEntry").$new(a,d).$save_to(k))):e(e(w=f.$delete_attribute(a))?k:w)&&q(p(x,"Document"),"AttributeEntry").$new(a,d).$save_to(k):e(k)&&q(p(x,"Document"),"AttributeEntry").$new(a,d).$save_to(k);return[a,d]},Fa.$$arity=-3);a.defs(d,"$resolve_list_marker",Ra=function(a,b,e,d,f){null==e&&(e=0);null==d&&(d=!1);null==f&&(f=c);return"ulist"["$==="](a)?b:"olist"["$==="](a)?this.$resolve_ordered_list_marker(b,e,d,f)["$[]"](0):"<1>"},Ra.$$arity=-3);
a.defs(d,"$resolve_ordered_list_marker",Na=function(a,b,d,k){var w,h,l=c,m=c,r=c,u=c;null==b&&(b=0);null==d&&(d=!1);null==k&&(k=c);if(e(a["$start_with?"](".")))return[a];l=m=n(p(x,"ORDERED_LIST_STYLES"),"find",[],(w=function(b){null==b&&(b=c);return p(x,"OrderedListMarkerRxMap")["$[]"](b)["$match?"](a)},w.$$s=this,w.$$arity=1,w));"arabic"["$==="](l)?(e(d)&&(r=g(b,1),u=a.$to_i()),a="1."):"loweralpha"["$==="](l)?(e(d)&&(r=g("a"["$[]"](0).$ord(),b).$chr(),u=a.$chop()),a="a."):"upperalpha"["$==="](l)?
(e(d)&&(r=g("A"["$[]"](0).$ord(),b).$chr(),u=a.$chop()),a="A."):"lowerroman"["$==="](l)?(e(d)&&(r=p(x,"Helpers").$int_to_roman(g(b,1)).$downcase(),u=a.$chop()),a="i)"):"upperroman"["$==="](l)&&(e(d)&&(r=p(x,"Helpers").$int_to_roman(g(b,1)),u=a.$chop()),a="I)");e(e(h=d)?r["$!="](u):h)&&this.$logger().$warn(this.$message_with_context("list item index: expected "+r+", got "+u,f(["source_location"],{source_location:k.$cursor()})));return[a,m]},Na.$$arity=-2);a.defs(d,"$is_sibling_list_item?",Sa=function(a,
b,d){var f,g;return e(q("::","Regexp")["$==="](d))?d["$match?"](a):e(f=p(x,"ListRxMap")["$[]"](b)["$=~"](a))?d["$=="](this.$resolve_list_marker(b,(g=v["~"])===c?c:g["$[]"](1))):f},Sa.$$arity=3);a.defs(d,"$parse_table",Ga=function(d,f,k){var w,h,m,r=c,u=c,t=m=c,v=c,A,H=c,D=c;f=p(x,"Table").$new(f,k);e(e(w=k["$key?"]("cols"))?(r=this.$parse_colspecs(k["$[]"]("cols")))["$empty?"]()["$!"]():w)&&(f.$create_columns(r),u=!0);r=e(w=d.$skip_blank_lines())?w:0;e(k["$[]"]("header-option"))?(m=[!0],n(f,"has_header_option=",
a.to_a(m)),m[b(m.length,1)]):e(r["$=="](0)?k["$[]"]("noheader-option")["$!"]():r["$=="](0))&&(m=["implicit"],n(f,"has_header_option=",a.to_a(m)),m[b(m.length,1)],t=!0);r=q(p(x,"Table"),"ParserContext").$new(d,f,k);w=[r.$format(),-1,c];var y=w[0];var z=w[1];var I=w[2];w;for(w=!1;w||e(v=d.$read_line());){w=!1;if(e(e(h=A=l(z=g(z,1),0))?v["$empty?"]():h))v=c,e(I)&&(I=g(I,1));else if(y["$=="]("psv"))if(e(r["$starts_with_delimiter?"](v)))v=v.$slice(1,v.$length()),r.$close_open_cell(),e(I)&&(I=c);else{var B=
this.$parse_cellspec(v,"start",r.$delimiter());h=a.to_ary(B);var C=null==h[0]?c:h[0];v=null==h[1]?c:h[1];B;e(C)?(r.$close_open_cell(C),e(I)&&(I=c)):e(e(h=I)?I["$=="](z):h)&&(m=[t=I=c],n(f,"has_header_option=",a.to_a(m)),m[b(m.length,1)])}e(A)||(d.$mark(),e(t)&&(e(e(h=d["$has_more_lines?"]())?d.$peek_line()["$empty?"]():h)?I=1:(m=[t=c],n(f,"has_header_option=",a.to_a(m)),m[b(m.length,1)])));for(h=!1;h||e(!0);)if(h=!1,e(e(B=v)?H=r.$match_delimiter(v):B)){B=[H.$pre_match(),H.$post_match()];A=B[0];v=
B[1];B;C=y;if("csv"["$==="](C)){if(e(r["$buffer_has_unclosed_quotes?"](A))){r.$skip_past_delimiter(A);if(e(v["$empty?"]()))break;h=!0;continue}m=[""+r.$buffer()+A]}else if("dsv"["$==="](C)){if(e(A["$end_with?"]("\\"))){r.$skip_past_escaped_delimiter(A);if(e(v["$empty?"]())){m=[""+r.$buffer()+p(x,"LF")];n(r,"buffer=",a.to_a(m));m[b(m.length,1)];r.$keep_cell_open();break}h=!0;continue}m=[""+r.$buffer()+A]}else{if(e(A["$end_with?"]("\\"))){r.$skip_past_escaped_delimiter(A);if(e(v["$empty?"]())){m=[""+
r.$buffer()+p(x,"LF")];n(r,"buffer=",a.to_a(m));m[b(m.length,1)];r.$keep_cell_open();break}h=!0;continue}m=this.$parse_cellspec(A);B=a.to_ary(m);C=null==B[0]?c:B[0];A=null==B[1]?c:B[1];m;r.$push_cellspec(C);m=[""+r.$buffer()+A]}n(r,"buffer=",a.to_a(m));m[b(m.length,1)];e(v["$empty?"]())&&(v=c);r.$close_cell()}else{m=[""+r.$buffer()+v+p(x,"LF")];n(r,"buffer=",a.to_a(m));m[b(m.length,1)];C=y;"csv"["$==="](C)?e(r["$buffer_has_unclosed_quotes?"]())?(e(e(B=I)?z["$=="](0):B)&&(m=[t=I=c],n(f,"has_header_option=",
a.to_a(m)),m[b(m.length,1)]),r.$keep_cell_open()):r.$close_cell(!0):"dsv"["$==="](C)?r.$close_cell(!0):r.$keep_cell_open();break}if(e(r["$cell_open?"]()))e(d["$has_more_lines?"]())||r.$close_cell(!0);else if(e(h=d.$skip_blank_lines()))h;else break}r.$close_table();e(e(w=(D=f.$attributes(),e(h=D["$[]"]("colcount"))?h:(m=["colcount",f.$columns().$size()],n(D,"[]=",a.to_a(m)),m[b(m.length,1)]))["$=="](0))?w:u)||f.$assign_column_widths();e(t)&&(m=[!0],n(f,"has_header_option=",a.to_a(m)),m[b(m.length,
1)]);f.$partition_header_footer(k);return f},Ga.$$arity=3);a.defs(d,"$parse_colspecs",Ka=function(d){var g,k,h=c;e(d["$include?"](" "))&&(d=d.$delete(" "));if(d["$=="](d.$to_i().$to_s()))return n(q("::","Array"),"new",[d.$to_i()],(g=function(){return f(["width"],{width:1})},g.$$s=this,g.$$arity=0,g));h=[];n(e(d["$include?"](","))?d.$split(",",-1):d.$split(";",-1),"each",[],(k=function(d){var g=k.$$s||this,w,l=c,m=c,r=c,u=c,q=r=c;null==d&&(d=c);if(e(d["$empty?"]()))return h["$<<"](f(["width"],{width:1}));
if(e(l=p(x,"ColumnSpecRx").$match(d))){m=f([],{});if(e(l["$[]"](2))){d=l["$[]"](2).$split(".");var t=a.to_ary(d);r=null==t[0]?c:t[0];u=null==t[1]?c:t[1];d;e(e(t=r["$nil_or_empty?"]()["$!"]())?p(x,"TableCellHorzAlignments")["$key?"](r):t)&&(r=["halign",p(x,"TableCellHorzAlignments")["$[]"](r)],n(m,"[]=",a.to_a(r)),r[b(r.length,1)]);e(e(t=u["$nil_or_empty?"]()["$!"]())?p(x,"TableCellVertAlignments")["$key?"](u):t)&&(r=["valign",p(x,"TableCellVertAlignments")["$[]"](u)],n(m,"[]=",a.to_a(r)),r[b(r.length,
1)])}r=e(q=l["$[]"](3))?["width",q["$=="]("~")?-1:q.$to_i()]:["width",1];n(m,"[]=",a.to_a(r));r[b(r.length,1)];e(e(t=l["$[]"](4))?p(x,"TableCellStyles")["$key?"](l["$[]"](4)):t)&&(r=["style",p(x,"TableCellStyles")["$[]"](l["$[]"](4))],n(m,"[]=",a.to_a(r)),r[b(r.length,1)]);return e(l["$[]"](1))?n(1,"upto",[l["$[]"](1).$to_i()],(w=function(){return h["$<<"](m.$merge())},w.$$s=g,w.$$arity=0,w)):h["$<<"](m)}return c},k.$$s=this,k.$$arity=1,k));return h},Ka.$$arity=1);a.defs(d,"$parse_cellspec",$a=function(d,
g,k){null==g&&(g="end");null==k&&(k=c);var w=[c,""];w;if(g["$=="]("start"))if(e(d["$include?"](k))){var h=d.$partition(k);w=a.to_ary(h);k=null==w[0]?c:w[0];g=null==w[2]?c:w[2];h;if(e(k=p(x,"CellSpecStartRx").$match(k))){if(e(k["$[]"](0)["$empty?"]()))return[f([],{}),g]}else return[c,d]}else return[c,d];else if(e(k=p(x,"CellSpecEndRx").$match(d))){if(e(k["$[]"](0).$lstrip()["$empty?"]()))return[f([],{}),d.$rstrip()];g=k.$pre_match()}else return[f([],{}),d];d=f([],{});if(e(k["$[]"](1))){h=k["$[]"](1).$split(".");
w=a.to_ary(h);var l=null==w[0]?c:w[0];var m=null==w[1]?c:w[1];h;l=e(l["$nil_or_empty?"]())?1:l.$to_i();m=e(m["$nil_or_empty?"]())?1:m.$to_i();h=k["$[]"](2);"+"["$==="](h)?(l["$=="](1)||(h=["colspan",l],n(d,"[]=",a.to_a(h)),h[b(h.length,1)]),m["$=="](1)||(h=["rowspan",m],n(d,"[]=",a.to_a(h)),h[b(h.length,1)])):"*"["$==="](h)&&!l["$=="](1)&&(h=["repeatcol",l],n(d,"[]=",a.to_a(h)),h[b(h.length,1)])}e(k["$[]"](3))&&(h=k["$[]"](3).$split("."),w=a.to_ary(h),l=null==w[0]?c:w[0],m=null==w[1]?c:w[1],h,e(e(w=
l["$nil_or_empty?"]()["$!"]())?p(x,"TableCellHorzAlignments")["$key?"](l):w)&&(h=["halign",p(x,"TableCellHorzAlignments")["$[]"](l)],n(d,"[]=",a.to_a(h)),h[b(h.length,1)]),e(e(w=m["$nil_or_empty?"]()["$!"]())?p(x,"TableCellVertAlignments")["$key?"](m):w)&&(h=["valign",p(x,"TableCellVertAlignments")["$[]"](m)],n(d,"[]=",a.to_a(h)),h[b(h.length,1)]));e(e(w=k["$[]"](4))?p(x,"TableCellStyles")["$key?"](k["$[]"](4)):w)&&(h=["style",p(x,"TableCellStyles")["$[]"](k["$[]"](4))],n(d,"[]=",a.to_a(h)),h[b(h.length,
1)]);return[d,g]},$a.$$arity=-2);a.defs(d,"$parse_style_attribute",Pa=function(d,k){var w,h,l,m,r=c,u=c,q=c,t=c,v=c,A=c,D=c;null==k&&(k=c);if(e(e(w=e(h=r=d["$[]"](1))?r["$include?"](" ")["$!"]():h)?p(x,"Compliance").$shorthand_property_syntax():w)){u=c;q="";t=f([],{});n(r,"each_char",[],(l=function(a){var b=l.$$s||this,e=c;null==a&&(a=c);return function(){e=a;return"."["$==="](e)?(b.$yield_buffered_attribute(t,u,q,k),q="",u="role"):"#"["$==="](e)?(b.$yield_buffered_attribute(t,u,q,k),q="",u="id"):
"%"["$==="](e)?(b.$yield_buffered_attribute(t,u,q,k),q="",u="option"):q=g(q,a)}()},l.$$s=this,l.$$arity=1,l));if(e(u))return this.$yield_buffered_attribute(t,u,q,k),e(v=t["$[]"]("style"))&&(A=["style",v],n(d,"[]=",a.to_a(A)),A[b(A.length,1)]),e(t["$key?"]("id"))&&(A=["id",t["$[]"]("id")],n(d,"[]=",a.to_a(A)),A[b(A.length,1)]),e(t["$key?"]("role"))&&(A=["role",e((D=d["$[]"]("role"))["$nil_or_empty?"]())?t["$[]"]("role").$join(" "):""+D+" "+t["$[]"]("role").$join(" ")],n(d,"[]=",a.to_a(A)),A[b(A.length,
1)]),e(t["$key?"]("option"))&&n(t["$[]"]("option"),"each",[],(m=function(e){null==e&&(e=c);A=[""+e+"-option",""];n(d,"[]=",a.to_a(A));return A[b(A.length,1)]},m.$$s=this,m.$$arity=1,m)),v;A=["style",r];n(d,"[]=",a.to_a(A));return A[b(A.length,1)]}A=["style",r];n(d,"[]=",a.to_a(A));return A[b(A.length,1)]},Pa.$$arity=-2);a.defs(d,"$yield_buffered_attribute",Wa=function(d,g,k,h){var w,l=c;if(e(g))if(e(k["$empty?"]()))e(h)?this.$logger().$warn(this.$message_with_context("invalid empty "+g+" detected in style attribute",
f(["source_location"],{source_location:h.$cursor_at_prev_line()}))):this.$logger().$warn("invalid empty "+g+" detected in style attribute");else if(g["$=="]("id"))e(d["$key?"]("id"))&&(e(h)?this.$logger().$warn(this.$message_with_context("multiple ids detected in style attribute",f(["source_location"],{source_location:h.$cursor_at_prev_line()}))):this.$logger().$warn("multiple ids detected in style attribute")),l=[g,k],n(d,"[]=",a.to_a(l)),l[b(l.length,1)];else(e(w=d["$[]"](g))?w:(l=[g,[]],n(d,"[]=",
a.to_a(l)),l[b(l.length,1)]))["$<<"](k);else e(k["$empty?"]())||(l=["style",k],n(d,"[]=",a.to_a(l)),l[b(l.length,1)]);return c},Wa.$$arity=4);a.defs(d,"$adjust_indentation!",Xa=function(d,f,k){var w,m,u,q,t,A,v,D=this,H=c,y=c,z=c;null==f&&(f=0);null==k&&(k=0);if(e(d["$empty?"]()))return c;e(e(w=l(k,0))?n(d,"any?",[],(m=function(a){null==a&&(a=c);return a["$include?"](p(x,"TAB"))},m.$$s=D,m.$$arity=1,m)):w)&&(H=r(" ",k),function(){var f=a.new_brk();try{return n(d,"map!",[],(u=function(d){var f=u.$$s||
this,w,h,l,m=c,q=c,t=c,A=c,v=c;null==d&&(d=c);if(e(e(w=d["$empty?"]())?w:(m=d.$index(p(x,"TAB")))["$nil?"]())||m["$=="](0)&&(q=0,function(){var b=a.new_brk();try{return n(d,"each_byte",[],(h=function(e){null==e&&(e=c);e["$=="](9)||a.brk(c,b);return q=g(q,1)},h.$$s=f,h.$$brk=b,h.$$arity=1,h))}catch(hb){if(hb===b)return hb.$v;throw hb;}}(),d=""+r(H,q)+d.$slice(q,d.$length()),!e(d["$include?"](p(x,"TAB")))))return d;A=t=0;v="";n(d,"each_char",[],(l=function(a){var e;null==a&&(a=c);a["$=="](p(x,"TAB"))?
(a=g(A,t))["$%"](k)["$=="](0)?(t=g(t,b(k,1)),v=g(v,H)):((e=b(k,a["$%"](k)))["$=="](1)||(t=g(t,b(e,1))),v=g(v,r(" ",e))):v=g(v,a);return A=g(A,1)},l.$$s=f,l.$$arity=1,l));return v},u.$$s=D,u.$$brk=f,u.$$arity=1,u))}catch(La){if(La===f)return La.$v;throw La;}}());if(e(h(f,0)))return c;y=c;(function(){var f=a.new_brk();try{return n(d,"each",[],(q=function(d){var g;null==d&&(d=c);if(e(d["$empty?"]()))return c;(d=b(d.$length(),d.$lstrip().$length()))["$=="](0)&&(y=c,a.brk(c,f));return e(e(g=y)?h(y,d):
g)?c:y=d},q.$$s=D,q.$$brk=f,q.$$arity=1,q))}catch(La){if(La===f)return La.$v;throw La;}})();f["$=="](0)?e(y)&&n(d,"map!",[],(t=function(a){null==a&&(a=c);return e(a["$empty?"]())?a:a.$slice(y,a.$length())},t.$$s=D,t.$$arity=1,t)):(z=r(" ",f),e(y)?n(d,"map!",[],(A=function(a){null==a&&(a=c);return e(a["$empty?"]())?a:g(z,a.$slice(y,a.$length()))},A.$$s=D,A.$$arity=1,A)):n(d,"map!",[],(v=function(a){null==a&&(a=c);return e(a["$empty?"]())?a:g(z,a)},v.$$s=D,v.$$arity=1,v)));return c},Xa.$$arity=-2);
a.defs(d,"$uniform?",ab=function(a,b,c){return a.$count(b)["$=="](c)},ab.$$arity=3);return(a.defs(d,"$sanitize_attribute_name",Ya=function(a){return a.$gsub(p(x,"InvalidAttributeNameCharsRx"),"").$downcase()},Ya.$$arity=1),c)&&"sanitize_attribute_name"})(d[0],null,d)}(k[0],k)};Opal.modules["asciidoctor/path_resolver"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var g=[],h=a.nil,l=a.const_get_qualified,m=a.const_get_relative,k=a.module,c=a.klass,q=a.truthy,
p=a.hash2,t=a.send,v=a.gvars;a.add_stubs("$include $attr_accessor $root? $posixify $expand_path $pwd $start_with? $== $match? $absolute_path? $+ $length $descends_from? $slice $to_s $relative_path_from $new $include? $tr $partition_path $each $pop $<< $join_path $[] $web_root? $unc? $index $split $delete $[]= $- $join $raise $! $fetch $warn $logger $empty? $nil_or_empty? $chomp $!= $> $size $extract_uri_prefix $end_with? $gsub $private $=~".split(" "));return function(d,e){d=[k(d,"Asciidoctor")].concat(e);
(function(e,$super,d){e=c(e,$super,"PathResolver");var f=[e].concat(d),g,k,n,r,u,A,D,y,z,I,B,C,E,K,F;e.$$prototype.file_separator=e.$$prototype._partition_path_web=e.$$prototype._partition_path_sys=e.$$prototype.working_dir=h;e.$include(m(f,"Logging"));a.const_set(f[0],"DOT",".");a.const_set(f[0],"DOT_DOT","..");a.const_set(f[0],"DOT_SLASH","./");a.const_set(f[0],"SLASH","/");a.const_set(f[0],"BACKSLASH","\\");a.const_set(f[0],"DOUBLE_SLASH","//");a.const_set(f[0],"URI_CLASSLOADER","uri:classloader:");
a.const_set(f[0],"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/);e.$attr_accessor("file_separator");e.$attr_accessor("working_dir");a.def(e,"$initialize",g=function(a,b){var c,e;null==a&&(a=h);null==b&&(b=h);this.file_separator=q(c=q(e=a)?e:l(l("::","File"),"ALT_SEPARATOR"))?c:l(l("::","File"),"SEPARATOR");this.working_dir=q(b)?q(this["$root?"](b))?this.$posixify(b):l("::","File").$expand_path(b):l("::","Dir").$pwd();this._partition_path_sys=p([],{});return this._partition_path_web=p([],{})},g.$$arity=-1);
a.def(e,"$absolute_path?",k=function(a){var b;return q(b=a["$start_with?"](m(f,"SLASH")))?b:this.file_separator["$=="](m(f,"BACKSLASH"))?m(f,"WindowsRootRx")["$match?"](a):this.file_separator["$=="](m(f,"BACKSLASH"))},k.$$arity=1);q(m(f,"RUBY_ENGINE")["$=="]("opal")?l("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):m(f,"RUBY_ENGINE")["$=="]("opal"))?a.def(e,"$root?",n=function(a){var b;return q(b=this["$absolute_path?"](a))?b:a["$start_with?"]("file://","http://","https://")},n.$$arity=1):l("::",
"RUBY_ENGINE")["$=="]("jruby")?a.def(e,"$root?",r=function(a){var b;return q(b=this["$absolute_path?"](a))?b:a["$start_with?"](m(f,"URI_CLASSLOADER"))},r.$$arity=1):a.alias(e,"root?","absolute_path?");a.def(e,"$unc?",u=function(a){return a["$start_with?"](m(f,"DOUBLE_SLASH"))},u.$$arity=1);a.def(e,"$web_root?",A=function(a){return a["$start_with?"](m(f,"SLASH"))},A.$$arity=1);a.def(e,"$descends_from?",D=function(a,c){var e;return c["$=="](a)?0:c["$=="](m(f,"SLASH"))?q(e=a["$start_with?"](m(f,"SLASH")))?
1:e:q(e=a["$start_with?"](b(c,m(f,"SLASH"))))?b(c.$length(),1):e},D.$$arity=2);a.def(e,"$relative_path",y=function(b,c){var e;if(q(this["$root?"](b))){if(q(e=this["$descends_from?"](b,c)))return b.$slice(e,b.$length());try{return m(f,"Pathname").$new(b).$relative_path_from(m(f,"Pathname").$new(c)).$to_s()}catch(ja){if(a.rescue(ja,[m(f,"StandardError")]))try{return b}finally{a.pop_exception()}else throw ja;}}else return b},y.$$arity=2);a.def(e,"$posixify",z=function(a){return q(a)?q(this.file_separator["$=="](m(f,
"BACKSLASH"))?a["$include?"](m(f,"BACKSLASH")):this.file_separator["$=="](m(f,"BACKSLASH")))?a.$tr(m(f,"BACKSLASH"),m(f,"SLASH")):a:""},z.$$arity=1);a.alias(e,"posixfy","posixify");a.def(e,"$expand_path",I=function(b){var c,e,d=h,g=c=h;var k=this.$partition_path(b);c=a.to_ary(k);d=null==c[0]?h:c[0];c=null==c[1]?h:c[1];k;return q(b["$include?"](m(f,"DOT_DOT")))?(g=[],t(d,"each",[],(e=function(a){null==a&&(a=h);return a["$=="](m(f,"DOT_DOT"))?g.$pop():g["$<<"](a)},e.$$s=this,e.$$arity=1,e)),this.$join_path(g,
c)):this.$join_path(d,c)},I.$$arity=1);a.def(e,"$partition_path",B=function(c,e){var d,g,k=h;null==e&&(e=h);if(q(d=(g=q(e)?this._partition_path_web:this._partition_path_sys)["$[]"](c)))return d;d=this.$posixify(c);q(e)?q(this["$web_root?"](d))?k=m(f,"SLASH"):q(d["$start_with?"](m(f,"DOT_SLASH")))&&(k=m(f,"DOT_SLASH")):q(this["$root?"](d))?k=q(this["$unc?"](d))?m(f,"DOUBLE_SLASH"):q(d["$start_with?"](m(f,"SLASH")))?m(f,"SLASH"):q(d["$start_with?"](m(f,"URI_CLASSLOADER")))?d.$slice(0,m(f,"URI_CLASSLOADER").$length()):
d.$slice(0,b(d.$index(m(f,"SLASH")),1)):q(d["$start_with?"](m(f,"DOT_SLASH")))&&(k=m(f,"DOT_SLASH"));e=(q(k)?d.$slice(k.$length(),d.$length()):d).$split(m(f,"SLASH"));e.$delete(m(f,"DOT"));c=[c,[e,k]];t(g,"[]=",a.to_a(c));g=c.length;g="number"===typeof g?g-1:g["$-"](1);return c[g]},B.$$arity=-2);a.def(e,"$join_path",C=function(a,b){null==b&&(b=h);return q(b)?""+b+a.$join(m(f,"SLASH")):a.$join(m(f,"SLASH"))},C.$$arity=-2);a.def(e,"$system_path",E=function(c,e,d,g){var k,n,r,u=h,x=h,v=h,A=h,M=u=h,D=
h,y=h,z=M=h;null==e&&(e=h);null==d&&(d=h);null==g&&(g=p([],{}));q(d)&&(q(this["$root?"](d))||this.$raise(l("::","SecurityError"),"Jail is not an absolute path: "+d),d=this.$posixify(d));if(q(c)){if(q(this["$root?"](c))){u=this.$expand_path(c);if(q(q(k=d)?this["$descends_from?"](u,d)["$!"]():k)){if(q(g.$fetch("recover",!0))){this.$logger().$warn(""+(q(k=g["$[]"]("target_name"))?k:"path")+" is outside of jail; recovering automatically");var I=this.$partition_path(u);k=a.to_ary(I);x=null==k[0]?h:k[0];
I;I=this.$partition_path(d);k=a.to_ary(I);v=null==k[0]?h:k[0];A=null==k[1]?h:k[1];I;return this.$join_path(b(v,x),A)}this.$raise(l("::","SecurityError"),""+(q(k=g["$[]"]("target_name"))?k:"path")+" "+c+" is outside of jail: "+d+" (disallowed in safe mode)")}return u}I=this.$partition_path(c);k=a.to_ary(I);x=null==k[0]?h:k[0];I}else x=[];if(q(x["$empty?"]())){if(q(e["$nil_or_empty?"]()))return q(k=d)?k:this.working_dir;if(q(this["$root?"](e)))if(q(d))e=this.$posixify(e);else return this.$expand_path(e);
else I=this.$partition_path(e),k=a.to_ary(I),x=null==k[0]?h:k[0],I,e=q(k=d)?k:this.working_dir}else q(e["$nil_or_empty?"]())?e=q(k=d)?k:this.working_dir:q(this["$root?"](e))?q(d)&&(e=this.$posixify(e)):e=""+(q(k=d)?k:this.working_dir).$chomp("/")+"/"+e;q(q(k=q(I=d)?u=this["$descends_from?"](e,d)["$!"]():I)?this.file_separator["$=="](m(f,"BACKSLASH")):k)?(I=this.$partition_path(e),k=a.to_ary(I),M=null==k[0]?h:k[0],D=null==k[1]?h:k[1],I,I=this.$partition_path(d),k=a.to_ary(I),v=null==k[0]?h:k[0],A=
null==k[1]?h:k[1],I,q(D["$!="](A))&&(q(g.$fetch("recover",!0))?(this.$logger().$warn("start path for "+(q(k=g["$[]"]("target_name"))?k:"path")+" is outside of jail root; recovering automatically"),M=v,u=!1):this.$raise(l("::","SecurityError"),"start path for "+(q(k=g["$[]"]("target_name"))?k:"path")+" "+e+" refers to location outside jail root: "+d+" (disallowed in safe mode)"))):(I=this.$partition_path(e),k=a.to_ary(I),M=null==k[0]?h:k[0],A=null==k[1]?h:k[1],I);q((y=b(M,x))["$include?"](m(f,"DOT_DOT")))&&
(k=[y,[]],M=k[0],y=k[1],k,q(d)?(q(v)||(I=this.$partition_path(d),k=a.to_ary(I),v=null==k[0]?h:k[0],I),z=!1,t(M,"each",[],(n=function(a){var b=n.$$s||this,e;null==a&&(a=h);if(a["$=="](m(f,"DOT_DOT"))){a=y.$size();var k=v.$size();a="number"===typeof a&&"number"===typeof k?a>k:a["$>"](k);if(q(a))return y.$pop();if(q(g.$fetch("recover",!0))){if(q(z))return h;b.$logger().$warn(""+(q(e=g["$[]"]("target_name"))?e:"path")+" has illegal reference to ancestor of jail; recovering automatically");return z=!0}return b.$raise(l("::",
"SecurityError"),""+(q(e=g["$[]"]("target_name"))?e:"path")+" "+c+" refers to location outside jail: "+d+" (disallowed in safe mode)")}return y["$<<"](a)},n.$$s=this,n.$$arity=1,n))):t(M,"each",[],(r=function(a){null==a&&(a=h);return a["$=="](m(f,"DOT_DOT"))?y.$pop():y["$<<"](a)},r.$$s=this,r.$$arity=1,r)));return q(u)?(u=this.$join_path(y,A),q(this["$descends_from?"](u,d))?u:q(g.$fetch("recover",!0))?(this.$logger().$warn(""+(q(k=g["$[]"]("target_name"))?k:"path")+" is outside of jail; recovering automatically"),
q(v)||(I=this.$partition_path(d),k=a.to_ary(I),v=null==k[0]?h:k[0],I),this.$join_path(b(v,x),A)):this.$raise(l("::","SecurityError"),""+(q(k=g["$[]"]("target_name"))?k:"path")+" "+c+" is outside of jail: "+d+" (disallowed in safe mode)")):this.$join_path(y,A)},E.$$arity=-2);a.def(e,"$web_path",K=function(b,c){var e,d,g=h,k=h,n=h,l=h,p=h;null==c&&(c=h);b=this.$posixify(b);c=this.$posixify(c);q(q(e=c["$nil_or_empty?"]())?e:this["$web_root?"](b))||(c=this.$extract_uri_prefix(""+c+(q(c["$end_with?"](m(f,
"SLASH")))?"":m(f,"SLASH"))+b),e=a.to_ary(c),b=null==e[0]?h:e[0],g=null==e[1]?h:e[1],c);c=this.$partition_path(b,!0);e=a.to_ary(c);k=null==e[0]?h:e[0];n=null==e[1]?h:e[1];c;l=[];t(k,"each",[],(d=function(a){var b;null==a&&(a=h);return a["$=="](m(f,"DOT_DOT"))?q(l["$empty?"]())?q(q(b=n)?n["$!="](m(f,"DOT_SLASH")):b)?h:l["$<<"](a):l["$[]"](-1)["$=="](m(f,"DOT_DOT"))?l["$<<"](a):l.$pop():l["$<<"](a)},d.$$s=this,d.$$arity=1,d));q((p=this.$join_path(l,n))["$include?"](" "))&&(p=p.$gsub(" ","%20"));return q(g)?
""+g+p:p},K.$$arity=-2);e.$private();return(a.def(e,"$extract_uri_prefix",F=function(a){var b;return q(q(b=a["$include?"](":"))?m(f,"UriSniffRx")["$=~"](a):b)?[a.$slice(((b=v["~"])===h?h:b["$[]"](0)).$length(),a.$length()),(b=v["~"])===h?h:b["$[]"](0)]:a},F.$$arity=1),h)&&"extract_uri_prefix"})(d[0],null,d)}(g[0],g)};Opal.modules["asciidoctor/reader"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?
a>b:a["$>"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var m=[],k=a.nil,c=a.const_get_qualified,q=a.const_get_relative,p=a.module,t=a.klass,v=a.hash2,n=a.truthy,e=a.send,f=a.gvars,y=a.hash;a.add_stubs("$include $attr_reader $+ $attr_accessor $! $=== $split $file $dir $dirname $path $basename $lineno $reverse $prepare_lines $empty? $nil_or_empty? $peek_line $[] $> $slice $length $process_line $times $shift $read_line $<< $- $unshift_all $has_more_lines? $join $read_lines $unshift $start_with? $== $* $read_lines_until $size $clear $cursor $[]= $!= $fetch $cursor_at_mark $warn $logger $message_with_context $pop $push $respond_to? $reverse_each $new $tap $each $instance_variables $instance_variable_get $drop $instance_variable_set $class $object_id $inspect $private $prepare_source_array $prepare_source_string $chomp $valid_encoding? $to_s $raise $to_i $attributes $catalog $pop_include $parse $path= $dup $end_with? $keys $rindex $rootname $key? $attr $reverse! $>= $nil? $extensions? $include_processors? $extensions $include_processors $map $skip_front_matter! $adjust_indentation! $include? $=~ $preprocess_conditional_directive $preprocess_include_directive $downcase $error $none? $any? $all? $strip $send $resolve_expr_val $replace_next_line $rstrip $sub_attributes $attribute_missing $info $parse_attributes $find $handles? $instance $process_method $safe $resolve_include_path $method $split_delimited_value $partition $< $to_a $uniq $sort $call $each_line $infinite? $push_include $delete $first $values $value? $create_include_cursor $delete_at $keep_if $read $uriish? $attr? $require_library $normalize_system_path $file? $relative_path $path_resolver $base_dir $to_f".split(" "));
return function(d,m){d=[p(d,"Asciidoctor")].concat(m);(function(d,$super,f){d=t(d,$super,"Reader");var l=[d].concat(f),p,m,r,u,A,y,D,z,I,B,C,E,K,F,T,Q,G,V,J,Y,N,X,O,P,ha,la,R,Ba,pa,wa,aa,ra,ca,oa,Fa,Ra,Na,Sa;d.$$prototype.file=d.$$prototype.lines=d.$$prototype.look_ahead=d.$$prototype.unescape_next_line=d.$$prototype.lineno=d.$$prototype.process_lines=d.$$prototype.dir=d.$$prototype.path=d.$$prototype.mark=d.$$prototype.source_lines=d.$$prototype.saved=k;d.$include(q(l,"Logging"));(function(c,$super,
e){c=t(c,$super,"Cursor");[c].concat(e);var d,f,g;c.$$prototype.lineno=c.$$prototype.path=k;c.$attr_reader("file","dir","path","lineno");a.def(c,"$initialize",d=function(a,b,c,e){var d;null==b&&(b=k);null==c&&(c=k);null==e&&(e=1);return d=[a,b,c,e],this.file=d[0],this.dir=d[1],this.path=d[2],this.lineno=d[3],d},d.$$arity=-2);a.def(c,"$advance",f=function(a){return this.lineno=b(this.lineno,a)},f.$$arity=1);a.def(c,"$line_info",g=function(){return""+this.path+": line "+this.lineno},g.$$arity=0);return a.alias(c,
"to_s","line_info")})(l[0],null,l);d.$attr_reader("file");d.$attr_reader("dir");d.$attr_reader("path");d.$attr_reader("lineno");d.$attr_reader("source_lines");d.$attr_accessor("process_lines");d.$attr_accessor("unterminated");a.def(d,"$initialize",p=function(b,e,d){null==b&&(b=k);null==e&&(e=k);null==d&&(d=v([],{}));if(n(e["$!"]()))this.file=k,this.dir=".",this.path="<stdin>",this.lineno=1;else if(n(c("::","String")["$==="](e))){this.file=e;e=c("::","File").$split(this.file);var f=a.to_ary(e);this.dir=
null==f[0]?k:f[0];this.path=null==f[1]?k:f[1];e;this.lineno=1}else n(this.file=e.$file())?(this.dir=n(f=e.$dir())?f:c("::","File").$dirname(this.file),this.path=n(f=e.$path())?f:c("::","File").$basename(this.file)):(this.dir=n(f=e.$dir())?f:".",this.path=n(f=e.$path())?f:"<stdin>"),this.lineno=n(f=e.$lineno())?f:1;this.lines=(this.source_lines=this.$prepare_lines(b,d)).$reverse();this.mark=k;this.look_ahead=0;this.process_lines=!0;this.unescape_next_line=!1;return this.saved=this.unterminated=k},
p.$$arity=-1);a.def(d,"$has_more_lines?",m=function(){return n(this.lines["$empty?"]())?(this.look_ahead=0,!1):!0},m.$$arity=0);a.def(d,"$empty?",r=function(){return n(this.lines["$empty?"]())?(this.look_ahead=0,!0):!1},r.$$arity=0);a.alias(d,"eof?","empty?");a.def(d,"$next_line_empty?",u=function(){return this.$peek_line()["$nil_or_empty?"]()},u.$$arity=0);a.def(d,"$peek_line",A=function(a){var b;for(null==a&&(a=!1);n(!0);){var c=this.lines["$[]"](-1);if(n(n(b=a)?b:g(this.look_ahead,0)))return n(this.unescape_next_line)?
c.$slice(1,c.$length()):c;if(n(c)){if(n(c=this.$process_line(c)))return c}else return this.look_ahead=0,k}},A.$$arity=-1);a.def(d,"$peek_lines",y=function(b,c){var d,f,g=this,p=k,m=k;null==b&&(b=k);null==c&&(c=!1);p=g.look_ahead;m=[];(function(){var p=a.new_brk();try{return e(n(d=b)?d:q(l,"MAX_INT"),"times",[],(f=function(){var b=f.$$s||this,e;null==b.lineno&&(b.lineno=k);if(n(e=n(c)?b.$shift():b.$read_line()))return m["$<<"](e);n(c)&&(b.lineno=h(b.lineno,1));a.brk(k,p)},f.$$s=g,f.$$brk=p,f.$$arity=
0,f))}catch(Z){if(Z===p)return Z.$v;throw Z;}})();n(m["$empty?"]())||(g.$unshift_all(m),n(c)&&(g.look_ahead=p));return m},y.$$arity=-1);a.def(d,"$read_line",D=function(){var a;return n(n(a=g(this.look_ahead,0))?a:this["$has_more_lines?"]())?this.$shift():k},D.$$arity=0);a.def(d,"$read_lines",z=function(){var a;for(a=[];n(this["$has_more_lines?"]());)a["$<<"](this.$shift());return a},z.$$arity=0);a.alias(d,"readlines","read_lines");a.def(d,"$read",I=function(){return this.$read_lines().$join(q(l,"LF"))},
I.$$arity=0);a.def(d,"$advance",B=function(){return n(this.$shift())?!0:!1},B.$$arity=0);a.def(d,"$unshift_line",C=function(a){this.$unshift(a);return k},C.$$arity=1);a.alias(d,"restore_line","unshift_line");a.def(d,"$unshift_lines",E=function(a){return this.$unshift_all(a)},E.$$arity=1);a.alias(d,"restore_lines","unshift_lines");a.def(d,"$replace_next_line",K=function(a){this.$shift();this.$unshift(a);return!0},K.$$arity=1);a.alias(d,"replace_line","replace_next_line");a.def(d,"$skip_blank_lines",
F=function(){var a,c;if(n(this["$empty?"]()))return k;for(a=0;n(c=this.$peek_line());)if(n(c["$empty?"]()))this.$shift(),a=b(a,1);else return a},F.$$arity=0);a.def(d,"$skip_comment_lines",T=function(){var a,b=k,c=k;if(n(this["$empty?"]()))return k;for(;n(n(a=b=this.$peek_line())?b["$empty?"]()["$!"]():a);)if(n(b["$start_with?"]("//")))if(n(b["$start_with?"]("///")))if(n(n(a=g(c=b.$length(),3))?b["$=="]("/"["$*"](c)):a))this.$read_lines_until(v(["terminator","skip_first_line","read_last_line","skip_processing",
"context"],{terminator:b,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}));else break;else this.$shift();else break;return k},T.$$arity=0);a.def(d,"$skip_line_comments",Q=function(){var a,b,c=k;if(n(this["$empty?"]()))return[];for(b=[];n(n(a=c=this.$peek_line())?c["$empty?"]()["$!"]():a);)if(n(c["$start_with?"]("//")))b["$<<"](this.$shift());else break;return b},Q.$$arity=0);a.def(d,"$terminate",G=function(){this.lineno=b(this.lineno,this.lines.$size());this.lines.$clear();
this.look_ahead=0;return k},G.$$arity=0);a.def(d,"$read_lines_until",V=function(b){var c,d,f,g,p,m,r=V.$$p,u=r||k,w=k,x,t=k,A,y,D,z=k,I=k;r&&(V.$$p=null);null==b&&(b=v([],{}));r=[];n(n(c=this.process_lines)?b["$[]"]("skip_processing"):c)&&(this.process_lines=!1,w=!0);if(n(x=b["$[]"]("terminator"))){t=n(c=b["$[]"]("cursor"))?c:this.$cursor();var B=A=!1}else A=b["$[]"]("break_on_blank_lines"),B=b["$[]"]("break_on_list_continuation");var C=b["$[]"]("skip_line_comments");var S=y=k;for(n(b["$[]"]("skip_first_line"))&&
this.$shift();n(D=this.$read_line());){if(n(n(x)?D["$=="](x):n(d=n(f=n(g=A)?D["$empty?"]():g)?f:n(g=n(p=n(m=B)?S:m)?D["$=="](q(l,"LIST_CONTINUATION")):p)?(z=["preserve_last_line",!0],e(b,"[]=",a.to_a(z)),z[h(z.length,1)]):g)?d:(f=u!==k)?a.yield1(u,D):u!==k)){if(n(b["$[]"]("read_last_line")))r["$<<"](D);n(b["$[]"]("preserve_last_line"))&&(this.$unshift(D),y=!0);break}n(n(d=n(f=C)?D["$start_with?"]("//"):f)?D["$start_with?"]("///")["$!"]():d)||(r["$<<"](D),S=!0)}n(w)&&(this.process_lines=!0,n(n(c=y)?
x["$!"]():c)&&(this.look_ahead=h(this.look_ahead,1)));n(n(c=n(d=x)?x["$!="](D):d)?I=b.$fetch("context",x):c)&&(t["$=="]("at_mark")&&(t=this.$cursor_at_mark()),this.$logger().$warn(this.$message_with_context("unterminated "+I+" block",v(["source_location"],{source_location:t}))),this.unterminated=!0);return r},V.$$arity=-1);a.def(d,"$shift",J=function(){this.lineno=b(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=h(this.look_ahead,1));return this.lines.$pop()},J.$$arity=0);a.def(d,"$unshift",
Y=function(a){this.lineno=h(this.lineno,1);this.look_ahead=b(this.look_ahead,1);this.lines.$push(a);return k},Y.$$arity=1);c("::","RUBY_ENGINE")["$=="]("jruby")?a.def(d,"$unshift_all",N=function(c){var d;this.lineno=h(this.lineno,c.$size());this.look_ahead=b(this.look_ahead,c.$size());n(c["$respond_to?"]("reverse"))?e(this.lines,"push",a.to_a(c.$reverse())):e(c,"reverse_each",[],(d=function(a){var b=d.$$s||this;null==b.lines&&(b.lines=k);null==a&&(a=k);return b.lines.$push(a)},d.$$s=this,d.$$arity=
1,d));return k},N.$$arity=1):a.def(d,"$unshift_all",X=function(c){this.lineno=h(this.lineno,c.$size());this.look_ahead=b(this.look_ahead,c.$size());e(this.lines,"push",a.to_a(c.$reverse()));return k},X.$$arity=1);a.def(d,"$cursor",O=function(){return q(l,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},O.$$arity=0);a.def(d,"$cursor_at_line",P=function(a){return q(l,"Cursor").$new(this.file,this.dir,this.path,a)},P.$$arity=1);a.def(d,"$cursor_at_mark",ha=function(){return n(this.mark)?e(q(l,
"Cursor"),"new",a.to_a(this.mark)):this.$cursor()},ha.$$arity=0);a.def(d,"$cursor_before_mark",la=function(){if(n(this.mark)){var b=this.mark;var c=a.to_ary(b);var e=null==c[0]?k:c[0];var d=null==c[1]?k:c[1];var f=null==c[2]?k:c[2];c=null==c[3]?k:c[3];b;return q(l,"Cursor").$new(e,d,f,h(c,1))}return q(l,"Cursor").$new(this.file,this.dir,this.path,h(this.lineno,1))},la.$$arity=0);a.def(d,"$cursor_at_prev_line",R=function(){return q(l,"Cursor").$new(this.file,this.dir,this.path,h(this.lineno,1))},R.$$arity=
0);a.def(d,"$mark",Ba=function(){return this.mark=[this.file,this.dir,this.path,this.lineno]},Ba.$$arity=0);a.def(d,"$line_info",pa=function(){return""+this.path+": line "+this.lineno},pa.$$arity=0);a.def(d,"$lines",wa=function(){return this.lines.$reverse()},wa.$$arity=0);a.def(d,"$string",aa=function(){return this.lines.$reverse().$join(q(l,"LF"))},aa.$$arity=0);a.def(d,"$source",ra=function(){return this.source_lines.$join(q(l,"LF"))},ra.$$arity=0);a.def(d,"$save",ca=function(){var b;this.saved=
e(v([],{}),"tap",[],(b=function(d){var f=b.$$s||this,g;null==d&&(d=k);return e(f.$instance_variables(),"each",[],(g=function(b){var f=g.$$s||this,l,p=k;null==b&&(b=k);if(n(n(l=b["$=="]("@saved"))?l:b["$=="]("@source_lines")))return k;b=[b,n(c("::","Array")["$==="](p=f.$instance_variable_get(b)))?p.$drop(0):p];e(d,"[]=",a.to_a(b));return b[h(b.length,1)]},g.$$s=f,g.$$arity=1,g))},b.$$s=this,b.$$arity=1,b));return k},ca.$$arity=0);a.def(d,"$restore_save",oa=function(){var a;return n(this.saved)?(e(this.saved,
"each",[],(a=function(b,c){var e=a.$$s||this;null==b&&(b=k);null==c&&(c=k);return e.$instance_variable_set(b,c)},a.$$s=this,a.$$arity=2,a)),this.saved=k):k},oa.$$arity=0);a.def(d,"$discard_save",Fa=function(){return this.saved=k},Fa.$$arity=0);a.def(d,"$to_s",Ra=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line: "+this.lineno+"}>"},Ra.$$arity=0);d.$private();a.def(d,"$prepare_lines",Na=function(b,e){var d=k;null==e&&(e=v([],{}));try{return n(d=e["$[]"]("normalize"))?
n(c("::","Array")["$==="](b))?q(l,"Helpers").$prepare_source_array(b,d["$!="]("chomp")):q(l,"Helpers").$prepare_source_string(b,d["$!="]("chomp")):n(c("::","Array")["$==="](b))?b.$drop(0):n(b)?b.$chomp().$split(q(l,"LF"),-1):[]}catch(Pa){if(a.rescue(Pa,[q(l,"StandardError")]))try{return n((n(c("::","Array")["$==="](b))?b.$join():b.$to_s())["$valid_encoding?"]())?this.$raise():this.$raise(c("::","ArgumentError"),"source is either binary or contains invalid Unicode data")}finally{a.pop_exception()}else throw Pa;
}},Na.$$arity=-2);return(a.def(d,"$process_line",Sa=function(a){n(this.process_lines)&&(this.look_ahead=b(this.look_ahead,1));return a},Sa.$$arity=1),k)&&"process_line"})(d[0],null,d);(function(d,$super,p){d=t(d,$super,"PreprocessorReader");var m=[d].concat(p),r,u,A,D,z,I,B,C,E,K,F,Q,T,G,V,J,Y,N,xa,O;d.$$prototype.include_stack=d.$$prototype.lines=d.$$prototype.file=d.$$prototype.dir=d.$$prototype.path=d.$$prototype.lineno=d.$$prototype.maxdepth=d.$$prototype.process_lines=d.$$prototype.includes=
d.$$prototype.document=d.$$prototype.unescape_next_line=d.$$prototype.include_processor_extensions=d.$$prototype.skipping=d.$$prototype.look_ahead=d.$$prototype.conditional_stack=k;d.$attr_reader("include_stack");a.def(d,"$initialize",r=function(b,c,d,f){var h,l;r.$$p&&(r.$$p=null);null==c&&(c=k);null==d&&(d=k);null==f&&(f=v([],{}));this.document=b;e(this,a.find_super_dispatcher(this,"initialize",r,!1),[c,d,f],null);n(g(l=(n(h=b.$attributes()["$[]"]("max-include-depth"))?h:64).$to_i(),0))?this.maxdepth=
v(["abs","curr","rel"],{abs:l,curr:l,rel:l}):this.maxdepth=k;this.include_stack=[];this.includes=b.$catalog()["$[]"]("includes");this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=k},r.$$arity=-2);a.def(d,"$has_more_lines?",u=function(){return n(this.$peek_line())?!0:!1},u.$$arity=0);a.def(d,"$empty?",A=function(){return n(this.$peek_line())?!1:!0},A.$$arity=0);a.alias(d,"eof?","empty?");a.def(d,"$peek_line",D=function(b){var c=D.$$p,d;c&&(D.$$p=null);var f=0;var g=
arguments.length;for(d=Array(g);f<g;f++)d[f]=arguments[f];null==b&&(b=!1);if(n(c=e(this,a.find_super_dispatcher(this,"peek_line",D,!1),d,c)))return c;if(n(this.include_stack["$empty?"]()))return k;this.$pop_include();return this.$peek_line(b)},D.$$arity=-1);a.def(d,"$push_include",z=function(d,f,l,p,r){var u,t=k,x=k,A=k,y=k;null==f&&(f=k);null==l&&(l=k);null==p&&(p=1);null==r&&(r=v([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);
n(this.file=f)?(n(c("::","String")["$==="](f))?this.dir=c("::","File").$dirname(f):n(q(m,"RUBY_ENGINE_OPAL"))?this.dir=c("::","URI").$parse(c("::","File").$dirname(f=f.$to_s())):(t=[(x=c("::","File").$dirname(f.$path()))["$=="]("/")?"":x],e(this.dir=f.$dup(),"path=",a.to_a(t)),t[h(t.length,1)],f=f.$to_s()),this.path=l=n(u=l)?u:c("::","File").$basename(f),n(this.process_lines=e(f,"end_with?",a.to_a(q(m,"ASCIIDOC_EXTENSIONS").$keys())))&&(n(u=this.includes["$[]"](l.$slice(0,l.$rindex("."))))?u:(t=[l.$slice(0,
l.$rindex(".")),n(r["$[]"]("partial-option"))?k:!0],e(this.includes,"[]=",a.to_a(t)),t[h(t.length,1)]))):(this.dir=".",this.process_lines=!0,n(this.path=l)?n(u=this.includes["$[]"](q(m,"Helpers").$rootname(l)))?u:(t=[q(m,"Helpers").$rootname(l),n(r["$[]"]("partial-option"))?k:!0],e(this.includes,"[]=",a.to_a(t)),t[h(t.length,1)]):this.path="<stdin>");this.lineno=p;n(n(u=this.maxdepth)?r["$key?"]("depth"):u)&&(n(g(f=r["$[]"]("depth").$to_i(),0))?(n(g(l=b(this.include_stack.$size(),f),A=this.maxdepth["$[]"]("abs")))&&
(l=f=A),this.maxdepth=v(["abs","curr","rel"],{abs:A,curr:l,rel:f})):this.maxdepth=v(["abs","curr","rel"],{abs:this.maxdepth["$[]"]("abs"),curr:this.include_stack.$size(),rel:0}));if(n((this.lines=this.$prepare_lines(d,v(["normalize","condense","indent"],{normalize:n(u=this.process_lines)?u:"chomp",condense:!1,indent:r["$[]"]("indent")})))["$empty?"]()))this.$pop_include();else{if(n(r["$key?"]("leveloffset")))this.lines=b(b([n(y=this.document.$attr("leveloffset"))?":leveloffset: "+y:":leveloffset!:",
""],this.lines.$reverse()),["",":leveloffset: "+r["$[]"]("leveloffset")]),this.lineno=h(this.lineno,2);else this.lines["$reverse!"]();this.look_ahead=0}return this},z.$$arity=-2);a.def(d,"$include_depth",I=function(){return this.include_stack.$size()},I.$$arity=0);a.def(d,"$exceeds_max_depth?",B=function(){var a,b;return n(a=n(b=this.maxdepth)?l(this.include_stack.$size(),this.maxdepth["$[]"]("curr")):b)?this.maxdepth["$[]"]("rel"):a},B.$$arity=0);a.alias(d,"exceeded_max_depth?","exceeds_max_depth?");
a.def(d,"$shift",C=function(){var b=C.$$p,c=k,d;b&&(C.$$p=null);var f=0;var g=arguments.length;for(d=Array(g);f<g;f++)d[f]=arguments[f];return n(this.unescape_next_line)?(this.unescape_next_line=!1,(c=e(this,a.find_super_dispatcher(this,"shift",C,!1),d,b)).$slice(1,c.$length())):e(this,a.find_super_dispatcher(this,"shift",C,!1),d,b)},C.$$arity=0);a.def(d,"$include_processors?",E=function(){var a;return n(this.include_processor_extensions["$nil?"]())?n(n(a=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():
a)?(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},E.$$arity=0);a.def(d,"$create_include_cursor",K=function(a,b,e){var d=k;n(c("::","String")["$==="](a))?d=c("::","File").$dirname(a):n(q(m,"RUBY_ENGINE_OPAL"))?d=c("::","File").$dirname(a=a.$to_s()):(d=(d=c("::","File").$dirname(a.$path()))["$=="]("")?"/":d,a=a.$to_s());return q(m,"Cursor").$new(a,d,b,e)},K.$$arity=
3);a.def(d,"$to_s",F=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+e(this.include_stack,"map",[],(a=function(a){null==a&&(a=k);return a.$to_s()},a.$$s=this,a.$$arity=1,a)).$join(", ")+"]}>"},F.$$arity=0);d.$private();a.def(d,"$prepare_lines",Q=function(b,c){var d,f,g=Q.$$p,l=k,p=k,r;g&&(Q.$$p=null);var u=0;var t=arguments.length;for(r=Array(t);u<t;u++)r[u]=arguments[u];
null==c&&(c=v([],{}));g=e(this,a.find_super_dispatcher(this,"prepare_lines",Q,!1),r,g);n(n(d=n(f=this.document)?this.document.$attributes()["$[]"]("skip-front-matter"):f)?l=this["$skip_front_matter!"](g):d)&&(d=["front-matter",l.$join(q(m,"LF"))],e(this.document.$attributes(),"[]=",a.to_a(d)),d[h(d.length,1)]);if(n(c.$fetch("condense",!0)))for(;n(n(f=p=g["$[]"](-1))?p["$empty?"]():f);)g.$pop();if(n(c["$[]"]("indent")))q(m,"Parser")["$adjust_indentation!"](g,c["$[]"]("indent").$to_i(),this.document.$attr("tabsize").$to_i());
return g},Q.$$arity=-2);a.def(d,"$process_line",T=function(a){var c,e;if(!n(this.process_lines))return a;if(n(a["$empty?"]())){if(n(this.skipping))return this.$shift(),k;this.look_ahead=b(this.look_ahead,1);return a}if(n(n(c=n(e=a["$end_with?"]("]"))?a["$start_with?"]("[")["$!"]():e)?a["$include?"]("::"):c)){if(n(n(c=a["$include?"]("if"))?q(m,"ConditionalDirectiveRx")["$=~"](a):c)){if(((c=f["~"])===k?k:c["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=b(this.look_ahead,1),
a.$slice(1,a.$length());if(n(this.$preprocess_conditional_directive((c=f["~"])===k?k:c["$[]"](2),(c=f["~"])===k?k:c["$[]"](3),(c=f["~"])===k?k:c["$[]"](4),(c=f["~"])===k?k:c["$[]"](5))))return this.$shift(),k;this.look_ahead=b(this.look_ahead,1);return a}if(n(this.skipping))return this.$shift(),k;if(n(n(c=a["$start_with?"]("inc","\\inc"))?q(m,"IncludeDirectiveRx")["$=~"](a):c)){if(((c=f["~"])===k?k:c["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=b(this.look_ahead,1),a.$slice(1,
a.$length());if(n(this.$preprocess_include_directive((c=f["~"])===k?k:c["$[]"](2),(c=f["~"])===k?k:c["$[]"](3))))return k;this.look_ahead=b(this.look_ahead,1);return a}this.look_ahead=b(this.look_ahead,1);return a}if(n(this.skipping))return this.$shift(),k;this.look_ahead=b(this.look_ahead,1);return a},T.$$arity=1);a.def(d,"$preprocess_conditional_directive",G=function(b,c,d,g){var l,p,r,u,t,x=k,A=k,y=k,D=k,z=D=x=k;n(x=c["$empty?"]())||(c=c.$downcase());if(b["$=="]("endif"))return n(g)?this.$logger().$error(this.$message_with_context("malformed preprocessor directive - text not permitted: endif::"+
c+"["+g+"]",v(["source_location"],{source_location:this.$cursor()}))):n(this.conditional_stack["$empty?"]())?this.$logger().$error(this.$message_with_context("unmatched preprocessor directive: endif::"+c+"[]",v(["source_location"],{source_location:this.$cursor()}))):n(n(l=x)?l:c["$=="]((A=this.conditional_stack["$[]"](-1))["$[]"]("target")))?(this.conditional_stack.$pop(),this.skipping=n(this.conditional_stack["$empty?"]())?!1:this.conditional_stack["$[]"](-1)["$[]"]("skipping")):this.$logger().$error(this.$message_with_context("mismatched preprocessor directive: endif::"+
c+"[], expected endif::"+A["$[]"]("target")+"[]",v(["source_location"],{source_location:this.$cursor()}))),!0;if(n(this.skipping))y=!1;else if(D=b,"ifdef"["$==="](D)){if(n(x))return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - missing target: ifdef::["+g+"]",v(["source_location"],{source_location:this.$cursor()}))),!0;D=d;y=","["$==="](D)?e(c.$split(",",-1),"none?",[],(p=function(a){var b=p.$$s||this;null==b.document&&(b.document=k);null==a&&(a=k);return b.document.$attributes()["$key?"](a)},
p.$$s=this,p.$$arity=1,p)):"+"["$==="](D)?e(c.$split("+",-1),"any?",[],(r=function(a){var b=r.$$s||this;null==b.document&&(b.document=k);null==a&&(a=k);return b.document.$attributes()["$key?"](a)["$!"]()},r.$$s=this,r.$$arity=1,r)):this.document.$attributes()["$key?"](c)["$!"]()}else if("ifndef"["$==="](D)){if(n(x))return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - missing target: ifndef::["+g+"]",v(["source_location"],{source_location:this.$cursor()}))),!0;
D=d;y=","["$==="](D)?e(c.$split(",",-1),"any?",[],(u=function(a){var b=u.$$s||this;null==b.document&&(b.document=k);null==a&&(a=k);return b.document.$attributes()["$key?"](a)},u.$$s=this,u.$$arity=1,u)):"+"["$==="](D)?e(c.$split("+",-1),"all?",[],(t=function(a){var b=t.$$s||this;null==b.document&&(b.document=k);null==a&&(a=k);return b.document.$attributes()["$key?"](a)},t.$$s=this,t.$$arity=1,t)):this.document.$attributes()["$key?"](c)}else if("ifeval"["$==="](D))if(n(x))if(n(n(l=g)?q(m,"EvalExpressionRx")["$=~"](g.$strip()):
l)){x=(l=f["~"])===k?k:l["$[]"](1);D=(l=f["~"])===k?k:l["$[]"](2);z=(l=f["~"])===k?k:l["$[]"](3);a:{try{y=n(this.$resolve_expr_val(x).$send(D,this.$resolve_expr_val(z)))?!1:!0;break a}catch(Fa){if(a.rescue(Fa,[q(m,"StandardError")]))try{y=!0;break a}finally{a.pop_exception()}else throw Fa;}y=void 0}}else return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - "+(n(g)?"invalid expression":"missing expression")+": ifeval::["+g+"]",v(["source_location"],{source_location:this.$cursor()}))),
!0;else return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - target not permitted: ifeval::"+c+"["+g+"]",v(["source_location"],{source_location:this.$cursor()}))),!0;n(n(l=b["$=="]("ifeval"))?l:g["$!"]())?(n(y)&&(this.skipping=!0),this.conditional_stack["$<<"](v(["target","skip","skipping"],{target:c,skip:y,skipping:this.skipping}))):n(n(l=this.skipping)?l:y)||(this.$replace_next_line(g.$rstrip()),this.$unshift(""),n(g["$start_with?"]("include::"))&&(this.look_ahead=
h(this.look_ahead,1)));return!0},G.$$arity=4);a.def(d,"$preprocess_include_directive",V=function(d,p){var r,u,t,x,A,D,z,I,B,C,S,E,K=this,F=k,Q=k,T=k,G=k,V=k,ka=k,J=k,ta=k,da=k,ua=k,ma=k,Y=da=k,w=da=k,H=k,ba=k,L=k,U=k,Ha=k,X=k,ja=k,N=k,sa=k,W=k,qa=k,ea=k;da=k;F=K.document;if(n(n(r=(Q=d)["$include?"](q(m,"ATTR_REF_HEAD")))?(Q=F.$sub_attributes(d,v(["attribute_missing"],{attribute_missing:(T=n(u=F.$attributes()["$[]"]("attribute-missing"))?u:q(m,"Compliance").$attribute_missing())["$=="]("warn")?"drop-line":
T})))["$empty?"]():r)){if(n((r=T["$=="]("drop-line"))?F.$sub_attributes(b(d," "),v(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():T["$=="]("drop-line")))return e(K.$logger(),"info",[],(t=function(){var a=t.$$s||this;return a.$message_with_context("include dropped due to missing attribute: include::"+d+"["+p+"]",v(["source_location"],{source_location:a.$cursor()}))},t.$$s=K,t.$$arity=0,t)),K.$shift(),!0;if(n(F.$parse_attributes(p,
[],v(["sub_input"],{sub_input:!0}))["$[]"]("optional-option")))return e(K.$logger(),"info",[],(x=function(){var a=x.$$s||this;return a.$message_with_context("optional include dropped "+(n(T["$=="]("warn")?F.$sub_attributes(b(d," "),v(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():T["$=="]("warn"))?"due to missing attribute":"because resolved target is blank")+": include::"+d+"["+p+"]",v(["source_location"],{source_location:a.$cursor()}))},
x.$$s=K,x.$$arity=0,x)),K.$shift(),!0;K.$logger().$warn(K.$message_with_context("include dropped "+(n((r=T["$=="]("warn"))?F.$sub_attributes(b(d," "),v(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():T["$=="]("warn"))?"due to missing attribute":"because resolved target is blank")+": include::"+d+"["+p+"]",v(["source_location"],{source_location:K.$cursor()})));return K.$replace_next_line("Unresolved directive in "+K.path+" - include::"+
d+"["+p+"]")}if(n(n(r=K["$include_processors?"]())?G=e(K.include_processor_extensions,"find",[],(A=function(a){null==a&&(a=k);return a.$instance()["$handles?"](Q)},A.$$s=K,A.$$arity=1,A)):r))return K.$shift(),G.$process_method()["$[]"](F,K,Q,F.$parse_attributes(p,[],v(["sub_input"],{sub_input:!0}))),!0;if(n(l(F.$safe(),c(q(m,"SafeMode"),"SECURE"))))return n(Q["$include?"](" "))&&(Q="pass:c["+Q+"]"),K.$replace_next_line("link:"+Q+"[role=include]");if(n(K.maxdepth)){if(n(l(K.include_stack.$size(),K.maxdepth["$[]"]("curr"))))return K.$logger().$error(K.$message_with_context("maximum include depth of "+
K.maxdepth["$[]"]("rel")+" exceeded",v(["source_location"],{source_location:K.$cursor()}))),k;V=F.$parse_attributes(p,[],v(["sub_input"],{sub_input:!0}));u=K.$resolve_include_path(Q,p,V);r=a.to_ary(u);ka=null==r[0]?k:r[0];J=null==r[1]?k:r[1];ta=null==r[2]?k:r[2];u;da=J;if("file"["$==="](da))ua=c("::","File").$method("open"),ma=q(m,"FILE_READ_MODE");else if("uri"["$==="](da))ua=c("::","OpenURI").$method("open_uri"),ma=q(m,"URI_READ_MODE");else return ka;if(!n(q(m,"RUBY_ENGINE_OPAL"))){if(n(r=da=V["$[]"]("encoding")))a:{try{var na=
c("::","Encoding").$find(da);break a}catch(La){if(a.rescue(La,[q(m,"StandardError")]))try{na=k;break a}finally{a.pop_exception()}else throw La;}na=void 0}else na=r;n(na)&&(Y=[1,da],e(da=ma.$split(":"),"[]=",a.to_a(Y)),Y[h(Y.length,1)],ma=da.$join(":"))}w=H=k;n(p)&&(n(V["$key?"]("lines"))?(w=[],e(K.$split_delimited_value(V["$[]"]("lines")),"each",[],(D=function(e){null==e&&(e=k);if(n(e["$include?"](".."))){var d=e.$partition("..");var f=a.to_ary(d);e=null==f[0]?k:f[0];var g=null==f[2]?k:f[2];d;d=w;
n(f=g["$empty?"]())||(f=g=g.$to_i(),f="number"===typeof f?0>f:f["$<"](0));e=n(f)?[e.$to_i(),c(c("::","Float"),"INFINITY")]:a.Range.$new(e.$to_i(),g,!1).$to_a();return w=b(d,e)}return w["$<<"](e.$to_i())},D.$$s=K,D.$$arity=1,D)),w=n(w["$empty?"]())?k:w.$sort().$uniq()):n(V["$key?"]("tag"))?n(n(r=(ba=V["$[]"]("tag"))["$empty?"]())?r:ba["$=="]("!"))||(H=n(ba["$start_with?"]("!"))?y(ba.$slice(1,ba.$length()),!1):y(ba,!0)):n(V["$key?"]("tags"))&&(H=v([],{}),e(K.$split_delimited_value(V["$[]"]("tags")),
"each",[],(z=function(b){var c;null==b&&(b=k);if(n(n(c=b["$empty?"]())?c:b["$=="]("!")))return k;Y=n(b["$start_with?"]("!"))?[b.$slice(1,b.$length()),!1]:[b,!0];e(H,"[]=",a.to_a(Y));return Y[h(Y.length,1)]},z.$$s=K,z.$$arity=1,z)),n(H["$empty?"]())&&(H=k)));if(n(w)){r=[[],k,0];L=r[0];U=r[1];Ha=r[2];r;try{(function(){var d=a.new_brk();try{return e(ua,"call",[ka,ma],(I=function(d){var f=I.$$s||this,g,h=k;null==d&&(d=k);h=k;return function(){var l=a.new_brk();try{return e(d,"each_line",[],(g=function(e){var d,
f,g=k;null==e&&(e=k);Ha=b(Ha,1);if(n(n(d=h)?d:n(f=c("::","Float")["$==="](g=w["$[]"](0)))?h=g["$infinite?"]():f))return U=n(d=U)?d:Ha,L["$<<"](e);g["$=="](Ha)&&(U=n(d=U)?d:Ha,L["$<<"](e),w.$shift());if(n(w["$empty?"]()))a.brk(k,l);else return k},g.$$s=f,g.$$brk=l,g.$$arity=1,g))}catch(cb){if(cb===l)return cb.$v;throw cb;}}()},I.$$s=K,I.$$brk=d,I.$$arity=1,I))}catch(bb){if(bb===d)return bb.$v;throw bb;}})()}catch(La){if(a.rescue(La,[q(m,"StandardError")]))try{return K.$logger().$error(K.$message_with_context("include "+
J+" not readable: "+ka,v(["source_location"],{source_location:K.$cursor()}))),K.$replace_next_line("Unresolved directive in "+K.path+" - include::"+Q+"["+p+"]")}finally{a.pop_exception()}else throw La;}K.$shift();n(U)&&(Y=["partial-option",""],e(V,"[]=",a.to_a(Y)),Y[h(Y.length,1)],K.$push_include(L,ka,ta,U,V))}else if(n(H)){r=[[],k,0,[],c("::","Set").$new(),k];L=r[0];U=r[1];Ha=r[2];X=r[3];ja=r[4];N=r[5];r;n(H["$key?"]("**"))?(sa=W=H.$delete("**"),n(H["$key?"]("*"))?qa=H.$delete("*"):n(n(r=sa["$!"]())?
H.$values().$first()["$=="](!1):r)&&(qa=!0)):n(H["$key?"]("*"))?H.$keys().$first()["$=="]("*")?sa=W=(qa=H.$delete("*"))["$!"]():(sa=W=!1,qa=H.$delete("*")):sa=W=H["$value?"](!0)["$!"]();try{e(ua,"call",[ka,ma],(B=function(c){var d=B.$$s||this,g,h=k,w=k;null==c&&(c=k);var l=["::","[]"];h=l[0];w=l[1];l;return e(c,"each_line",[],(g=function(c){var d=g.$$s||this,l,p,r,u=k,t=k,x=k;null==c&&(c=k);Ha=b(Ha,1);if(n(n(l=n(p=c["$include?"](h))?c["$include?"](w):p)?q(m,"TagDirectiveRx")["$=~"](c):l)){u=(l=f["~"])===
k?k:l["$[]"](2);if(n((l=f["~"])===k?k:l["$[]"](1)))return u["$=="](N)?(X.$pop(),p=n(X["$empty?"]())?[k,W]:X["$[]"](-1),l=a.to_ary(p),N=null==l[0]?k:l[0],sa=null==l[1]?k:l[1],p):n(H["$key?"](u))?(t=d.$create_include_cursor(ka,Q,Ha),n(x=e(X,"rindex",[],(r=function(a){null==a&&(a=k);return a["$=="](u)},r.$$s=d,r.$$arity=1,r.$$has_trailing_comma_in_args=!0,r)))?(x["$=="](0)?X.$shift():X.$delete_at(x),d.$logger().$warn(d.$message_with_context("mismatched end tag (expected '"+N+"' but found '"+u+"') at line "+
Ha+" of include "+J+": "+ka,v(["source_location","include_location"],{source_location:d.$cursor(),include_location:t})))):d.$logger().$warn(d.$message_with_context("unexpected end tag '"+u+"' at line "+Ha+" of include "+J+": "+ka,v(["source_location","include_location"],{source_location:d.$cursor(),include_location:t})))):k;if(n(H["$key?"](u))){if(n(sa=H["$[]"](u)))ja["$<<"](u);return X["$<<"]([N=u,sa,Ha])}return n(qa["$nil?"]()["$!"]())?(sa=n(n(l=N)?sa["$!"]():l)?!1:qa,X["$<<"]([N=u,sa,Ha])):k}return n(sa)?
(U=n(l=U)?l:Ha,L["$<<"](c)):k},g.$$s=d,g.$$arity=1,g))},B.$$s=K,B.$$arity=1,B))}catch(La){if(a.rescue(La,[q(m,"StandardError")]))try{return K.$logger().$error(K.$message_with_context("include "+J+" not readable: "+ka,v(["source_location"],{source_location:K.$cursor()}))),K.$replace_next_line("Unresolved directive in "+K.path+" - include::"+Q+"["+p+"]")}finally{a.pop_exception()}else throw La;}n(X["$empty?"]())||e(X,"each",[],(C=function(a,b,c){b=C.$$s||this;null==a&&(a=k);null==c&&(c=k);return b.$logger().$warn(b.$message_with_context("detected unclosed tag '"+
a+"' starting at line "+c+" of include "+J+": "+ka,v(["source_location","include_location"],{source_location:b.$cursor(),include_location:b.$create_include_cursor(ka,Q,c)})))},C.$$s=K,C.$$arity=3,C));n((ea=h(e(H,"keep_if",[],(S=function(a,b){null==b&&(b=k);return b},S.$$s=K,S.$$arity=2,S)).$keys(),ja.$to_a()))["$empty?"]())||K.$logger().$warn(K.$message_with_context("tag"+(n(g(ea.$size(),1))?"s":"")+" '"+ea.$join(", ")+"' not found in include "+J+": "+ka,v(["source_location"],{source_location:K.$cursor()})));
K.$shift();n(U)&&(n(n(r=n(u=W)?qa["$!="](!1):u)?H["$empty?"]():r)||(Y=["partial-option",""],e(V,"[]=",a.to_a(Y)),Y[h(Y.length,1)]),K.$push_include(L,ka,ta,U,V))}else{da=k;try{da=e(ua,"call",[ka,ma],(E=function(a){null==a&&(a=k);return a.$read()},E.$$s=K,E.$$arity=1,E)),K.$shift()}catch(La){if(a.rescue(La,[q(m,"StandardError")]))try{return K.$logger().$error(K.$message_with_context("include "+J+" not readable: "+ka,v(["source_location"],{source_location:K.$cursor()}))),K.$replace_next_line("Unresolved directive in "+
K.path+" - include::"+Q+"["+p+"]")}finally{a.pop_exception()}else throw La;}K.$push_include(da,ka,ta,1,V)}return!0}return k},V.$$arity=2);a.def(d,"$resolve_include_path",J=function(a,b,d){var f,g,h,l=k,p=k;l=k;l=this.document;if(n(n(f=q(m,"Helpers")["$uriish?"](a))?f:n(c("::","String")["$==="](this.dir))?k:a=""+this.dir+"/"+a)){if(!n(l["$attr?"]("allow-uri-read")))return n(a["$include?"](" "))&&(a="pass:c["+a+"]"),this.$replace_next_line("link:"+a+"[role=include]");n(l["$attr?"]("cache-uri"))?n((g=
c("::","OpenURI","skip_raise"))&&(f=c(g,"Cache","skip_raise"))?"constant":k)||q(m,"Helpers").$require_library("open-uri/cached","open-uri-cached"):n(q(m,"RUBY_ENGINE_OPAL")["$!"]())&&c("::","OpenURI");return[c("::","URI").$parse(a),"uri",a]}p=l.$normalize_system_path(a,this.dir,k,v(["target_name"],{target_name:"include file"}));if(!n(c("::","File")["$file?"](p))){if(n(d["$[]"]("optional-option")))return e(this.$logger(),"info",[],(h=function(){var a=h.$$s||this;return a.$message_with_context("optional include dropped because include file not found: "+
p,v(["source_location"],{source_location:a.$cursor()}))},h.$$s=this,h.$$arity=0,h)),this.$shift(),!0;this.$logger().$error(this.$message_with_context("include file not found: "+p,v(["source_location"],{source_location:this.$cursor()})));return this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+a+"["+b+"]")}l=l.$path_resolver().$relative_path(p,l.$base_dir());return[p,"file",l]},J.$$arity=3);a.def(d,"$pop_include",Y=function(){if(!n(this.include_stack["$empty?"]())){var b=
this.include_stack.$pop();var c=a.to_ary(b);this.lines=null==c[0]?k:c[0];this.file=null==c[1]?k:c[1];this.dir=null==c[2]?k:c[2];this.path=null==c[3]?k:c[3];this.lineno=null==c[4]?k:c[4];this.maxdepth=null==c[5]?k:c[5];this.process_lines=null==c[6]?k:c[6];b;this.look_ahead=0}return k},Y.$$arity=0);a.def(d,"$split_delimited_value",N=function(a){return n(a["$include?"](","))?a.$split(","):a.$split(";")},N.$$arity=1);a.def(d,"$skip_front_matter!",xa=function(c,d){var f,g,l;null==d&&(d=!0);if(!(g=c["$[]"](0))["$=="]("---"))return k;
var p=c.$drop(0);c.$shift();var m=[];n(d)&&(this.lineno=b(this.lineno,1));for(;!n(n(f=l=c["$empty?"]())?f:c["$[]"](0)["$=="](g));)m["$<<"](c.$shift()),n(d)&&(this.lineno=b(this.lineno,1));if(n(l))return e(c,"unshift",a.to_a(p)),n(d)&&(this.lineno=h(this.lineno,p.$size())),k;c.$shift();n(d)&&(this.lineno=b(this.lineno,1));return m},xa.$$arity=-2);return(a.def(d,"$resolve_expr_val",O=function(a){var b,c;n(n(b=n(c=a["$start_with?"]('"'))?a["$end_with?"]('"'):c)?b:n(c=a["$start_with?"]("'"))?a["$end_with?"]("'"):
c)?(b=!0,a=a.$slice(1,h(a.$length(),1))):b=!1;n(a["$include?"](q(m,"ATTR_REF_HEAD")))&&(a=this.document.$sub_attributes(a,v(["attribute_missing"],{attribute_missing:"drop"})));return n(b)?a:n(a["$empty?"]())?k:a["$=="]("true")?!0:a["$=="]("false")?!1:n(a.$rstrip()["$empty?"]())?" ":n(a["$include?"]("."))?a.$to_f():a.$to_i()},O.$$arity=1),k)&&"resolve_expr_val"})(d[0],q(d,"Reader"),d)}(m[0],m)};Opal.modules["asciidoctor/section"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?
a+b:a["$+"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var h=[],l=a.nil,m=a.const_get_relative,k=a.module,c=a.klass,q=a.hash2,p=a.send,t=a.truthy;a.add_stubs("$attr_accessor $attr_reader $=== $+ $level $special $generate_id $title $> $== $sectnum $reftext $! $empty? $sub_placeholder $sub_quotes $compat_mode $[] $attributes $context $assign_numeral $class $object_id $inspect $size $length $chr $[]= $- $gsub $downcase $delete $tr_s $end_with? $chop $start_with? $slice $key? $catalog $unique_id_start_index".split(" "));
return function(d,h){d=[k(d,"Asciidoctor")].concat(h);(function(e,$super,d){e=c(e,$super,"Section");var k=[e].concat(d),h,n,r,u,x,v,A,y;e.$$prototype.document=e.$$prototype.next_section_index=e.$$prototype.level=e.$$prototype.parent=e.$$prototype.numeral=e.$$prototype.numbered=e.$$prototype.sectname=e.$$prototype.title=e.$$prototype.blocks=l;e.$attr_accessor("index");e.$attr_accessor("sectname");e.$attr_accessor("special");e.$attr_accessor("numbered");e.$attr_reader("caption");a.def(e,"$initialize",
h=function(c,e,d,g){var n,r;h.$$p&&(h.$$p=null);null==c&&(c=l);null==e&&(e=l);null==d&&(d=!1);null==g&&(g=q([],{}));p(this,a.find_super_dispatcher(this,"initialize",h,!1),[c,"section",g],null);t(m(k,"Section")["$==="](c))?(n=[t(r=e)?r:b(c.$level(),1),c.$special()],this.level=n[0],this.special=n[1]):(n=[t(r=e)?r:1,!1],this.level=n[0],this.special=n[1]);n;this.numbered=d;return this.index=0},h.$$arity=-1);a.alias(e,"name","title");a.def(e,"$generate_id",n=function(){return m(k,"Section").$generate_id(this.$title(),
this.document)},n.$$arity=0);a.def(e,"$sections?",r=function(){return g(this.next_section_index,0)},r.$$arity=0);a.def(e,"$sectnum",u=function(a,b){var c;null==a&&(a=".");null==b&&(b=l);b=t(c=b)?c:b["$=="](!1)?"":a;return t(t(c=g(this.level,1))?m(k,"Section")["$==="](this.parent):c)?""+this.parent.$sectnum(a,a)+this.numeral+b:""+this.numeral+b},u.$$arity=-1);a.def(e,"$xreftext",x=function(a){var b,c=l,e=l,d=l;null==a&&(a=l);t(t(b=c=this.$reftext())?c["$empty?"]()["$!"]():b)?b=c:t(a)?(t(this.numbered)?
"full"["$==="](a)?(a=t(t(b=(e=this.sectname)["$=="]("chapter"))?b:e["$=="]("appendix"))?this.$sub_placeholder(this.$sub_quotes("_%s_"),this.$title()):this.$sub_placeholder(this.$sub_quotes(t(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=t(d=this.document.$attributes()["$[]"](""+e+"-refsig"))?""+d+" "+this.$sectnum(".",",")+" "+a:""+this.$sectnum(".",",")+" "+a):a="short"["$==="](a)?t(d=this.document.$attributes()["$[]"](""+this.sectname+"-refsig"))?""+d+" "+this.$sectnum(".",""):
this.$sectnum(".",""):t(t(b=(e=this.sectname)["$=="]("chapter"))?b:e["$=="]("appendix"))?this.$sub_placeholder(this.$sub_quotes("_%s_"),this.$title()):this.$title():a=t(t(b=(e=this.sectname)["$=="]("chapter"))?b:e["$=="]("appendix"))?this.$sub_placeholder(this.$sub_quotes("_%s_"),this.$title()):this.$title(),b=a):b=this.$title();return b},x.$$arity=-1);a.def(e,"$<<",v=function(b){var c=v.$$p,e;c&&(v.$$p=null);var d=0;var g=arguments.length;for(e=Array(g);d<g;d++)e[d]=arguments[d];b.$context()["$=="]("section")&&
this.$assign_numeral(b);return p(this,a.find_super_dispatcher(this,"<<",v,!1),e,c)},v.$$arity=1);a.def(e,"$to_s",A=function(){var b=A.$$p,c;b&&(A.$$p=null);var e=0;var d=arguments.length;for(c=Array(d);e<d;e++)c[e]=arguments[e];return t(this.title)?(b=t(this.numbered)?""+this.$sectnum()+" "+this.title:this.title,"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+b.$inspect()+", blocks: "+this.blocks.$size()+"}>"):p(this,a.find_super_dispatcher(this,"to_s",A,!1),c,b)},A.$$arity=
0);return(a.defs(e,"$generate_id",y=function(c,e){var d,g,h,n=l,r=g=l;var u=e.$attributes();var q=t(d=u["$[]"]("idprefix"))?d:"_";t(h=u["$[]"]("idseparator"))?(t(d=h.$length()["$=="](1))?u=d:t(g=(n=h["$empty?"]())["$!"]())?(g=["idseparator",h.$chr()],p(u,"[]=",a.to_a(g)),h=g,u=g.length,u="number"===typeof u?u-1:u["$-"](1),u=h=h[u]):u=g,t(u)&&(r=t(t(d=h["$=="]("-"))?d:h["$=="]("."))?" .-":" "+h+".-")):(d=["_"," _.-"],h=d[0],r=d[1],d);c=""+q+c.$downcase().$gsub(m(k,"InvalidSectionIdCharsRx"),"");t(n)?
c=c.$delete(" "):(c=c.$tr_s(r,h),t(c["$end_with?"](h))&&(c=c.$chop()),t(t(d=q["$empty?"]())?c["$start_with?"](h):d)&&(c=c.$slice(1,c.$length())));if(t(e.$catalog()["$[]"]("refs")["$key?"](c))){e=e.$catalog()["$[]"]("refs");for(d=m(k,"Compliance").$unique_id_start_index();t(e["$[]"](q=""+c+h+d));)d=b(d,1);return q}return c},y.$$arity=2),l)&&"generate_id"})(d[0],m(d,"AbstractBlock"),d)}(h[0],h)};Opal.modules["asciidoctor/stylesheets"]=function(a){var b=[],g=a.nil,h=a.const_get_qualified,l=a.const_get_relative,
m=a.module,k=a.klass,c=a.truthy,q=a.hash2;a.add_stubs("$join $new $rstrip $read $primary_stylesheet_data $write $primary_stylesheet_name $stylesheet_basename $for $read_stylesheet $coderay_stylesheet_data $coderay_stylesheet_name $pygments_stylesheet_data $pygments_stylesheet_name".split(" "));return function(b,d){b=[m(b,"Asciidoctor")].concat(d);(function(b,$super,e){b=k(b,$super,"Stylesheets");var d=[b].concat(e),p,m,r,u,t,v,x,A,y,D,z,B,I;b.$$prototype.primary_stylesheet_data=g;a.const_set(d[0],
"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(d[0],"STYLESHEETS_DIR",h("::","File").$join(l(d,"DATA_DIR"),"stylesheets"));b.__instance__=b.$new();a.defs(b,"$instance",p=function(){null==this.__instance__&&(this.__instance__=g);return this.__instance__},p.$$arity=0);a.def(b,"$primary_stylesheet_name",m=function(){return l(d,"DEFAULT_STYLESHEET_NAME")},m.$$arity=0);a.def(b,"$primary_stylesheet_data",r=function(){var a;return this.primary_stylesheet_data=c(a=this.primary_stylesheet_data)?
a:h("::","File").$read(h("::","File").$join(l(d,"STYLESHEETS_DIR"),"asciidoctor-default.css"),q(["mode"],{mode:l(d,"FILE_READ_MODE")})).$rstrip()},r.$$arity=0);a.def(b,"$embed_primary_stylesheet",u=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},u.$$arity=0);a.def(b,"$write_primary_stylesheet",t=function(a){null==a&&(a=".");return h("::","File").$write(h("::","File").$join(a,this.$primary_stylesheet_name()),this.$primary_stylesheet_data(),q(["mode"],{mode:l(d,"FILE_WRITE_MODE")}))},
t.$$arity=-1);a.def(b,"$coderay_stylesheet_name",v=function(){return l(d,"SyntaxHighlighter").$for("coderay").$stylesheet_basename()},v.$$arity=0);a.def(b,"$coderay_stylesheet_data",x=function(){return l(d,"SyntaxHighlighter").$for("coderay").$read_stylesheet()},x.$$arity=0);a.def(b,"$embed_coderay_stylesheet",A=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},A.$$arity=0);a.def(b,"$write_coderay_stylesheet",y=function(a){null==a&&(a=".");return h("::","File").$write(h("::",
"File").$join(a,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data(),q(["mode"],{mode:l(d,"FILE_WRITE_MODE")}))},y.$$arity=-1);a.def(b,"$pygments_stylesheet_name",D=function(a){null==a&&(a=g);return l(d,"SyntaxHighlighter").$for("pygments").$stylesheet_basename(a)},D.$$arity=-1);a.def(b,"$pygments_stylesheet_data",z=function(a){null==a&&(a=g);return l(d,"SyntaxHighlighter").$for("pygments").$read_stylesheet(a)},z.$$arity=-1);a.def(b,"$embed_pygments_stylesheet",B=function(a){null==a&&
(a=g);return"<style>\n"+this.$pygments_stylesheet_data(a)+"\n</style>"},B.$$arity=-1);return(a.def(b,"$write_pygments_stylesheet",I=function(a,b){null==a&&(a=".");null==b&&(b=g);return h("::","File").$write(h("::","File").$join(a,this.$pygments_stylesheet_name(b)),this.$pygments_stylesheet_data(b),q(["mode"],{mode:l(d,"FILE_WRITE_MODE")}))},I.$$arity=-1),g)&&"write_pygments_stylesheet"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/table"]=function(a){function b(a,b){return"number"===typeof a&&
"number"===typeof b?a>b:a["$>"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var c=[],q=a.nil,p=a.const_get_qualified,t=a.const_get_relative,v=a.module,n=
a.klass,e=a.hash2,f=a.send,y=a.truthy,z=a.gvars;a.add_stubs("$attr_accessor $attr_reader $new $[] $> $to_i $< $== $[]= $- $attributes $truncate $* $/ $to_f $empty? $body $each $<< $size $+ $assign_column_widths $warn $logger $update_attributes $assign_width $round $map $shift $reinitialize $head= $nil? $unshift $pop $foot= $parent $sourcemap $dup $header_row? $table $style $merge $delete $=== $start_with? $rstrip $slice $length $advance $lstrip $strip $split $include? $readlines $catalog_inline_anchor $=~ $apply_subs $attr_writer $convert $text $!= $file $lineno $include $to_set $mark $key? $nested? $document $error $message_with_context $cursor_at_prev_line $nil_or_empty? $escape $columns $match $chop $end_with? $gsub $! $push_cellspec $cell_open? $close_cell $take_cellspec $squeeze $upto $times $cursor_before_mark $rowspan $activate_rowspan $colspan $end_of_row? $close_row $private $rows $<=> $effective_column_visits".split(" "));
return function(c,d){c=[v(c,"Asciidoctor")].concat(d);(function(c,$super,d){c=n(c,$super,"Table");var p=[c].concat(d),r,u,x,v,A;c.$$prototype.attributes=c.$$prototype.document=c.$$prototype.has_header_option=c.$$prototype.rows=c.$$prototype.columns=q;a.const_set(p[0],"DEFAULT_PRECISION",4);(function(b,$super,c){b=n(b,$super,"Rows");[b].concat(c);var d,f,g;b.$$prototype.head=b.$$prototype.body=b.$$prototype.foot=q;b.$attr_accessor("head","foot","body");a.def(b,"$initialize",d=function(a,b,c){null==
a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=c},d.$$arity=-1);a.alias(b,"[]","send");a.def(b,"$by_section",f=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]},f.$$arity=0);return(a.def(b,"$to_h",g=function(){return e(["head","body","foot"],{head:this.head,body:this.body,foot:this.foot})},g.$$arity=0),q)&&"to_h"})(p[0],null,p);c.$attr_accessor("columns");c.$attr_accessor("rows");c.$attr_accessor("has_header_option");c.$attr_reader("caption");
a.def(c,"$initialize",r=function(c,e){var d,k,n=q,u=q,x=q;r.$$p&&(r.$$p=null);f(this,a.find_super_dispatcher(this,"initialize",r,!1),[c,"table"],null);this.rows=t(p,"Rows").$new();this.columns=[];this.has_header_option=!1;y(n=e["$[]"]("width"))?y(y(d=b(u=n.$to_i(),100))?d:g(u,1))&&!y(u["$=="](0)?y(k=n["$=="]("0"))?k:n["$=="]("0%"):u["$=="](0))&&(u=100):u=100;c=["tablepcwidth",u];f(this.attributes,"[]=",a.to_a(c));c[h(c.length,1)];y(this.document.$attributes()["$[]"]("pagewidth"))&&(c=["tableabswidth",
(x=l(m(u,100),this.document.$attributes()["$[]"]("pagewidth").$to_f()).$truncate(t(p,"DEFAULT_PRECISION")))["$=="](x.$to_i())?x.$to_i():x],f(this.attributes,"[]=",a.to_a(c)),c[h(c.length,1)]);return y(e["$[]"]("rotate-option"))?(c=["orientation","landscape"],f(this.attributes,"[]=",a.to_a(c)),c[h(c.length,1)]):q},r.$$arity=2);a.def(c,"$header_row?",u=function(){var a,b;return y(y(a=b=this.has_header_option)?this.rows.$body()["$empty?"]():a)?b:q},u.$$arity=0);a.def(c,"$create_columns",x=function(c){var e,
d,n=q,l=q,m=q,r=q;r=q;n=[];l=q;m=0;f(c,"each",[],(e=function(a){var b=e.$$s||this,c;null==a&&(a=q);var d=a["$[]"]("width");n["$<<"](t(p,"Column").$new(b,n.$size(),a));return y(g(d,0))?(l=y(c=l)?c:[])["$<<"](n["$[]"](-1)):m=k(m,d)},e.$$s=this,e.$$arity=1,e));y(b(r=(this.columns=n).$size(),0))&&(r=["colcount",r],f(this.attributes,"[]=",a.to_a(r)),r[h(r.length,1)],y(y(d=b(m,0))?d:l)||(m=q),this.$assign_column_widths(m,l));return q},x.$$arity=1);a.def(c,"$assign_column_widths",v=function(a,c){var d,g,
n,l=q,r=q,u=q,x=q,v=q;null==a&&(a=q);null==c&&(c=q);l=t(p,"DEFAULT_PRECISION");r=u=0;y(a)?(y(c)&&(y(b(a,100))?(x=0,this.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+a+"%")):(x=m(h(100,a),c.$size()).$truncate(l),x.$to_i()["$=="](x)&&(x=x.$to_i()),a=100),v=e(["width","autowidth-option"],{width:x,"autowidth-option":""}),f(c,"each",[],(d=function(a){null==a&&(a=q);return a.$update_attributes(v)},d.$$s=this,d.$$arity=1,d))),f(this.columns,"each",[],(g=function(b){null==
b&&(b=q);return r=k(r,u=b.$assign_width(q,a,l))},g.$$s=this,g.$$arity=1,g))):(u=m(100,this.columns.$size()).$truncate(l),u.$to_i()["$=="](u)&&(u=u.$to_i()),f(this.columns,"each",[],(n=function(a){null==a&&(a=q);return r=k(r,a.$assign_width(u,q,l))},n.$$s=this,n.$$arity=1,n)));r["$=="](100)||this.columns["$[]"](-1).$assign_width(k(h(100,r),u).$round(l),q,l);return q},v.$$arity=-1);return(a.def(c,"$partition_header_footer",A=function(c){var e,d,g,k=q,n=q,l=q;k=(n=["rowcount",(l=this.rows.$body()).$size()],
f(this.attributes,"[]=",a.to_a(n)),n[h(n.length,1)]);y(b(k,0))&&(y(this.has_header_option)?(n=[[f(l.$shift(),"map",[],(e=function(a){null==a&&(a=q);return a.$reinitialize(!0)},e.$$s=this,e.$$arity=1,e))]],f(this.rows,"head=",a.to_a(n)),n[h(n.length,1)],k=h(k,1)):y(this.has_header_option["$nil?"]())&&(this.has_header_option=!1,l.$unshift(f(l.$shift(),"map",[],(d=function(a){null==a&&(a=q);return a.$reinitialize(!1)},d.$$s=this,d.$$arity=1,d)))));y(y(g=b(k,0))?c["$[]"]("footer-option"):g)&&(n=[[l.$pop()]],
f(this.rows,"foot=",a.to_a(n)),n[h(n.length,1)]);return q},A.$$arity=1),q)&&"partition_header_footer"})(c[0],t(c,"AbstractBlock"),c);(function(b,$super,c){b=n(b,$super,"Column");[b].concat(c);var d,g,p,r;b.$$prototype.attributes=q;b.$attr_accessor("style");a.def(b,"$initialize",d=function(b,c,g){var n;d.$$p&&(d.$$p=null);null==g&&(g=e([],{}));f(this,a.find_super_dispatcher(this,"initialize",d,!1),[b,"table_column"],null);this.style=g["$[]"]("style");b=["colnumber",k(c,1)];f(g,"[]=",a.to_a(b));b[h(b.length,
1)];y(n=g["$[]"]("width"))?n:(b=["width",1],f(g,"[]=",a.to_a(b)),b[h(b.length,1)]);y(n=g["$[]"]("halign"))?n:(b=["halign","left"],f(g,"[]=",a.to_a(b)),b[h(b.length,1)]);y(n=g["$[]"]("valign"))?n:(b=["valign","top"],f(g,"[]=",a.to_a(b)),b[h(b.length,1)]);return this.$update_attributes(g)},d.$$arity=-3);a.alias(b,"table","parent");a.def(b,"$assign_width",g=function(b,c,e){var d=q;y(c)&&(b=m(l(this.attributes["$[]"]("width").$to_f(),100),c).$truncate(e),b.$to_i()["$=="](b)&&(b=b.$to_i()));y(this.$parent().$attributes()["$[]"]("tableabswidth"))&&
(c=["colabswidth",(d=l(m(b,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$truncate(e))["$=="](d.$to_i())?d.$to_i():d],f(this.attributes,"[]=",a.to_a(c)),c[h(c.length,1)]);c=["colpcwidth",b];f(this.attributes,"[]=",a.to_a(c));return c[h(c.length,1)]},g.$$arity=3);a.def(b,"$block?",p=function(){return!1},p.$$arity=0);return(a.def(b,"$inline?",r=function(){return!1},r.$$arity=0),q)&&"inline?"})(t(c,"Table"),t(c,"AbstractNode"),c);(function(b,$super,c){b=n(b,$super,"Cell");var d=[b].concat(c),
m,r,u,x,v,A,D,M,B,I;b.$$prototype.document=b.$$prototype.reinitialize_args=b.$$prototype.attributes=b.$$prototype.cursor=b.$$prototype.text=b.$$prototype.subs=b.$$prototype.style=b.$$prototype.inner_document=b.$$prototype.source_location=b.$$prototype.colspan=b.$$prototype.rowspan=q;a.const_set(d[0],"DOUBLE_LF",l(t(d,"LF"),2));b.$attr_accessor("colspan");b.$attr_accessor("rowspan");a.alias(b,"column","parent");b.$attr_reader("inner_document");a.def(b,"$initialize",m=function(b,c,n,l){var p,r,u,x=
q,v=q,A=q,z=q,D=q,M=q,B=q;m.$$p&&(m.$$p=null);null==n&&(n=e([],{}));null==l&&(l=e([],{}));f(this,a.find_super_dispatcher(this,"initialize",m,!1),[b,"table_cell"],null);this.cursor=this.reinitialize_args=q;y(this.document.$sourcemap())&&(this.source_location=l["$[]"]("cursor").$dup());y(b)&&(y(x=b.$table()["$header_row?"]())?y((p=x["$=="]("implicit"))?v=y(r=b.$style())?r:y(u=n)?n["$[]"]("style"):u:x["$=="]("implicit"))&&(y(y(p=v["$=="]("asciidoc"))?p:v["$=="]("literal"))&&(this.reinitialize_args=[b,
c,y(p=n)?n.$merge():p,l]),v=q):v=b.$style(),this.$update_attributes(b.$attributes()));if(y(n))if(y(n["$empty?"]())?this.colspan=this.rowspan=q:(p=[n.$delete("colspan"),n.$delete("rowspan")],this.colspan=p[0],this.rowspan=p[1],p,y(x)||(v=y(p=n["$[]"]("style"))?p:v),this.$update_attributes(n)),b=v,"asciidoc"["$==="](b))if(A=!0,z=l["$[]"]("cursor"),y((c=c.$rstrip())["$start_with?"](t(d,"LF")))){for(b=1;y((c=c.$slice(1,c.$length()))["$start_with?"](t(d,"LF")));)b=k(b,1);z.$advance(b)}else c=c.$lstrip();
else if("literal"["$==="](b))for(D=!0,c=c.$rstrip();y(c["$start_with?"](t(d,"LF")));)c=c.$slice(1,c.$length());else M=!0,c=y(c)?c.$strip():"";else this.colspan=this.rowspan=q,v["$=="]("asciidoc")&&(A=!0,z=l["$[]"]("cursor"));y(A)?(l=this.document.$attributes().$delete("doctitle"),x=c.$split(t(d,"LF"),-1),!y(x["$empty?"]())&&y((B=x["$[]"](0))["$include?"]("::"))&&(A=t(d,"PreprocessorReader").$new(this.document,[B],z).$readlines(),y(B["$=="](A["$[]"](0))?g(A.$size(),2):B["$=="](A["$[]"](0)))||(x.$shift(),
y(A["$empty?"]())||f(x,"unshift",a.to_a(A)))),this.inner_document=t(d,"Document").$new(x,e(["standalone","parent","cursor"],{standalone:!1,parent:this.document,cursor:z})),y(l["$nil?"]())||(z=["doctitle",l],f(this.document.$attributes(),"[]=",a.to_a(z)),z[h(z.length,1)]),this.subs=q):y(D)?(this.content_model="verbatim",this.subs=t(d,"BASIC_SUBS")):(y(M)&&(y(x)?this.cursor=l["$[]"]("cursor"):this.$catalog_inline_anchor(c,l["$[]"]("cursor"))),this.content_model="simple",this.subs=t(d,"NORMAL_SUBS"));
this.text=c;return this.style=v},m.$$arity=-3);a.def(b,"$reinitialize",r=function(b){if(y(b))this.reinitialize_args=q;else{if(y(this.reinitialize_args))return f(p(t(d,"Table"),"Cell"),"new",a.to_a(this.reinitialize_args));this.style=this.attributes["$[]"]("style")}y(this.cursor)&&this.$catalog_inline_anchor();return this},r.$$arity=1);a.def(b,"$catalog_inline_anchor",u=function(a,b){null==a&&(a=this.text);null==b&&(b=q);if(!y(b)){var c=[this.cursor,q];b=c[0];this.cursor=c[1];c}return y(y(c=a["$start_with?"]("[["))?
t(d,"LeadingInlineAnchorRx")["$=~"](a):c)?t(d,"Parser").$catalog_inline_anchor((c=z["~"])===q?q:c["$[]"](1),(c=z["~"])===q?q:c["$[]"](2),this,b,this.document):q},u.$$arity=-1);a.def(b,"$text",x=function(){return this.$apply_subs(this.text,this.subs)},x.$$arity=0);b.$attr_writer("text");a.def(b,"$content",v=function(){var a,b,c=q,g=q;return(c=this.style)["$=="]("asciidoc")?this.inner_document.$convert():y(this.text["$include?"](t(d,"DOUBLE_LF")))?f(this.$text().$split(t(d,"BlankLineRx")),"map",[],
(a=function(b){var f=a.$$s||this,g;null==b&&(b=q);return y(y(g=c)?c["$!="]("header"):g)?t(d,"Inline").$new(f.$parent(),"quoted",b,e(["type"],{type:c})).$convert():b},a.$$s=this,a.$$arity=1,a)):y((g=this.$text())["$empty?"]())?[]:y(y(b=c)?c["$!="]("header"):b)?[t(d,"Inline").$new(this.$parent(),"quoted",g,e(["type"],{type:c})).$convert()]:[g]},v.$$arity=0);a.def(b,"$lines",A=function(){return this.text.$split(t(d,"LF"))},A.$$arity=0);a.def(b,"$source",D=function(){return this.text},D.$$arity=0);a.def(b,
"$file",M=function(){var a;return y(a=this.source_location)?this.source_location.$file():a},M.$$arity=0);a.def(b,"$lineno",B=function(){var a;return y(a=this.source_location)?this.source_location.$lineno():a},B.$$arity=0);return(a.def(b,"$to_s",I=function(){var b,c=I.$$p,e;c&&(I.$$p=null);var d=0;var g=arguments.length;for(e=Array(g);d<g;d++)e[d]=arguments[d];return""+f(this,a.find_super_dispatcher(this,"to_s",I,!1),e,c)+" - [text: "+this.text+", colspan: "+(y(b=this.colspan)?b:1)+", rowspan: "+(y(b=
this.rowspan)?b:1)+", attributes: "+this.attributes+"]"},I.$$arity=0),q)&&"to_s"})(t(c,"Table"),t(c,"AbstractBlock"),c);(function(c,$super,d){c=n(c,$super,"ParserContext");var g=[c].concat(d),l,m,r,u,x,v,A,z,D,B,M,I,C,K,E,F,G,T,J,Q;c.$$prototype.delimiter=c.$$prototype.delimiter_rx=c.$$prototype.buffer=c.$$prototype.cellspecs=c.$$prototype.cell_open=c.$$prototype.format=c.$$prototype.start_cursor_data=c.$$prototype.reader=c.$$prototype.column_visits=c.$$prototype.table=c.$$prototype.current_row=c.$$prototype.colcount=
c.$$prototype.active_rowspans=c.$$prototype.linenum=q;c.$include(t(g,"Logging"));a.const_set(g[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set());a.const_set(g[0],"DELIMITERS",e(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]}));c.$attr_accessor("table");c.$attr_accessor("format");c.$attr_reader("colcount");c.$attr_accessor("buffer");c.$attr_reader("delimiter");c.$attr_reader("delimiter_re");a.def(c,"$initialize",l=function(b,c,d){var f;null==
d&&(d=e([],{}));this.start_cursor_data=(this.reader=b).$mark();this.table=c;y(d["$key?"]("format"))?y(t(g,"FORMATS")["$include?"](f=d["$[]"]("format")))?f["$=="]("tsv")?this.format="csv":y((this.format=f)["$=="]("psv")?c.$document()["$nested?"]():(this.format=f)["$=="]("psv"))&&(f="!sv"):(this.$logger().$error(this.$message_with_context("illegal table format: "+f,e(["source_location"],{source_location:b.$cursor_at_prev_line()}))),b=["psv",y(c.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],
f=b[1],b):(b=["psv",y(c.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],f=b[1],b);y(d["$key?"]("separator"))?y((d=d["$[]"]("separator"))["$nil_or_empty?"]())?(f=t(g,"DELIMITERS")["$[]"](f),b=a.to_ary(f),this.delimiter=null==b[0]?q:b[0],this.delimiter_rx=null==b[1]?q:b[1],f):d["$=="]("\\t")?(f=t(g,"DELIMITERS")["$[]"]("tsv"),b=a.to_ary(f),this.delimiter=null==b[0]?q:b[0],this.delimiter_rx=null==b[1]?q:b[1],f):(b=[d,new RegExp(p("::","Regexp").$escape(d))],this.delimiter=b[0],this.delimiter_rx=
b[1],b):(f=t(g,"DELIMITERS")["$[]"](f),b=a.to_ary(f),this.delimiter=null==b[0]?q:b[0],this.delimiter_rx=null==b[1]?q:b[1],f);this.colcount=y(c.$columns()["$empty?"]())?-1:c.$columns().$size();this.buffer="";this.cellspecs=[];this.cell_open=!1;this.active_rowspans=[0];this.column_visits=0;this.current_row=[];return this.linenum=-1},l.$$arity=-3);a.def(c,"$starts_with_delimiter?",m=function(a){return a["$start_with?"](this.delimiter)},m.$$arity=1);a.def(c,"$match_delimiter",r=function(a){return this.delimiter_rx.$match(a)},
r.$$arity=1);a.def(c,"$skip_past_delimiter",u=function(a){this.buffer=""+this.buffer+a+this.delimiter;return q},u.$$arity=1);a.def(c,"$skip_past_escaped_delimiter",x=function(a){this.buffer=""+this.buffer+a.$chop()+this.delimiter;return q},x.$$arity=1);a.def(c,"$buffer_has_unclosed_quotes?",v=function(a,b){var c,e,d=q;null==a&&(a=q);null==b&&(b='"');if((a=y(a)?k(this.buffer,a).$strip():this.buffer.$strip())["$=="](b))return!0;if(y(a["$start_with?"](b))){var f=k(b,b);return y(y(c=y(e=d=a["$end_with?"](b))?
a["$end_with?"](f):e)?c:a["$start_with?"](f))?y(c=(a=a.$gsub(f,""))["$start_with?"](b))?a["$end_with?"](b)["$!"]():c:d["$!"]()}return!1},v.$$arity=-1);a.def(c,"$take_cellspec",A=function(){return this.cellspecs.$shift()},A.$$arity=0);a.def(c,"$push_cellspec",z=function(a){var b;null==a&&(a=e([],{}));this.cellspecs["$<<"](y(b=a)?b:e([],{}));return q},z.$$arity=-1);a.def(c,"$keep_cell_open",D=function(){this.cell_open=!0;return q},D.$$arity=0);a.def(c,"$mark_cell_closed",B=function(){this.cell_open=
!1;return q},B.$$arity=0);a.def(c,"$cell_open?",M=function(){return this.cell_open},M.$$arity=0);a.def(c,"$cell_closed?",I=function(){return this.cell_open["$!"]()},I.$$arity=0);a.def(c,"$close_open_cell",C=function(a){null==a&&(a=e([],{}));this.$push_cellspec(a);y(this["$cell_open?"]())&&this.$close_cell(!0);this.$advance();return q},C.$$arity=-1);a.def(c,"$close_cell",K=function(c){var d,n,l=q,m=q,r=q,u=q;null==c&&(c=!1);this.format["$=="]("psv")?(l=this.buffer,this.buffer="",y(m=this.$take_cellspec())?
r=y(d=m.$delete("repeatcol"))?d:1:(this.$logger().$error(this.$message_with_context("table missing leading separator; recovering automatically",e(["source_location"],{source_location:f(p(t(g,"Reader"),"Cursor"),"new",a.to_a(this.start_cursor_data))}))),m=e([],{}),r=1)):(l=this.buffer.$strip(),this.buffer="",m=q,r=1,y(y(d=this.format["$=="]("csv")?l["$empty?"]()["$!"]():this.format["$=="]("csv"))?l["$include?"](u='"'):d)&&(y(y(d=l["$start_with?"](u))?l["$end_with?"](u):d)?y(l=l.$slice(1,h(l.$length(),
2)))?l=l.$strip().$squeeze(u):(this.$logger().$error(this.$message_with_context("unclosed quote in CSV data; setting cell to empty",e(["source_location"],{source_location:this.reader.$cursor_at_prev_line()}))),l=""):l=l.$squeeze(u)));f(1,"upto",[r],(n=function(a){var d=n.$$s||this,u,x,v,A,z=q,D=q,B=q,M=q;M=z=q;null==d.colcount&&(d.colcount=q);null==d.table&&(d.table=q);null==d.current_row&&(d.current_row=q);null==d.reader&&(d.reader=q);null==d.column_visits&&(d.column_visits=q);null==d.linenum&&(d.linenum=
q);null==a&&(a=q);d.colcount["$=="](-1)?(d.table.$columns()["$<<"](z=p(t(g,"Table"),"Column").$new(d.table,h(k(d.table.$columns().$size(),a),1))),y(y(u=y(x=m)?m["$key?"]("colspan"):x)?b(D=h(m["$[]"]("colspan").$to_i(),1),0):u)&&(B=d.table.$columns().$size(),f(D,"times",[],(v=function(a){var b=v.$$s||this;null==b.table&&(b.table=q);null==a&&(a=q);return b.table.$columns()["$<<"](p(t(g,"Table"),"Column").$new(b.table,k(B,a)))},v.$$s=d,v.$$arity=1,v)))):z=d.table.$columns()["$[]"](d.current_row.$size());
M=p(t(g,"Table"),"Cell").$new(z,l,m,e(["cursor"],{cursor:z=d.reader.$cursor_before_mark()}));d.reader.$mark();y(y(u=M.$rowspan()["$!"]())?u:M.$rowspan()["$=="](1))||d.$activate_rowspan(M.$rowspan(),y(u=M.$colspan())?u:1);d.column_visits=k(d.column_visits,y(u=M.$colspan())?u:1);d.current_row["$<<"](M);return y(y(u=b(M=d["$end_of_row?"](),-1))?y(x=y(A=d.colcount["$!="](-1))?A:b(d.linenum,0))?x:y(A=c)?a["$=="](r):A:u)?y(b(M,0))?(d.$logger().$error(d.$message_with_context("dropping cell because it exceeds specified number of columns",
e(["source_location"],{source_location:z}))),d.$close_row(!0)):d.$close_row():q},n.$$s=this,n.$$arity=1,n));this.cell_open=!1;return q},K.$$arity=-1);a.def(c,"$close_table",E=function(){if(this.column_visits["$=="](0))return q;this.$logger().$error(this.$message_with_context("dropping cells from incomplete row detected end of table",e(["source_location"],{source_location:this.reader.$cursor_before_mark()})));return q},E.$$arity=0);c.$private();a.def(c,"$close_row",F=function(b){var c,e=q;null==b&&
(b=!1);if(!y(b))this.table.$rows().$body()["$<<"](this.current_row);this.colcount["$=="](-1)&&(this.colcount=this.column_visits);this.column_visits=0;this.current_row=[];this.active_rowspans.$shift();y(c=this.active_rowspans["$[]"](0))?c:(e=[0,0],f(this.active_rowspans,"[]=",a.to_a(e)),e[h(e.length,1)]);return q},F.$$arity=-1);a.def(c,"$activate_rowspan",G=function(b,c){var e;f(1,"upto",[h(b,1)],(e=function(b){var d=e.$$s||this,g;null==d.active_rowspans&&(d.active_rowspans=q);null==b&&(b=q);b=[b,
k(y(g=d.active_rowspans["$[]"](b))?g:0,c)];f(d.active_rowspans,"[]=",a.to_a(b));return b[h(b.length,1)]},e.$$s=this,e.$$arity=1,e));return q},G.$$arity=2);a.def(c,"$end_of_row?",T=function(){return this.colcount["$=="](-1)?0:this.$effective_column_visits()["$<=>"](this.colcount)},T.$$arity=0);a.def(c,"$effective_column_visits",J=function(){return k(this.column_visits,this.active_rowspans["$[]"](0))},J.$$arity=0);return(a.def(c,"$advance",Q=function(){return this.linenum=k(this.linenum,1)},Q.$$arity=
0),q)&&"advance"})(t(c,"Table"),null,c)}(c[0],c)};Opal.modules["asciidoctor/writer"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var g=[],h=a.nil,l=a.const_get_qualified,m=a.const_get_relative,k=a.module,c=a.truthy,q=a.hash2;a.add_stubs(["$respond_to?","$write","$+","$chomp","$include"]);return function(d,g){d=[k(d,"Asciidoctor")].concat(g);(function(d,g){d=k(d,"Writer");var e=[d].concat(g),f;a.def(d,"$write",f=function(a,d){c(d["$respond_to?"]("write"))?
d.$write(b(a.$chomp(),m(e,"LF"))):l("::","File").$write(d,a,q(["mode"],{mode:m(e,"FILE_WRITE_MODE")}));return h},f.$$arity=2)})(d[0],d);(function(b,c){b=k(b,"VoidWriter");c=[b].concat(c);var e;b.$include(m(c,"Writer"));a.def(b,"$write",e=function(a,b){return h},e.$$arity=2)})(d[0],d)}(g[0],g)};Opal.modules["asciidoctor/load"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var h=
[],l=a.nil,m=a.const_get_qualified,k=a.const_get_relative,c=a.module,q=a.hash2,p=a.truthy,t=a.send;a.add_stubs("$merge $[] $start $key? $!= $logger $new $logger= $- $! $=== $dup $tap $each $partition $[]= $split $gsub $+ $respond_to? $keys $raise $join $ancestors $class $== $at $to_i $mtime $absolute_path $path $dirname $basename $extname $read $rewind $drop $record $parse $exception $message $set_backtrace $backtrace $stack_trace $stack_trace= $open $load".split(" "));return function(d,h){d=c(d,
"Asciidoctor");h=[d].concat(h);(function(c,d){var e=[c].concat(d),f,h;a.def(c,"$load",f=function(c,d){var f,h,n,r,u,v,y=l,A=l,z=l,D=l,B=l,M=l,I=l,C=l,E=l,K=l;null==d&&(d=q([],{}));try{d=d.$merge();p(y=d["$[]"]("timings"))&&y.$start("read");p(p(f=d["$key?"]("logger"))?(A=d["$[]"]("logger"))["$!="](k(e,"LoggerManager").$logger()):f)&&(z=[p(f=A)?f:k(e,"NullLogger").$new()],t(k(e,"LoggerManager"),"logger=",a.to_a(z)),z[b(z.length,1)]);p((D=d["$[]"]("attributes"))["$!"]())?D=q([],{}):p(m("::","Hash")["$==="](D))?
D=D.$merge():p(p(f=(n=m("::","Java","skip_raise"))&&(h=m(n,"JavaUtil","skip_raise"))&&m(h,"Map","skip_raise")?"constant":l)?m(m(m("::","Java"),"JavaUtil"),"Map")["$==="](D):f)?D=D.$dup():p(m("::","Array")["$==="](D))?D=t(q([],{}),"tap",[],(r=function(c){var e=r.$$s||this,d;null==c&&(c=l);return t(D,"each",[],(d=function(e){null==e&&(e=l);e=e.$partition("=");var d=a.to_ary(e);var f=null==d[0]?l:d[0];d=null==d[2]?l:d[2];e;z=[f,d];t(c,"[]=",a.to_a(z));return z[b(z.length,1)]},d.$$s=e,d.$$arity=1,d))},
r.$$s=this,r.$$arity=1,r)):p(m("::","String")["$==="](D))?D=t(q([],{}),"tap",[],(u=function(c){var d=u.$$s||this,f;null==c&&(c=l);return t(D.$gsub(k(e,"SpaceDelimiterRx"),g("\\1",k(e,"NULL"))).$gsub(k(e,"EscapedSpaceRx"),"\\1").$split(k(e,"NULL")),"each",[],(f=function(e){null==e&&(e=l);e=e.$partition("=");var d=a.to_ary(e);var f=null==d[0]?l:d[0];d=null==d[2]?l:d[2];e;z=[f,d];t(c,"[]=",a.to_a(z));return z[b(z.length,1)]},f.$$s=d,f.$$arity=1,f))},u.$$s=this,u.$$arity=1,u)):p(p(f=D["$respond_to?"]("keys"))?
D["$respond_to?"]("[]"):f)?D=t(q([],{}),"tap",[],(v=function(c){var e=v.$$s||this,d;null==c&&(c=l);return t(D.$keys(),"each",[],(d=function(e){null==e&&(e=l);z=[e,D["$[]"](e)];t(c,"[]=",a.to_a(z));return z[b(z.length,1)]},d.$$s=e,d.$$arity=1,d))},v.$$s=this,v.$$arity=1,v)):this.$raise(m("::","ArgumentError"),"illegal type for attributes option: "+D.$class().$ancestors().$join(" < "));if(p(m("::","File")["$==="](c)))z=["input_mtime",k(e,"RUBY_ENGINE")["$=="]("jruby")?m("::","Time").$at(c.$mtime().$to_i()):
c.$mtime()],t(d,"[]=",a.to_a(z)),z[b(z.length,1)],z=["docfile",B=m("::","File").$absolute_path(c.$path())],t(D,"[]=",a.to_a(z)),z[b(z.length,1)],z=["docdir",m("::","File").$dirname(B)],t(D,"[]=",a.to_a(z)),z[b(z.length,1)],z=["docname",k(e,"Helpers").$basename(B,(z=["docfilesuffix",k(e,"Helpers").$extname(B)],t(D,"[]=",a.to_a(z)),z[b(z.length,1)]))],t(D,"[]=",a.to_a(z)),z[b(z.length,1)],M=c.$read();else if(p(c["$respond_to?"]("read"))){try{c.$rewind()}catch(ja){if(a.rescue(ja,[k(e,"StandardError")]))try{l}finally{a.pop_exception()}else throw ja;
}M=c.$read()}else p(m("::","String")["$==="](c))?M=c:p(m("::","Array")["$==="](c))?M=c.$drop(0):p(c)&&this.$raise(m("::","ArgumentError"),"unsupported input type: "+c.$class());p(y)&&(y.$record("read"),y.$start("parse"));z=["attributes",D];t(d,"[]=",a.to_a(z));z[b(z.length,1)];I=d["$[]"]("parse")["$=="](!1)?k(e,"Document").$new(M,d):k(e,"Document").$new(M,d).$parse();p(y)&&y.$record("parse");return I}catch(ja){if(a.rescue(ja,[k(e,"StandardError")])){C=ja;try{try{E="asciidoctor: FAILED: "+(p(f=D["$[]"]("docfile"))?
f:"<stdin>")+": Failed to load AsciiDoc document",p(C["$respond_to?"]("exception"))?(K=C.$exception(""+E+" - "+C.$message()),K.$set_backtrace(C.$backtrace())):(K=C.$class().$new(E,C),z=[C.$stack_trace()],t(K,"stack_trace=",a.to_a(z)),z[b(z.length,1)])}catch(W){if(a.rescue(W,[k(e,"StandardError")]))try{K=C}finally{a.pop_exception()}else throw W;}return this.$raise(K)}finally{a.pop_exception()}}else throw ja;}},f.$$arity=-2);return(a.def(c,"$load_file",h=function(a,b){var c;null==b&&(b=q([],{}));return t(m("::",
"File"),"open",[a,k(e,"FILE_READ_MODE")],(c=function(a){var e=c.$$s||this;null==a&&(a=l);return e.$load(a,b)},c.$$s=this,c.$$arity=1,c))},h.$$arity=-2),l)&&"load_file"})(a.get_singleton_class(d),h)}(h[0],h)};Opal.modules["asciidoctor/convert"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var h=[],l=a.nil,m=a.const_get_qualified,k=a.const_get_relative,c=a.module,q=a.hash2,p=
a.truthy,t=a.send;a.add_stubs("$delete $merge $=== $absolute_path $path $load $respond_to? $[]= $- $key? $fetch $[] $dirname $expand_path $join $attributes $outfilesuffix $== $raise $pwd $>= $safe $normalize_system_path $mkdir_p $directory? $! $convert $write $< $attr? $basebackend? $attr $uriish? $include? $syntax_highlighter $write_stylesheet? $write_primary_stylesheet $instance $to_s $!= $read_asset $file? $write_stylesheet $open".split(" "));return function(d,h){d=c(d,"Asciidoctor");h=[d].concat(h);
(function(c,d){var e=[c].concat(d),f,h;a.def(c,"$convert",f=function(c,d){var f,h,n,u,r,v,y=l,A=l,z=r=l,D=l,B=l,M=l,C=l,I=l,E=l,K=l,F=l,G=l;null==d&&(d=q([],{}));(d=d.$merge()).$delete("parse");var J=d.$delete("to_dir");var T=d.$delete("mkdirs");var Q=v=d.$delete("to_file");if((!0)["$==="](Q)||l["$==="](Q))p(y=J)||p(m("::","File")["$==="](c))&&(A=m("::","File").$absolute_path(c.$path())),v=l;else if((!1)["$==="](Q))v=l;else{if("/dev/null"["$==="](Q))return this.$load(c,d);p(r=v["$respond_to?"]("write"))||
(Q=["to_file",y=v],t(d,"[]=",a.to_a(Q)),Q[b(Q.length,1)])}p(d["$key?"]("standalone"))||(p(p(f=A)?f:y)?(Q=["standalone",d.$fetch("header_footer",!0)],t(d,"[]=",a.to_a(Q)),Q[b(Q.length,1)]):p(d["$key?"]("header_footer"))&&(Q=["standalone",d["$[]"]("header_footer")],t(d,"[]=",a.to_a(Q)),Q[b(Q.length,1)]));p(A)?(Q=["to_dir",z=m("::","File").$dirname(A)],t(d,"[]=",a.to_a(Q)),Q[b(Q.length,1)]):p(y)&&(p(J)?(Q=p(v)?["to_dir",m("::","File").$dirname(m("::","File").$expand_path(v,J))]:["to_dir",m("::","File").$expand_path(J)],
t(d,"[]=",a.to_a(Q)),Q[b(Q.length,1)]):p(v)&&(Q=["to_dir",m("::","File").$dirname(m("::","File").$expand_path(v))],t(d,"[]=",a.to_a(Q)),Q[b(Q.length,1)]));Q=this.$load(c,d);p(A)?(D=m("::","File").$join(z,""+Q.$attributes()["$[]"]("docname")+Q.$outfilesuffix()),D["$=="](A)&&this.$raise(m("::","IOError"),"input file and output file cannot be the same: "+D)):p(y)?(d=p(d["$key?"]("base_dir"))?m("::","File").$expand_path(d["$[]"]("base_dir")):m("::","Dir").$pwd(),y=p(g(Q.$safe(),m(k(e,"SafeMode"),"SAFE")))?
d:l,p(J)?(z=Q.$normalize_system_path(J,d,y,q(["target_name","recover"],{target_name:"to_dir",recover:!1})),p(v)?(D=Q.$normalize_system_path(v,z,l,q(["target_name","recover"],{target_name:"to_dir",recover:!1})),z=m("::","File").$dirname(D)):D=m("::","File").$join(z,""+Q.$attributes()["$[]"]("docname")+Q.$outfilesuffix())):p(v)&&(D=Q.$normalize_system_path(v,d,y,q(["target_name","recover"],{target_name:"to_dir",recover:!1})),z=m("::","File").$dirname(D)),p(p(f=m("::","File")["$==="](c))?D["$=="](m("::",
"File").$absolute_path(c.$path())):f)&&this.$raise(m("::","IOError"),"input file and output file cannot be the same: "+D),p(T)?k(e,"Helpers").$mkdir_p(z):p(m("::","File")["$directory?"](z))||this.$raise(m("::","IOError"),"target directory does not exist: "+J+" (hint: set :mkdirs option)")):(D=v,z=l);c=p(p(f=D)?r["$!"]():f)?Q.$convert(q(["outfile","outdir"],{outfile:D,outdir:z})):Q.$convert();return p(D)?(Q.$write(c,D),p(r=r["$!"]())&&(r=Q.$safe(),D=m(k(e,"SafeMode"),"SECURE"),r="number"===typeof r&&
"number"===typeof D?r<D:r["$<"](D)),p(p(f=p(h=p(n=p(u=r)?Q["$attr?"]("linkcss"):u)?Q["$attr?"]("copycss"):n)?Q["$basebackend?"]("html"):h)?(p(h=B=Q.$attr("stylesdir"))?k(e,"Helpers")["$uriish?"](B):h)["$!"]():f)&&(p(M=Q.$attr("stylesheet"))&&(p(k(e,"DEFAULT_STYLESHEET_KEYS")["$include?"](M))?C=!0:p(k(e,"Helpers")["$uriish?"](M)["$!"]())&&(I=!0)),n=p(f=E=Q.$syntax_highlighter())?E["$write_stylesheet?"](Q):f,p(p(f=p(h=C)?h:I)?f:n)&&(h=Q.$normalize_system_path(B,z,p(g(Q.$safe(),m(k(e,"SafeMode"),"SAFE")))?
z:l),p(T)?k(e,"Helpers").$mkdir_p(h):p(m("::","File")["$directory?"](h))||this.$raise(m("::","IOError"),"target stylesheet directory does not exist: "+h+" (hint: set :mkdirs option)"),p(C)?k(e,"Stylesheets").$instance().$write_primary_stylesheet(h):p(I)&&(K=p(p(f=(K=Q.$attr("copycss"))["$=="](""))?f:K["$=="](!0))?Q.$normalize_system_path(M):Q.$normalize_system_path(K.$to_s()),z=Q.$normalize_system_path(M,h,p(g(Q.$safe(),m(k(e,"SafeMode"),"SAFE")))?z:l),p(p(f=K["$!="](z))?F=Q.$read_asset(K,q(["warn_on_failure",
"label"],{warn_on_failure:m("::","File")["$file?"](z)["$!"](),label:"stylesheet"})):f)&&(p(p(f=(G=m("::","File").$dirname(z))["$!="](h))?m("::","File")["$directory?"](G)["$!"]():f)&&(p(T)?k(e,"Helpers").$mkdir_p(G):this.$raise(m("::","IOError"),"target stylesheet directory does not exist: "+G+" (hint: set :mkdirs option)")),m("::","File").$write(z,F,q(["mode"],{mode:k(e,"FILE_WRITE_MODE")})))),p(n)&&E.$write_stylesheet(Q,h))),Q):c},f.$$arity=-2);a.def(c,"$convert_file",h=function(a,b){var c;null==
b&&(b=q([],{}));return t(m("::","File"),"open",[a,k(e,"FILE_READ_MODE")],(c=function(a){var d=c.$$s||this;null==a&&(a=l);return d.$convert(a,b)},c.$$s=this,c.$$arity=1,c))},h.$$arity=-2);a.alias(c,"render","convert");return a.alias(c,"render_file","convert_file")})(a.get_singleton_class(d),h)}(h[0],h)};Opal.modules["asciidoctor/syntax_highlighter/highlightjs"]=function(a){var b=[],g=a.nil,h=a.const_get_qualified,l=a.const_get_relative,m=a.module,k=a.klass,c=a.send,q=a.hash2,p=a.truthy;a.add_stubs("$register_for $merge $proc $[]= $- $attr $[] $== $attr? $join $map $split $lstrip".split(" "));
return function(b,d){b=[m(b,"Asciidoctor")].concat(d);(function(b,$super,d){b=k(b,$super,"HighlightJsAdapter");var f=[b].concat(d),h,n,m,u;b.$register_for("highlightjs","highlight.js");a.def(b,"$initialize",h=function(b){var d=h.$$p,f;d&&(h.$$p=null);var g=0;var k=arguments.length;for(f=Array(k);g<k;g++)f[g]=arguments[g];a.slice.call(arguments,0,arguments.length);c(this,a.find_super_dispatcher(this,"initialize",h,!1),f,d);return this.name=this.pre_class="highlightjs"},h.$$arity=-1);a.def(b,"$format",
n=function(b,d,f){var k;n.$$p&&(n.$$p=null);return c(this,a.find_super_dispatcher(this,"format",n,!1),[b,d,f.$merge(q(["transform"],{transform:c(this,"proc",[],(k=function(b,f){null==f&&(f=g);b=["class","language-"+(p(d)?d:"none")+" hljs"];c(f,"[]=",a.to_a(b));f=b.length;f="number"===typeof f?f-1:f["$-"](1);return b[f]},k.$$s=this,k.$$arity=2,k))}))],null)},n.$$arity=3);a.def(b,"$docinfo?",m=function(a){return!0},m.$$arity=1);return(a.def(b,"$docinfo",u=function(a,b,d){var k,h=this,n=g;n=b.$attr("highlightjsdir",
""+d["$[]"]("cdn_base_url")+"/highlight.js/"+l(f,"HIGHLIGHT_JS_VERSION"));return a["$=="]("head")?'<link rel="stylesheet" href="'+n+"/styles/"+b.$attr("highlightjs-theme","github")+'.min.css"'+d["$[]"]("self_closing_tag_slash")+">":'<script src="'+n+'/highlight.min.js">\x3c/script>\n'+function(){return p(b["$attr?"]("highlightjs-languages"))?c(b.$attr("highlightjs-languages").$split(","),"map",[],(k=function(a){null==a&&(a=g);return'<script src="'+n+"/languages/"+a.$lstrip()+'.min.js">\x3c/script>\n'},
k.$$s=h,k.$$arity=1,k)).$join():""}()+"<script>\nif (!hljs.initHighlighting.called) {\n  hljs.initHighlighting.called = true\n  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })\n}\n\x3c/script>"},u.$$arity=3),g)&&"docinfo"})(l(b,"SyntaxHighlighter"),h(l(b,"SyntaxHighlighter"),"Base"),b)}(b[0],b)};Opal.modules["asciidoctor/syntax_highlighter"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-
b:a["$-"](b)}var g=a.top,h=[],l=a.nil,m=a.const_get_qualified,k=a.const_get_relative,c=a.module,q=a.hash2,p=a.send,t=a.truthy,v=a.klass;a.add_stubs("$attr_reader $raise $class $extend $private_class_method $register $map $to_s $each $[]= $registry $- $[] $for $=== $new $name $private $include $== $delete $join $content".split(" "));(function(d,e){d=[c(d,"Asciidoctor")].concat(e);(function(d,e){d=c(d,"SyntaxHighlighter");var f=[d].concat(e),g,h,n,u,r,y,A,z,D;d.$attr_reader("name");a.def(d,"$initialize",
g=function(a,b,c){null==c&&q([],{});return this.name=this.pre_class=a},g.$$arity=-2);a.def(d,"$docinfo?",h=function(a){return l},h.$$arity=1);a.def(d,"$docinfo",n=function(a,b,c){return this.$raise(m("::","NotImplementedError"),""+k(f,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #docinfo method since #docinfo? returns true")},n.$$arity=3);a.def(d,"$highlight?",u=function(){return l},u.$$arity=0);a.def(d,"$highlight",r=function(a,b,c,d){return this.$raise(m("::","NotImplementedError"),
""+k(f,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #highlight method since #highlight? returns true")},r.$$arity=4);a.def(d,"$format",y=function(a,b,c){return this.$raise(m("::","NotImplementedError"),""+k(f,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #format method")},y.$$arity=3);a.def(d,"$write_stylesheet?",A=function(a){return l},A.$$arity=1);a.def(d,"$write_stylesheet",z=function(a,b){return this.$raise(m("::","NotImplementedError"),""+k(f,"SyntaxHighlighter")+
" subclass "+this.$class()+" must implement the #write_stylesheet method since #write_stylesheet? returns true")},z.$$arity=2);a.defs(d,"$included",D=function(a){return a.$extend(k(f,"Config"))},D.$$arity=1);d.$private_class_method("included");(function(b,d){b=c(b,"Config");var e=[b].concat(d),f;a.def(b,"$register_for",f=function(b){var c;var d=a.slice.call(arguments,0,arguments.length);return p(k(e,"SyntaxHighlighter"),"register",[this].concat(a.to_a(p(d,"map",[],(c=function(a){null==a&&(a=l);return a.$to_s()},
c.$$s=this,c.$$arity=1,c)))))},f.$$arity=-1)})(f[0],f);(function(d,e){d=c(d,"Factory");var f=[d].concat(e),g,h,n,u;a.def(d,"$register",g=function(c,d){var e;var f=a.slice.call(arguments,1,arguments.length);return p(f,"each",[],(e=function(d){var f=e.$$s||this;null==d&&(d=l);d=[d,c];p(f.$registry(),"[]=",a.to_a(d));return d[b(d.length,1)]},e.$$s=this,e.$$arity=1,e))},g.$$arity=-2);a.def(d,"$for",h=function(a){return this.$registry()["$[]"](a)},h.$$arity=1);a.def(d,"$create",n=function(a,b,c){var d;
null==b&&(b="html5");null==c&&(c=q([],{}));return t(d=this.$for(a))?(t(m("::","Class")["$==="](d))&&(d=d.$new(a,b,c)),t(d.$name())||this.$raise(m("::","NameError"),""+d.$class()+" must specify a value for `name'"),d):l},n.$$arity=-2);d.$private();a.def(d,"$registry",u=function(){return this.$raise(m("::","NotImplementedError"),""+k(f,"Factory")+" subclass "+this.$class()+" must implement the #registry method")},u.$$arity=0)})(f[0],f);(function(b,$super,c){b=v(b,$super,"CustomFactory");c=[b].concat(c);
var d;b.$include(k(c,"Factory"));a.def(b,"$initialize",d=function(a){var b;null==a&&(a=l);return this.registry=t(b=a)?b:q([],{})},d.$$arity=-1);b.$private();return b.$attr_reader("registry")})(f[0],null,f);(function(b,d){b=c(b,"DefaultFactory");var e=[b].concat(d),f;b.$include(k(e,"Factory"));a.class_variable_set(e[0],"@@registry",q([],{}));b.$private();a.def(b,"$registry",f=function(){var a;return null==(a=e[0].$$cvars["@@registry"])?l:a},f.$$arity=0);k(e,"RUBY_ENGINE")["$=="]("opal")||l})(f[0],
f);(function(a,$super,b){a=v(a,$super,"DefaultFactoryProxy");b=[a].concat(b);a.$include(k(b,"DefaultFactory"));k(b,"RUBY_ENGINE")["$=="]("opal");return l})(f[0],k(f,"CustomFactory"),f);(function(c,$super,d){c=v(c,$super,"Base");d=[c].concat(d);var e;c.$$prototype.pre_class=l;c.$include(k(d,"SyntaxHighlighter"));return(a.def(c,"$format",e=function(c,d,e){var f,g,k=l,h=l,n=h=k=l;k=t(e["$[]"]("nowrap"))?""+this.pre_class+" highlight nowrap":""+this.pre_class+" highlight";return t(h=e["$[]"]("transform"))?
(h["$[]"](k=q(["class"],{"class":k}),h=t(d)?q(["data-lang"],{"data-lang":d}):q([],{})),t(d=h.$delete("data-lang"))&&(n=["data-lang",d],p(h,"[]=",a.to_a(n)),n[b(n.length,1)]),"<pre"+p(k,"map",[],(f=function(a,b){null==a&&(a=l);null==b&&(b=l);return" "+a+'="'+b+'"'},f.$$s=this,f.$$arity=2,f)).$join()+"><code"+p(h,"map",[],(g=function(a,b){null==a&&(a=l);null==b&&(b=l);return" "+a+'="'+b+'"'},g.$$s=this,g.$$arity=2,g)).$join()+">"+c.$content()+"</code></pre>"):'<pre class="'+k+'"><code'+(t(d)?' data-lang="'+
d+'"':"")+">"+c.$content()+"</code></pre>"},e.$$arity=3),l)&&"format"})(f[0],null,f);d.$extend(k(f,"DefaultFactory"))})(d[0],d)})(h[0],h);g.$require("asciidoctor/syntax_highlighter.rb/../syntax_highlighter/highlightjs");k(h,"RUBY_ENGINE")["$=="]("opal");return l};Opal.modules["asciidoctor/timings"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=[],h=a.nil,l=a.const_get_qualified,m=a.const_get_relative,k=a.module,c=a.klass,q=a.hash2,p=a.send,t=a.truthy,
v=a.gvars;a.add_stubs("$now $[]= $- $delete $reduce $+ $[] $> $time $puts $sprintf $to_f $read_parse $convert $read_parse_convert $private $const_defined? $== $clock_gettime".split(" "));return function(d,e){d=[k(d,"Asciidoctor")].concat(e);(function(d,$super,e){d=c(d,$super,"Timings");var f=[d].concat(e),g,k,n,u,r,y,A,z,D,B,C,I,E,F,K,G,J,Q,N;d.$$prototype.timers=d.$$prototype.log=h;a.def(d,"$initialize",g=function(){this.log=q([],{});return this.timers=q([],{})},g.$$arity=0);a.def(d,"$start",k=function(c){c=
[c,this.$now()];p(this.timers,"[]=",a.to_a(c));return c[b(c.length,1)]},k.$$arity=1);a.def(d,"$record",n=function(c){c=[c,b(this.$now(),this.timers.$delete(c))];p(this.log,"[]=",a.to_a(c));return c[b(c.length,1)]},n.$$arity=1);a.def(d,"$time",u=function(b){var c;var d=h;d=a.slice.call(arguments,0,arguments.length);d=p(d,"reduce",[0],(c=function(a,b){var d=c.$$s||this,e;null==d.log&&(d.log=h);null==a&&(a=h);null==b&&(b=h);b=t(e=d.log["$[]"](b))?e:0;return"number"===typeof a&&"number"===typeof b?a+
b:a["$+"](b)},c.$$s=this,c.$$arity=2,c));return t("number"===typeof d?0<d:d["$>"](0))?d:h},u.$$arity=-1);a.def(d,"$read",r=function(){return this.$time("read")},r.$$arity=0);a.def(d,"$parse",y=function(){return this.$time("parse")},y.$$arity=0);a.def(d,"$read_parse",A=function(){return this.$time("read","parse")},A.$$arity=0);a.def(d,"$convert",z=function(){return this.$time("convert")},z.$$arity=0);a.def(d,"$read_parse_convert",D=function(){return this.$time("read","parse","convert")},D.$$arity=
0);a.def(d,"$write",B=function(){return this.$time("write")},B.$$arity=0);a.def(d,"$total",C=function(){return this.$time("read","parse","convert","write")},C.$$arity=0);a.def(d,"$print_report",I=function(a,b){null==v.stdout&&(v.stdout=h);null==a&&(a=v.stdout);null==b&&(b=h);t(b)&&a.$puts("Input file: "+b);a.$puts("  Time to read and parse source: "+this.$sprintf("%05.5f",this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+this.$sprintf("%05.5f",this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+
this.$sprintf("%05.5f",this.$read_parse_convert().$to_f()))},I.$$arity=-1);d.$private();return t(t(E=l("::","Process")["$const_defined?"]("CLOCK_MONOTONIC",!1))?((F=l("::","Process","skip_raise"))&&(K=F,K)&&(G=K)&&((J=G.$clock_gettime)&&!J.$$stub||G["$respond_to_missing?"]("clock_gettime"))?"method":h)["$=="]("method"):E)?(a.const_set(f[0],"CLOCK_ID",l(l("::","Process"),"CLOCK_MONOTONIC")),(a.def(d,"$now",Q=function(){return l("::","Process").$clock_gettime(m(f,"CLOCK_ID"))},Q.$$arity=0),h)&&"now"):
(a.def(d,"$now",N=function(){return l("::","Time").$now()},N.$$arity=0),h)&&"now"})(d[0],null,d)}(g[0],g)};Opal.modules["asciidoctor/converter/composite"]=function(a){var b=[],g=a.nil,h=a.const_get_qualified,l=a.const_get_relative,m=a.module,k=a.klass,c=a.hash2,q=a.send,p=a.truthy;a.add_stubs("$attr_reader $each $respond_to? $composed $init_backend_traits $backend_traits $new $find_converter $[]= $- $convert $converter_for $node_name $[] $handles? $raise".split(" "));return function(b,d){b=[m(b,"Asciidoctor")].concat(d);
(function(b,$super,d){b=k(b,$super,"CompositeConverter");[b].concat(d);var f,l,n,m;b.$$prototype.converter_cache=b.$$prototype.converters=g;b.$attr_reader("converters");a.def(b,"$initialize",f=function(b,d,f){var k,l;var n=a.slice.call(arguments,1,arguments.length);var m=a.extract_kwargs(n);if(null==m)m=c([],{});else if(!m.$$is_hash)throw a.ArgumentError.$new("expected kwargs");m=m.$$smap.backend_traits_source;null==m&&(m=g);this.backend=b;q(this.converters=n,"each",[],(k=function(a){var b=k.$$s||
this;null==a&&(a=g);return p(a["$respond_to?"]("composed"))?a.$composed(b):g},k.$$s=this,k.$$arity=1,k));p(m)&&this.$init_backend_traits(m.$backend_traits());return this.converter_cache=q(h("::","Hash"),"new",[],(l=function(b,c){var d=l.$$s||this;null==b&&(b=g);null==c&&(c=g);c=[c,d.$find_converter(c)];q(b,"[]=",a.to_a(c));b=c.length;b="number"===typeof b?b-1:b["$-"](1);return c[b]},l.$$s=this,l.$$arity=2,l))},f.$$arity=-2);a.def(b,"$convert",l=function(a,b,c){var d;null==b&&(b=g);null==c&&(c=g);
return this.$converter_for(b=p(d=b)?d:a.$node_name()).$convert(a,b,c)},l.$$arity=-2);a.def(b,"$converter_for",n=function(a){return this.converter_cache["$[]"](a)},n.$$arity=1);return(a.def(b,"$find_converter",m=function(b){try{var c;q(this.converters,"each",[],(c=function(c){null==c&&(c=g);if(p(c["$handles?"](b)))a.ret(c);else return g},c.$$s=this,c.$$arity=1,c));return this.$raise("Could not find a converter to handle transform: "+b)}catch(x){if(x===a.returner)return x.$v;throw x;}},m.$$arity=1),
g)&&"find_converter"})(l(b,"Converter"),h(l(b,"Converter"),"Base"),b)}(b[0],b)};Opal.modules["asciidoctor/converter/html5"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function m(a,b){return"number"===typeof a&&"number"===
typeof b?a<b:a["$<"](b)}var k=[],c=a.nil,q=a.const_get_qualified,p=a.const_get_relative,t=a.module,v=a.klass,n=a.send,e=a.hash2,f=a.truthy,y=a.gvars;a.add_stubs("$register_for $default= $- $== $[] $init_backend_traits $node_name $=== $convert_inline_quoted $convert_paragraph $convert_inline_anchor $convert_section $convert_listing $convert_literal $convert_ulist $convert_olist $convert_dlist $convert_admonition $convert_colist $convert_embedded $convert_example $convert_floating_title $convert_image $convert_inline_break $convert_inline_button $convert_inline_callout $convert_inline_footnote $convert_inline_image $convert_inline_indexterm $convert_inline_kbd $convert_inline_menu $convert_open $convert_page_break $convert_preamble $convert_quote $convert_sidebar $convert_stem $convert_table $convert_thematic_break $convert_verse $convert_video $convert_document $convert_toc $convert_pass $convert_audio $empty? $attr $attr? $<< $include? $sub_replacements $gsub $extname $slice $length $doctitle $normalize_web_path $primary_stylesheet_data $instance $read_contents $syntax_highlighter $size $docinfo $id $sections? $doctype $role? $role $join $noheader $convert $converter $generate_manname_section $header? $notitle $title $header $each $authors $> $name $email $sub_macros $+ $downcase $concat $content $footnotes? $! $footnotes $index $text $nofooter $docinfo? $[]= $delete_at $inspect $!= $to_i $attributes $document $sections $level $caption $captioned_title $numbered $<= $< $sectname $sectnum $convert_outline $title? $icon_uri $compact $media_uri $option? $append_boolean_attribute $style $items $blocks? $text? $chomp $safe $read_svg_contents $alt $image_uri $encode_attribute_value $append_link_constraint_attrs $highlight? $to_sym $format $* $count $start_with? $end_with? $list_marker_keyword $parent $warn $logger $context $error $new $columns $to_h $rows $colspan $rowspan $unshift $shift $split $pop $nil_or_empty? $type $catalog $get_root_document $xreftext $target $reftext $chop $sub $match $private $upcase $nested? $parent_document $to_s $handles? $send".split(" "));
return function(d,k){d=[t(d,"Asciidoctor")].concat(k);(function(d,$super,k){d=v(d,$super,"Html5Converter");var u=[d].concat(k),r,t,z,A,D,B,C,I,E,F,K,G,J,Q,N,T,O,P,R,Y,V,X,ha,la,aa,ca,ia,oa,pa,wa,Ea,ra,Ta,Qa,Fa,Ra,Na,Sa,Ga,Ka,$a,Pa,Wa,Xa,ab,Ya,Z;k=c;d.$$prototype.void_element_slash=d.$$prototype.xml_mode=d.$$prototype.refs=d.$$prototype.resolving_xref=c;d.$register_for("html5");k=[["",""]];n(a.const_set(u[0],"QUOTE_TAGS",e("monospaced emphasis strong double single mark superscript subscript asciimath latexmath".split(" "),
{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],"double":["&#8220;","&#8221;"],single:["&#8216;","&#8217;"],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),"default=",a.to_a(k));k[b(k.length,1)];a.const_set(u[0],"DropAnchorRx",/<(?:a\b[^>]*|\/a)>/);a.const_set(u[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/);p(u,"RUBY_ENGINE")["$=="]("opal")?(a.const_set(u[0],
"SvgPreambleRx",new RegExp("^"+p(u,"CC_ALL")+"*?(?=<svg[\\s>])")),a.const_set(u[0],"SvgStartTagRx",/^<svg(?:\s[^>]*)?>/)):c;a.const_set(u[0],"DimensionAttributeRx",new RegExp("\\s(?:width|height|style)=([\"'])"+p(u,"CC_ANY")+"*?\\1"));a.def(d,"$initialize",r=function(a,b){null==b&&(b=e([],{}));this.backend=a;b["$[]"]("htmlsyntax")["$=="]("xml")?(a="xml",this.xml_mode=!0,this.void_element_slash="/"):(a="html",this.xml_mode=c,this.void_element_slash="");return this.$init_backend_traits(e(["basebackend",
"filetype","htmlsyntax","outfilesuffix","supports_templates"],{basebackend:"html",filetype:"html",htmlsyntax:a,outfilesuffix:".html",supports_templates:!0}))},r.$$arity=-2);a.def(d,"$convert",t=function(b,d,e){var f=t.$$p,g;f&&(t.$$p=null);var k=0;var h=arguments.length;for(g=Array(h);k<h;k++)g[k]=arguments[k];null==d&&(d=b.$node_name());null==e&&(e=c);k=d;return"inline_quoted"["$==="](k)?this.$convert_inline_quoted(b):"paragraph"["$==="](k)?this.$convert_paragraph(b):"inline_anchor"["$==="](k)?this.$convert_inline_anchor(b):
"section"["$==="](k)?this.$convert_section(b):"listing"["$==="](k)?this.$convert_listing(b):"literal"["$==="](k)?this.$convert_literal(b):"ulist"["$==="](k)?this.$convert_ulist(b):"olist"["$==="](k)?this.$convert_olist(b):"dlist"["$==="](k)?this.$convert_dlist(b):"admonition"["$==="](k)?this.$convert_admonition(b):"colist"["$==="](k)?this.$convert_colist(b):"embedded"["$==="](k)?this.$convert_embedded(b):"example"["$==="](k)?this.$convert_example(b):"floating_title"["$==="](k)?this.$convert_floating_title(b):
"image"["$==="](k)?this.$convert_image(b):"inline_break"["$==="](k)?this.$convert_inline_break(b):"inline_button"["$==="](k)?this.$convert_inline_button(b):"inline_callout"["$==="](k)?this.$convert_inline_callout(b):"inline_footnote"["$==="](k)?this.$convert_inline_footnote(b):"inline_image"["$==="](k)?this.$convert_inline_image(b):"inline_indexterm"["$==="](k)?this.$convert_inline_indexterm(b):"inline_kbd"["$==="](k)?this.$convert_inline_kbd(b):"inline_menu"["$==="](k)?this.$convert_inline_menu(b):
"open"["$==="](k)?this.$convert_open(b):"page_break"["$==="](k)?this.$convert_page_break(b):"preamble"["$==="](k)?this.$convert_preamble(b):"quote"["$==="](k)?this.$convert_quote(b):"sidebar"["$==="](k)?this.$convert_sidebar(b):"stem"["$==="](k)?this.$convert_stem(b):"table"["$==="](k)?this.$convert_table(b):"thematic_break"["$==="](k)?this.$convert_thematic_break(b):"verse"["$==="](k)?this.$convert_verse(b):"video"["$==="](k)?this.$convert_video(b):"document"["$==="](k)?this.$convert_document(b):
"toc"["$==="](k)?this.$convert_toc(b):"pass"["$==="](k)?this.$convert_pass(b):"audio"["$==="](k)?this.$convert_audio(b):n(this,a.find_super_dispatcher(this,"convert",t,!1),g,f)},t.$$arity=-2);a.def(d,"$convert_document",z=function(d){var k,l,w,m,q,r=c,t=c,v=c,x=c,y=c,z=c,A=c,D=c,B=c,C=D=c,I=c,E=D=D=D=c,F=c,K=C=F=c,G=c,J=c;t=t=z=c;r="<br"+(t=this.void_element_slash)+">";f((v=d.$attr("asset-uri-scheme","https"))["$empty?"]())||(v=""+v+":");x=""+v+"//cdnjs.cloudflare.com/ajax/libs";y=d["$attr?"]("linkcss");
z=f(d["$attr?"]("max-width"))?' style="max-width: '+d.$attr("max-width")+';"':"";A=["<!DOCTYPE html>"];D=f(d["$attr?"]("nolang"))?"":' lang="'+d.$attr("lang","en")+'"';A["$<<"]("<html"+(f(this.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+D+">");A["$<<"]('<head>\n<meta charset="'+d.$attr("encoding","UTF-8")+'"'+t+'>\n<meta http-equiv="X-UA-Compatible" content="IE=edge"'+t+'>\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+t+'>\n<meta name="generator" content="Asciidoctor '+
d.$attr("asciidoctor-version")+'"'+t+">");if(f(d["$attr?"]("app-name")))A["$<<"]('<meta name="application-name" content="'+d.$attr("app-name")+'"'+t+">");if(f(d["$attr?"]("description")))A["$<<"]('<meta name="description" content="'+d.$attr("description")+'"'+t+">");if(f(d["$attr?"]("keywords")))A["$<<"]('<meta name="keywords" content="'+d.$attr("keywords")+'"'+t+">");if(f(d["$attr?"]("authors")))A["$<<"]('<meta name="author" content="'+(f((B=d.$sub_replacements(d.$attr("authors")))["$include?"]("<"))?
B.$gsub(p(u,"XmlSanitizeRx"),""):B)+'"'+t+">");if(f(d["$attr?"]("copyright")))A["$<<"]('<meta name="copyright" content="'+d.$attr("copyright")+'"'+t+">");f(d["$attr?"]("favicon"))&&(f((D=d.$attr("favicon"))["$empty?"]())?(D="favicon.ico",C="image/x-icon"):C=f(I=p(u,"Helpers").$extname(D,c))?I["$=="](".ico")?"image/x-icon":"image/"+I.$slice(1,I.$length()):"image/x-icon",A["$<<"]('<link rel="icon" type="'+C+'" href="'+D+'"'+t+">"));A["$<<"]("<title>"+d.$doctitle(e(["sanitize","use_fallback"],{sanitize:!0,
use_fallback:!0}))+"</title>");if(f(p(u,"DEFAULT_STYLESHEET_KEYS")["$include?"](d.$attr("stylesheet")))){if(f(D=d.$attr("webfonts")))A["$<<"]('<link rel="stylesheet" href="'+v+"//fonts.googleapis.com/css?family="+(f(D["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":D)+'"'+t+">");if(f(y))A["$<<"]('<link rel="stylesheet" href="'+d.$normalize_web_path(p(u,"DEFAULT_STYLESHEET_NAME"),d.$attr("stylesdir",""),!1)+'"'+
t+">");else A["$<<"]("<style>\n"+p(u,"Stylesheets").$instance().$primary_stylesheet_data()+"\n</style>")}else if(f(d["$attr?"]("stylesheet")))if(f(y))A["$<<"]('<link rel="stylesheet" href="'+d.$normalize_web_path(d.$attr("stylesheet"),d.$attr("stylesdir",""))+'"'+t+">");else A["$<<"]("<style>\n"+d.$read_contents(d.$attr("stylesheet"),e(["start","warn_on_failure","label"],{start:d.$attr("stylesdir"),warn_on_failure:!0,label:"stylesheet"}))+"\n</style>");if(f(d["$attr?"]("icons","font")))if(f(d["$attr?"]("iconfont-remote")))A["$<<"]('<link rel="stylesheet" href="'+
d.$attr("iconfont-cdn",""+x+"/font-awesome/"+p(u,"FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+t+">");else D=""+d.$attr("iconfont-name","font-awesome")+".css",A["$<<"]('<link rel="stylesheet" href="'+d.$normalize_web_path(D,d.$attr("stylesdir",""),!1)+'"'+t+">");if(f(D=d.$syntax_highlighter()))A["$<<"](E=A.$size());if(!f((F=d.$docinfo())["$empty?"]()))A["$<<"](F);A["$<<"]("</head>");F=f(d.$id())?' id="'+d.$id()+'"':"";K=f(f(k=f(l=f(w=C=d["$sections?"]())?d["$attr?"]("toc-class"):w)?d["$attr?"]("toc"):
l)?d["$attr?"]("toc-placement","auto"):k)?[d.$doctype(),d.$attr("toc-class"),"toc-"+d.$attr("toc-position","header")]:[d.$doctype()];if(f(d["$role?"]()))K["$<<"](d.$role());A["$<<"]("<body"+F+' class="'+K.$join(" ")+'">');if(!f((F=d.$docinfo("header"))["$empty?"]()))A["$<<"](F);if(!f(d.$noheader())){A["$<<"]('<div id="header"'+z+">");if(d.$doctype()["$=="]("manpage")){A["$<<"]("<h1>"+d.$doctitle()+" Manual Page</h1>");if(f(f(k=f(l=C)?d["$attr?"]("toc"):l)?d["$attr?"]("toc-placement","auto"):k))A["$<<"]('<div id="toc" class="'+
d.$attr("toc-class","toc")+'">\n<div id="toctitle">'+d.$attr("toc-title")+"</div>\n"+d.$converter().$convert(d,"outline")+"\n</div>");if(f(d["$attr?"]("manpurpose")))A["$<<"](this.$generate_manname_section(d))}else{if(f(d["$header?"]())){if(!f(d.$notitle()))A["$<<"]("<h1>"+d.$header().$title()+"</h1>");G=[];J=1;n(d.$authors(),"each",[],(m=function(a){null==a&&(a=c);G["$<<"]('<span id="author'+(f(g(J,1))?J:"")+'" class="author">'+d.$sub_replacements(a.$name())+"</span>"+r);if(f(a.$email()))G["$<<"]('<span id="email'+
(f(g(J,1))?J:"")+'" class="email">'+d.$sub_macros(a.$email())+"</span>"+r);return J=h(J,1)},m.$$s=this,m.$$arity=1,m));if(f(d["$attr?"]("revnumber")))G["$<<"]('<span id="revnumber">'+(f(k=d.$attr("version-label"))?k:"").$downcase()+" "+d.$attr("revnumber")+(f(d["$attr?"]("revdate"))?",":"")+"</span>");if(f(d["$attr?"]("revdate")))G["$<<"]('<span id="revdate">'+d.$attr("revdate")+"</span>");if(f(d["$attr?"]("revremark")))G["$<<"](""+r+'<span id="revremark">'+d.$attr("revremark")+"</span>");f(G["$empty?"]())||
(A["$<<"]('<div class="details">'),A.$concat(G),A["$<<"]("</div>"))}if(f(f(k=f(l=C)?d["$attr?"]("toc"):l)?d["$attr?"]("toc-placement","auto"):k))A["$<<"]('<div id="toc" class="'+d.$attr("toc-class","toc")+'">\n<div id="toctitle">'+d.$attr("toc-title")+"</div>\n"+d.$converter().$convert(d,"outline")+"\n</div>")}A["$<<"]("</div>")}A["$<<"]('<div id="content"'+z+">\n"+d.$content()+"\n</div>");f(f(k=d["$footnotes?"]())?d["$attr?"]("nofootnotes")["$!"]():k)&&(A["$<<"]('<div id="footnotes"'+z+">\n<hr"+
t+">"),n(d.$footnotes(),"each",[],(q=function(a){null==a&&(a=c);return A["$<<"]('<div class="footnote" id="_footnotedef_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},q.$$s=this,q.$$arity=1,q)),A["$<<"]("</div>"));if(!f(d.$nofooter())){A["$<<"]('<div id="footer"'+z+">");A["$<<"]('<div id="footer-text">');if(f(d["$attr?"]("revnumber")))A["$<<"](""+d.$attr("version-label")+" "+d.$attr("revnumber")+r);if(f(f(k=d["$attr?"]("last-update-label"))?d["$attr?"]("reproducible")["$!"]():
k))A["$<<"](""+d.$attr("last-update-label")+" "+d.$attr("docdatetime"));A["$<<"]("</div>");A["$<<"]("</div>")}if(f(D)&&(f(D["$docinfo?"]("head"))?(z=[E,D.$docinfo("head",d,e(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:x,linkcss:y,self_closing_tag_slash:t}))],n(A,"[]=",a.to_a(z)),z[b(z.length,1)]):A.$delete_at(E),f(D["$docinfo?"]("footer"))))A["$<<"](D.$docinfo("footer",d,e(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:x,linkcss:y,self_closing_tag_slash:t})));
f(d["$attr?"]("stem"))&&(t=d.$attr("eqnums","none"),f(t["$empty?"]())&&(t="AMS"),t=' equationNumbers: { autoNumber: "'+t+'" } ',A["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+p(u,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+p(u,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+p(u,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+
'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+t+'}\n})\nMathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {\n  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {\n    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {\n      data.math.root.display = "block"\n    }\n    return data\n  })\n})\n\x3c/script>\n<script src="'+x+"/mathjax/"+p(u,"MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));
if(!f((F=d.$docinfo("footer"))["$empty?"]()))A["$<<"](F);A["$<<"]("</body>");A["$<<"]("</html>");return A.$join(p(u,"LF"))},z.$$arity=1);a.def(d,"$convert_embedded",A=function(a){var b,d,e,g,k=c,h=c,l=c;k=[];if(a.$doctype()["$=="]("manpage")){if(f(a.$notitle())||(h=f(a.$id())?' id="'+a.$id()+'"':"",k["$<<"]("<h1"+h+">"+a.$doctitle()+" Manual Page</h1>")),f(a["$attr?"]("manpurpose")))k["$<<"](this.$generate_manname_section(a))}else f(f(b=a["$header?"]())?a.$notitle()["$!"]():b)&&(h=f(a.$id())?' id="'+
a.$id()+'"':"",k["$<<"]("<h1"+h+">"+a.$header().$title()+"</h1>"));if(f(f(b=f(d=f(e=a["$sections?"]())?a["$attr?"]("toc"):e)?(l=a.$attr("toc-placement"))["$!="]("macro"):d)?l["$!="]("preamble"):b))k["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+a.$converter().$convert(a,"outline")+"\n</div>");k["$<<"](a.$content());f(f(b=a["$footnotes?"]())?a["$attr?"]("nofootnotes")["$!"]():b)&&(k["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),n(a.$footnotes(),
"each",[],(g=function(a){null==a&&(a=c);return k["$<<"]('<div class="footnote" id="_footnotedef_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},g.$$s=this,g.$$arity=1,g)),k["$<<"]("</div>"));return k.$join(p(u,"LF"))},A.$$arity=1);a.def(d,"$convert_outline",D=function(a,b){var d,g,k,h=c,w=c,q=c,r=c;null==b&&(b=e([],{}));if(!f(a["$sections?"]()))return c;h=f(d=b["$[]"]("sectnumlevels"))?d:(f(g=a.$document().$attributes()["$[]"]("sectnumlevels"))?
g:3).$to_i();w=f(d=b["$[]"]("toclevels"))?d:(f(g=a.$document().$attributes()["$[]"]("toclevels"))?g:2).$to_i();q=a.$sections();r=['<ul class="sectlevel'+q["$[]"](0).$level()+'">'];n(q,"each",[],(k=function(b){var d=k.$$s||this,g,n=c,q=c;null==b&&(b=c);var t=b.$level();if(f(b.$caption()))var v=b.$captioned_title();else f(f(g=b.$numbered())?l(t,h):g)?f(f(g=m(t,2))?a.$document().$doctype()["$=="]("book"):g)?(v=b.$sectname(),v="chapter"["$==="](v)?(f(n=a.$document().$attributes()["$[]"]("chapter-signifier"))?
""+n+" ":"")+b.$sectnum()+" "+b.$title():"part"["$==="](v)?(f(n=a.$document().$attributes()["$[]"]("part-signifier"))?""+n+" ":"")+b.$sectnum(c,":")+" "+b.$title():""+b.$sectnum()+" "+b.$title()):v=""+b.$sectnum()+" "+b.$title():v=b.$title();f(v["$include?"]("<a"))&&(v=v.$gsub(p(u,"DropAnchorRx"),""));return f(f(g=m(t,w))?q=d.$convert_outline(b,e(["toclevels","sectnumlevels"],{toclevels:w,sectnumlevels:h})):g)?(r["$<<"]('<li><a href="#'+b.$id()+'">'+v+"</a>"),r["$<<"](q),r["$<<"]("</li>")):r["$<<"]('<li><a href="#'+
b.$id()+'">'+v+"</a></li>")},k.$$s=this,k.$$arity=1,k));r["$<<"]("</ul>");return r.$join(p(u,"LF"))},D.$$arity=-2);a.def(d,"$convert_section",B=function(a){var b,d=c,e=c;var g=a.$document().$attributes();var k=a.$level();if(f(a.$caption()))var n=a.$captioned_title();else f(f(n=a.$numbered())?l(k,(f(b=g["$[]"]("sectnumlevels"))?b:3).$to_i()):n)?f(f(n=m(k,2))?a.$document().$doctype()["$=="]("book"):n)?(n=a.$sectname(),n="chapter"["$==="](n)?(f(d=g["$[]"]("chapter-signifier"))?""+d+" ":"")+a.$sectnum()+
" "+a.$title():"part"["$==="](n)?(f(d=g["$[]"]("part-signifier"))?""+d+" ":"")+a.$sectnum(c,":")+" "+a.$title():""+a.$sectnum()+" "+a.$title()):n=""+a.$sectnum()+" "+a.$title():n=a.$title();f(a.$id())?(d=' id="'+(b=a.$id())+'"',f(g["$[]"]("sectlinks"))&&(n='<a class="link" href="#'+b+'">'+n+"</a>"),f(g["$[]"]("sectanchors"))&&(n=g["$[]"]("sectanchors")["$=="]("after")?""+n+'<a class="anchor" href="#'+b+'"></a>':'<a class="anchor" href="#'+b+'"></a>'+n)):d="";return k["$=="](0)?"<h1"+d+' class="sect0'+
(f(e=a.$role())?" "+e:"")+'">'+n+"</h1>\n"+a.$content():'<div class="sect'+k+(f(e=a.$role())?" "+e:"")+'">\n<h'+h(k,1)+d+">"+n+"</h"+h(k,1)+">\n"+(k["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content())+"\n</div>"},B.$$arity=1);a.def(d,"$convert_admonition",C=function(a){var b,d=c;var e=f(a.$id())?' id="'+a.$id()+'"':"";var g=a.$attr("name");var k=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";var h=f(a.$document()["$attr?"]("icons"))?f(f(b=a.$document()["$attr?"]("icons",
"font"))?a["$attr?"]("icon")["$!"]():b)?'<i class="fa icon-'+g+'" title="'+a.$attr("textlabel")+'"></i>':'<img src="'+a.$icon_uri(g)+'" alt="'+a.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+a.$attr("textlabel")+"</div>";return"<div"+e+' class="admonitionblock '+g+(f(d=a.$role())?" "+d:"")+'">\n<table>\n<tr>\n<td class="icon">\n'+h+'\n</td>\n<td class="content">\n'+k+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},C.$$arity=1);a.def(d,"$convert_audio",I=function(a){var b;
var c=this.xml_mode;var d=f(a.$id())?' id="'+a.$id()+'"':"";var e=' class="'+["audioblock",a.$role()].$compact().$join(" ")+'"';var g=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";var k=a.$attr("start");var h=a.$attr("end");k=f(f(b=k)?b:h)?"#t="+(f(b=k)?b:"")+(f(h)?","+h:""):"";return"<div"+d+e+">\n"+g+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+k+'"'+(f(a["$option?"]("autoplay"))?this.$append_boolean_attribute("autoplay",c):"")+(f(a["$option?"]("nocontrols"))?
"":this.$append_boolean_attribute("controls",c))+(f(a["$option?"]("loop"))?this.$append_boolean_attribute("loop",c):"")+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},I.$$arity=1);a.def(d,"$convert_colist",E=function(a){var b,d=c,e=c,g=c,k=g=c,l=c;d=[];e=f(a.$id())?' id="'+a.$id()+'"':"";g=["colist",a.$style(),a.$role()].$compact();g=' class="'+g.$join(" ")+'"';d["$<<"]("<div"+e+g+">");if(f(a["$title?"]()))d["$<<"]('<div class="title">'+a.$title()+"</div>");if(f(a.$document()["$attr?"]("icons"))){d["$<<"]("<table>");
var w=[a.$document()["$attr?"]("icons","font"),0];k=w[0];l=w[1];w;n(a.$items(),"each",[],(b=function(e){var g=b.$$s||this;null==g.void_element_slash&&(g.void_element_slash=c);null==e&&(e=c);l=h(l,1);g=f(k)?'<i class="conum" data-value="'+l+'"></i><b>'+l+"</b>":'<img src="'+a.$icon_uri("callouts/"+l)+'" alt="'+l+'"'+g.void_element_slash+">";return d["$<<"]("<tr>\n<td>"+g+"</td>\n<td>"+e.$text()+(f(e["$blocks?"]())?h(p(u,"LF"),e.$content()):"")+"</td>\n</tr>")},b.$$s=this,b.$$arity=1,b));d["$<<"]("</table>")}else d["$<<"]("<ol>"),
n(a.$items(),"each",[],(w=function(a){null==a&&(a=c);return d["$<<"]("<li>\n<p>"+a.$text()+"</p>"+(f(a["$blocks?"]())?h(p(u,"LF"),a.$content()):"")+"\n</li>")},w.$$s=this,w.$$arity=1,w)),d["$<<"]("</ol>");d["$<<"]("</div>");return d.$join(p(u,"LF"))},E.$$arity=1);a.def(d,"$convert_dlist",F=function(a){var b,d,e,g,k=c,h=c,l=c,m=l=l=c,w=h=c;k=[];h=f(a.$id())?' id="'+a.$id()+'"':"";l=a.$style();l="qanda"["$==="](l)?["qlist","qanda",a.$role()]:"horizontal"["$==="](l)?["hdlist",a.$role()]:["dlist",a.$style(),
a.$role()];l=' class="'+l.$compact().$join(" ")+'"';k["$<<"]("<div"+h+l+">");if(f(a["$title?"]()))k["$<<"]('<div class="title">'+a.$title()+"</div>");l=a.$style();"qanda"["$==="](l)?(k["$<<"]("<ol>"),n(a.$items(),"each",[],(b=function(a,d){var e=b.$$s||this,g;null==a&&(a=c);null==d&&(d=c);k["$<<"]("<li>");n(a,"each",[],(g=function(a){null==a&&(a=c);return k["$<<"]("<p><em>"+a.$text()+"</em></p>")},g.$$s=e,g.$$arity=1,g));if(f(d)){if(f(d["$text?"]()))k["$<<"]("<p>"+d.$text()+"</p>");if(f(d["$blocks?"]()))k["$<<"](d.$content())}return k["$<<"]("</li>")},
b.$$s=this,b.$$arity=2,b)),k["$<<"]("</ol>")):"horizontal"["$==="](l)?(m=this.void_element_slash,k["$<<"]("<table>"),f(f(d=a["$attr?"]("labelwidth"))?d:a["$attr?"]("itemwidth"))&&(k["$<<"]("<colgroup>"),h=f(a["$attr?"]("labelwidth"))?' style="width: '+a.$attr("labelwidth").$chomp("%")+'%;"':"",k["$<<"]("<col"+h+m+">"),h=f(a["$attr?"]("itemwidth"))?' style="width: '+a.$attr("itemwidth").$chomp("%")+'%;"':"",k["$<<"]("<col"+h+m+">"),k["$<<"]("</colgroup>")),n(a.$items(),"each",[],(e=function(b,d){var g=
e.$$s||this,h,l=c;null==b&&(b=c);null==d&&(d=c);k["$<<"]("<tr>");k["$<<"]('<td class="hdlist1'+(f(a["$option?"]("strong"))?" strong":"")+'">');l=!0;n(b,"each",[],(h=function(a){null==a&&(a=c);if(!f(l))k["$<<"]("<br"+m+">");k["$<<"](a.$text());return l=c},h.$$s=g,h.$$arity=1,h));k["$<<"]("</td>");k["$<<"]('<td class="hdlist2">');if(f(d)){if(f(d["$text?"]()))k["$<<"]("<p>"+d.$text()+"</p>");if(f(d["$blocks?"]()))k["$<<"](d.$content())}k["$<<"]("</td>");return k["$<<"]("</tr>")},e.$$s=this,e.$$arity=
2,e)),k["$<<"]("</table>")):(k["$<<"]("<dl>"),w=f(a.$style())?"":' class="hdlist1"',n(a.$items(),"each",[],(g=function(a,b){var d=g.$$s||this,e;null==a&&(a=c);null==b&&(b=c);n(a,"each",[],(e=function(a){null==a&&(a=c);return k["$<<"]("<dt"+w+">"+a.$text()+"</dt>")},e.$$s=d,e.$$arity=1,e));if(!f(b))return c;k["$<<"]("<dd>");if(f(b["$text?"]()))k["$<<"]("<p>"+b.$text()+"</p>");if(f(b["$blocks?"]()))k["$<<"](b.$content());return k["$<<"]("</dd>")},g.$$s=this,g.$$arity=2,g)),k["$<<"]("</dl>"));k["$<<"]("</div>");
return k.$join(p(u,"LF"))},F.$$arity=1);a.def(d,"$convert_example",K=function(a){var b=c;var d=f(a.$id())?' id="'+a.$id()+'"':"";if(f(a["$option?"]("collapsible"))){var e=f(a.$role())?' class="'+a.$role()+'"':"";b=f(a["$title?"]())?'<summary class="title">'+a.$title()+"</summary>":'<summary class="title">Details</summary>';return"<details"+d+e+(f(a["$option?"]("open"))?" open":"")+">\n"+b+'\n<div class="content">\n'+a.$content()+"\n</div>\n</details>"}e=f(a["$title?"]())?'<div class="title">'+a.$captioned_title()+
"</div>\n":"";return"<div"+d+' class="exampleblock'+(f(b=a.$role())?" "+b:"")+'">\n'+e+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},K.$$arity=1);a.def(d,"$convert_floating_title",G=function(a){var b="h"+h(a.$level(),1);var c=f(a.$id())?' id="'+a.$id()+'"':"";var d=[a.$style(),a.$role()].$compact();return"<"+b+c+' class="'+d.$join(" ")+'">'+a.$title()+"</"+b+">"},G.$$arity=1);a.def(d,"$convert_image",J=function(a){var b,c;var d=a.$attr("target");var e=f(a["$attr?"]("width"))?' width="'+
a.$attr("width")+'"':"";var g=f(a["$attr?"]("height"))?' height="'+a.$attr("height")+'"':"";f(f(b=f(c=a["$attr?"]("format","svg"))?c:d["$include?"](".svg"))?m(a.$document().$safe(),q(p(u,"SafeMode"),"SECURE")):b)?f(a["$option?"]("inline"))?d=f(b=this.$read_svg_contents(a,d))?b:'<span class="alt">'+a.$alt()+"</span>":f(a["$option?"]("interactive"))?(b=f(a["$attr?"]("fallback"))?'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+e+g+this.void_element_slash+
">":'<span class="alt">'+a.$alt()+"</span>",d='<object type="image/svg+xml" data="'+a.$image_uri(d)+'"'+e+g+">"+b+"</object>"):d='<img src="'+a.$image_uri(d)+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+e+g+this.void_element_slash+">":d='<img src="'+a.$image_uri(d)+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+e+g+this.void_element_slash+">";f(a["$attr?"]("link"))&&(d='<a class="image" href="'+a.$attr("link")+'"'+this.$append_link_constraint_attrs(a).$join()+">"+d+"</a>");b=f(a.$id())?
' id="'+a.$id()+'"':"";e=["imageblock"];if(f(a["$attr?"]("float")))e["$<<"](a.$attr("float"));if(f(a["$attr?"]("align")))e["$<<"]("text-"+a.$attr("align"));if(f(a.$role()))e["$<<"](a.$role());e=' class="'+e.$join(" ")+'"';a=f(a["$title?"]())?'\n<div class="title">'+a.$captioned_title()+"</div>":"";return"<div"+b+e+'>\n<div class="content">\n'+d+"\n</div>"+a+"\n</div>"},J.$$arity=1);a.def(d,"$convert_listing",Q=function(d){var g,k=c,l=c,p=c,m=c,w=c,q=c,u=c;var r=f(g=d["$option?"]("nowrap"))?g:d.$document()["$attr?"]("prewrap")["$!"]();
d.$style()["$=="]("source")?(k=d.$attr("language"),f(l=d.$document().$syntax_highlighter())?(p=f(l["$highlight?"]())?e(["css_mode","style"],{css_mode:(f(g=(m=d.$document().$attributes())["$[]"](""+l.$name()+"-css"))?g:"class").$to_sym(),style:m["$[]"](""+l.$name()+"-style")}):e([],{}),g=["nowrap",r],n(p,"[]=",a.to_a(g)),g[b(g.length,1)]):(w='<pre class="highlight'+(f(r)?" nowrap":"")+'"><code'+(f(k)?' class="language-'+k+'" data-lang="'+k+'"':"")+">",q="</code></pre>")):(w="<pre"+(f(r)?' class="nowrap"':
"")+">",q="</pre>");g=f(d.$id())?' id="'+d.$id()+'"':"";r=f(d["$title?"]())?'<div class="title">'+d.$captioned_title()+"</div>\n":"";return"<div"+g+' class="listingblock'+(f(u=d.$role())?" "+u:"")+'">\n'+r+'<div class="content">\n'+(f(l)?l.$format(d,k,p):h(h(w,d.$content()),q))+"\n</div>\n</div>"},Q.$$arity=1);a.def(d,"$convert_literal",N=function(a){var b,d=c;var e=f(a.$id())?' id="'+a.$id()+'"':"";var g=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";var k=f(b=a.$document()["$attr?"]("prewrap")["$!"]())?
b:a["$option?"]("nowrap");return"<div"+e+' class="literalblock'+(f(d=a.$role())?" "+d:"")+'">\n'+g+'<div class="content">\n<pre'+(f(k)?' class="nowrap"':"")+">"+a.$content()+"</pre>\n</div>\n</div>"},N.$$arity=1);a.def(d,"$convert_stem",T=function(d){var e,g,k=c,h=c,l=c,m=c,w=c,q=e=c,r=c;k=f(d.$id())?' id="'+d.$id()+'"':"";h=f(d["$title?"]())?'<div class="title">'+d.$title()+"</div>\n":"";e=p(u,"BLOCK_MATH_DELIMITERS")["$[]"](l=d.$style().$to_sym());var t=a.to_ary(e);m=null==t[0]?c:t[0];w=null==t[1]?
c:t[1];e;f(e=d.$content())?(f((t=l["$=="]("asciimath"))?e["$include?"](p(u,"LF")):l["$=="]("asciimath"))&&(q=""+p(u,"LF")+"<br"+this.void_element_slash+">",e=n(e,"gsub",[p(u,"StemBreakRx")],(g=function(){var a,d=""+w,e=b(((a=y["~"])===c?c:a["$[]"](0)).$count(p(u,"LF")),1);a="number"===typeof q&&"number"===typeof e?q*e:q["$*"](e);return d+a+p(u,"LF")+m},g.$$s=this,g.$$arity=0,g))),f(f(t=e["$start_with?"](m))?e["$end_with?"](w):t)||(e=""+m+e+w)):e="";return"<div"+k+' class="stemblock'+(f(r=d.$role())?
" "+r:"")+'">\n'+h+'<div class="content">\n'+e+"\n</div>\n</div>"},T.$$arity=1);a.def(d,"$convert_olist",O=function(a){var b,d=c,e=c,g=c,k=e=g=c,h=g=c;d=[];e=f(a.$id())?' id="'+a.$id()+'"':"";g=["olist",a.$style(),a.$role()].$compact();g=' class="'+g.$join(" ")+'"';d["$<<"]("<div"+e+g+">");if(f(a["$title?"]()))d["$<<"]('<div class="title">'+a.$title()+"</div>");e=f(k=a.$list_marker_keyword())?' type="'+k+'"':"";g=f(a["$attr?"]("start"))?' start="'+a.$attr("start")+'"':"";h=f(a["$option?"]("reversed"))?
this.$append_boolean_attribute("reversed",this.xml_mode):"";d["$<<"]('<ol class="'+a.$style()+'"'+e+g+h+">");n(a.$items(),"each",[],(b=function(a){null==a&&(a=c);if(f(a.$id()))d["$<<"]('<li id="'+a.$id()+'"'+(f(a.$role())?' class="'+a.$role()+'"':"")+">");else if(f(a.$role()))d["$<<"]('<li class="'+a.$role()+'">');else d["$<<"]("<li>");d["$<<"]("<p>"+a.$text()+"</p>");if(f(a["$blocks?"]()))d["$<<"](a.$content());return d["$<<"]("</li>")},b.$$s=this,b.$$arity=1,b));d["$<<"]("</ol>");d["$<<"]("</div>");
return d.$join(p(u,"LF"))},O.$$arity=1);a.def(d,"$convert_open",P=function(a){var b,d,e=c;if((d=a.$style())["$=="]("abstract")){if(f(a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document())))return this.$logger().$warn("abstract block cannot be used in a document without a doctitle when doctype is book. Excluding block content."),"";var k=f(a.$id())?' id="'+a.$id()+'"':"";var h=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+
k+' class="quoteblock abstract'+(f(e=a.$role())?" "+e:"")+'">\n'+h+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>"}if(f((b=d["$=="]("partintro"))?f(k=f(h=g(a.$level(),0))?h:a.$parent().$context()["$!="]("section"))?k:a.$document().$doctype()["$!="]("book"):d["$=="]("partintro")))return this.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),"";k=f(a.$id())?' id="'+a.$id()+'"':"";h=f(a["$title?"]())?'<div class="title">'+
a.$title()+"</div>\n":"";return"<div"+k+' class="openblock'+(f(f(b=d)?d["$!="]("open"):b)?" "+d:"")+(f(e=a.$role())?" "+e:"")+'">\n'+h+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},P.$$arity=1);a.def(d,"$convert_page_break",R=function(a){return'<div style="page-break-after: always;"></div>'},R.$$arity=1);a.def(d,"$convert_paragraph",Y=function(a){var b=f(a.$role())?(f(a.$id())?' id="'+a.$id()+'"':"")+' class="paragraph '+a.$role()+'"':f(a.$id())?' id="'+a.$id()+'" class="paragraph"':
' class="paragraph"';return f(a["$title?"]())?"<div"+b+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>":"<div"+b+">\n<p>"+a.$content()+"</p>\n</div>"},Y.$$arity=1);a.alias(d,"convert_pass","content_only");a.def(d,"$convert_preamble",V=function(a){var b,d,e=c;var g=f(f(b=f(d=(e=a.$document())["$attr?"]("toc-placement","preamble"))?e["$sections?"]():d)?e["$attr?"]("toc"):b)?'\n<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+
"</div>\n"+e.$converter().$convert(e,"outline")+"\n</div>":"";return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+g+"\n</div>"},V.$$arity=1);a.def(d,"$convert_quote",X=function(a){var b=f(a.$id())?' id="'+a.$id()+'"':"";var d=' class="'+["quoteblock",a.$role()].$compact().$join(" ")+'"';var e=f(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":"";var g=f(a["$attr?"]("attribution"))?a.$attr("attribution"):c;var k=f(a["$attr?"]("citetitle"))?a.$attr("citetitle"):
c;if(f(f(g)?g:k)){var h=f(k)?"<cite>"+k+"</cite>":"";g=f(g)?"&#8212; "+g+(f(k)?"<br"+this.void_element_slash+">\n":""):"";h='\n<div class="attribution">\n'+g+h+"\n</div>"}else h="";return"<div"+b+d+">"+e+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+h+"\n</div>"},X.$$arity=1);a.def(d,"$convert_thematic_break",ha=function(a){return"<hr"+this.void_element_slash+">"},ha.$$arity=1);a.def(d,"$convert_sidebar",la=function(a){var b=c;var d=f(a.$id())?' id="'+a.$id()+'"':"";var e=f(a["$title?"]())?'<div class="title">'+
a.$title()+"</div>\n":"";return"<div"+d+' class="sidebarblock'+(f(b=a.$role())?" "+b:"")+'">\n<div class="content">\n'+e+a.$content()+"\n</div>\n</div>"},la.$$arity=1);a.def(d,"$convert_table",aa=function(a){var b,d,e,k=c,l=c,m=c,q=m=c,w=q=c,r=c,t=m=r=c;k=[];l=f(a.$id())?' id="'+a.$id()+'"':"";(m=a.$attr("frame","all","table-frame"))["$=="]("topbot")&&(m="ends");m=["tableblock","frame-"+m,"grid-"+a.$attr("grid","all","table-grid")];if(f(q=a.$attr("stripes",c,"table-stripes")))m["$<<"]("stripes-"+
q);q="";if(f(f(b=w=a["$option?"]("autowidth"))?a["$attr?"]("width")["$!"]():b))m["$<<"]("fit-content");else if((r=a.$attr("tablepcwidth"))["$=="](100))m["$<<"]("stretch");else q=' style="width: '+r+'%;"';if(f(a["$attr?"]("float")))m["$<<"](a.$attr("float"));if(f(r=a.$role()))m["$<<"](r);m=' class="'+m.$join(" ")+'"';k["$<<"]("<table"+l+m+q+">");if(f(a["$title?"]()))k["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");f(g(a.$attr("rowcount"),0))&&(t=this.void_element_slash,k["$<<"]("<colgroup>"),
f(w)?k=h(k,p(u,"Array").$new(a.$columns().$size(),"<col"+t+">")):n(a.$columns(),"each",[],(d=function(a){null==a&&(a=c);return k["$<<"](f(a["$option?"]("autowidth"))?"<col"+t+">":'<col style="width: '+a.$attr("colpcwidth")+'%;"'+t+">")},d.$$s=this,d.$$arity=1,d)),k["$<<"]("</colgroup>"),n(a.$rows().$to_h(),"each",[],(e=function(b,d){var g=e.$$s||this,h;null==b&&(b=c);null==d&&(d=c);if(f(d["$empty?"]()))return c;k["$<<"]("<t"+b+">");n(d,"each",[],(h=function(d){var e=h.$$s||this,g;null==d&&(d=c);k["$<<"]("<tr>");
n(d,"each",[],(g=function(d){var e,g=c;null==d&&(d=c);if(b["$=="]("head"))g=d.$text();else{var h=d.$style();g="asciidoc"["$==="](h)?'<div class="content">'+d.$content()+"</div>":"literal"["$==="](h)?'<div class="literal"><pre>'+d.$text()+"</pre></div>":f((g=d.$content())["$empty?"]())?"":'<p class="tableblock">'+g.$join('</p>\n<p class="tableblock">')+"</p>"}h=f(f(e=b["$=="]("head"))?e:d.$style()["$=="]("header"))?"th":"td";e=' class="tableblock halign-'+d.$attr("halign")+" valign-"+d.$attr("valign")+
'"';var l=f(d.$colspan())?' colspan="'+d.$colspan()+'"':"";d=f(d.$rowspan())?' rowspan="'+d.$rowspan()+'"':"";var n=f(a.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+a.$document().$attr("cellbgcolor")+';"':"";return k["$<<"]("<"+h+e+l+d+n+">"+g+"</"+h+">")},g.$$s=e,g.$$arity=1,g));return k["$<<"]("</tr>")},h.$$s=g,h.$$arity=1,h));return k["$<<"]("</t"+b+">")},e.$$s=this,e.$$arity=2,e)));k["$<<"]("</table>");return k.$join(p(u,"LF"))},aa.$$arity=1);a.def(d,"$convert_toc",ca=function(a){var b,
d,g=c;if(!f(f(b=f(d=(g=a.$document())["$attr?"]("toc-placement","macro"))?g["$sections?"]():d)?g["$attr?"]("toc"):b))return"\x3c!-- toc disabled --\x3e";f(a.$id())?(b=' id="'+a.$id()+'"',d=' id="'+a.$id()+'title"'):(b=' id="toc"',d=' id="toctitle"');var k=f(a["$title?"]())?a.$title():g.$attr("toc-title");var h=f(a["$attr?"]("levels"))?a.$attr("levels").$to_i():c;a=f(a["$role?"]())?a.$role():g.$attr("toc-class","toc");return"<div"+b+' class="'+a+'">\n<div'+d+' class="title">'+k+"</div>\n"+g.$converter().$convert(g,
"outline",e(["toclevels"],{toclevels:h}))+"\n</div>"},ca.$$arity=1);a.def(d,"$convert_ulist",ia=function(a){var b,d=c,e=c,g=c,k=c,h=c,l=c,m=c;d=[];e=f(a.$id())?' id="'+a.$id()+'"':"";g=["ulist",a.$style(),a.$role()].$compact();k=h="";f(l=a["$option?"]("checklist"))?(g.$unshift(g.$shift(),"checklist"),m=' class="checklist"',f(a["$option?"]("interactive"))?f(this.xml_mode)?(k='<input type="checkbox" data-item-complete="1" checked="checked"/> ',h='<input type="checkbox" data-item-complete="0"/> '):(k=
'<input type="checkbox" data-item-complete="1" checked> ',h='<input type="checkbox" data-item-complete="0"> '):f(a.$document()["$attr?"]("icons","font"))?(k='<i class="fa fa-check-square-o"></i> ',h='<i class="fa fa-square-o"></i> '):(k="&#10003; ",h="&#10063; ")):m=f(a.$style())?' class="'+a.$style()+'"':"";d["$<<"]("<div"+e+' class="'+g.$join(" ")+'">');if(f(a["$title?"]()))d["$<<"]('<div class="title">'+a.$title()+"</div>");d["$<<"]("<ul"+m+">");n(a.$items(),"each",[],(b=function(a){var b;null==
a&&(a=c);if(f(a.$id()))d["$<<"]('<li id="'+a.$id()+'"'+(f(a.$role())?' class="'+a.$role()+'"':"")+">");else if(f(a.$role()))d["$<<"]('<li class="'+a.$role()+'">');else d["$<<"]("<li>");if(f(f(b=l)?a["$attr?"]("checkbox"):b))d["$<<"]("<p>"+(f(a["$attr?"]("checked"))?k:h)+a.$text()+"</p>");else d["$<<"]("<p>"+a.$text()+"</p>");if(f(a["$blocks?"]()))d["$<<"](a.$content());return d["$<<"]("</li>")},b.$$s=this,b.$$arity=1,b));d["$<<"]("</ul>");d["$<<"]("</div>");return d.$join(p(u,"LF"))},ia.$$arity=1);
a.def(d,"$convert_verse",oa=function(a){var b=f(a.$id())?' id="'+a.$id()+'"':"";var d=' class="'+["verseblock",a.$role()].$compact().$join(" ")+'"';var e=f(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":"";var g=f(a["$attr?"]("attribution"))?a.$attr("attribution"):c;var k=f(a["$attr?"]("citetitle"))?a.$attr("citetitle"):c;if(f(f(g)?g:k)){var h=f(k)?"<cite>"+k+"</cite>":"";g=f(g)?"&#8212; "+g+(f(k)?"<br"+this.void_element_slash+">\n":""):"";h='\n<div class="attribution">\n'+g+h+"\n</div>"}else h=
"";return"<div"+b+d+">"+e+'\n<pre class="content">'+a.$content()+"</pre>"+h+"\n</div>"},oa.$$arity=1);a.def(d,"$convert_video",pa=function(b){var d,e,g=this,k=c,h=c,l=c,n=c,m=c,p=c,q=c,u=c,r=c,w=c,t=c,v=c,x=c,y=c,A=c,z=c,D=c,B=c,C=c,I=c,E=c,F=c,K=c,G=c,J=c,Q=c,N=c,T=c,S=c,O=c,P=c,ma=c,R=c,Y=c,ua=c,ta=c,V=c;k=g.xml_mode;h=f(b.$id())?' id="'+b.$id()+'"':"";l=["videoblock"];if(f(b["$attr?"]("float")))l["$<<"](b.$attr("float"));if(f(b["$attr?"]("align")))l["$<<"]("text-"+b.$attr("align"));if(f(b.$role()))l["$<<"](b.$role());
n=' class="'+l.$join(" ")+'"';m=f(b["$title?"]())?'\n<div class="title">'+b.$title()+"</div>":"";p=f(b["$attr?"]("width"))?' width="'+b.$attr("width")+'"':"";q=f(b["$attr?"]("height"))?' height="'+b.$attr("height")+'"':"";return function(){u=b.$attr("poster");if("vimeo"["$==="](u))return f((r=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(r=""+r+":"),w=f(b["$attr?"]("start"))?"#at="+b.$attr("start"):"",t=["?"],e=b.$attr("target").$split("/",2),d=a.to_ary(e),v=null==d[0]?c:d[0],x=
null==d[1]?c:d[1],e,y=f(x=f(d=x)?d:b.$attr("hash"))?""+(f(d=t.$pop())?d:"&amp;")+"h="+x:"",A=f(b["$option?"]("autoplay"))?""+(f(d=t.$pop())?d:"&amp;")+"autoplay=1":"",z=f(b["$option?"]("loop"))?""+(f(d=t.$pop())?d:"&amp;")+"loop=1":"",D=f(b["$option?"]("muted"))?""+(f(d=t.$pop())?d:"&amp;")+"muted=1":"","<div"+h+n+">"+m+'\n<div class="content">\n<iframe'+p+q+' src="'+r+"//player.vimeo.com/video/"+v+y+A+z+D+w+'" frameborder="0"'+(f(b["$option?"]("nofullscreen"))?"":g.$append_boolean_attribute("allowfullscreen",
k))+"></iframe>\n</div>\n</div>";if("youtube"["$==="](u))return f((r=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(r=""+r+":"),B=f(b["$option?"]("related"))?1:0,C=f(b["$attr?"]("start"))?"&amp;start="+b.$attr("start"):"",I=f(b["$attr?"]("end"))?"&amp;end="+b.$attr("end"):"",A=f(b["$option?"]("autoplay"))?"&amp;autoplay=1":"",z=f(E=b["$option?"]("loop"))?"&amp;loop=1":"",F=f(b["$option?"]("muted"))?"&amp;mute=1":"",K=f(b["$option?"]("nocontrols"))?"&amp;controls=0":"",f(b["$option?"]("nofullscreen"))?
(G="&amp;fs=0",J=""):(G="",J=g.$append_boolean_attribute("allowfullscreen",k)),Q=f(b["$option?"]("modest"))?"&amp;modestbranding=1":"",N=f(b["$attr?"]("theme"))?"&amp;theme="+b.$attr("theme"):"",T=f(b["$attr?"]("lang"))?"&amp;hl="+b.$attr("lang"):"",e=b.$attr("target").$split("/",2),d=a.to_ary(e),v=null==d[0]?c:d[0],S=null==d[1]?c:d[1],e,f(S=f(d=S)?d:b.$attr("list"))?O="&amp;list="+S:(e=v.$split(",",2),d=a.to_ary(e),v=null==d[0]?c:d[0],P=null==d[1]?c:d[1],e,O=f(P=f(d=P)?d:b.$attr("playlist"))?"&amp;playlist="+
v+","+P:f(E)?"&amp;playlist="+v:""),"<div"+h+n+">"+m+'\n<div class="content">\n<iframe'+p+q+' src="'+r+"//www.youtube.com/embed/"+v+"?rel="+B+C+I+A+z+F+K+O+G+Q+N+T+'" frameborder="0"'+J+"></iframe>\n</div>\n</div>";ma=f((R=b.$attr("poster"))["$nil_or_empty?"]())?"":' poster="'+b.$media_uri(R)+'"';Y=f((R=b.$attr("preload"))["$nil_or_empty?"]())?"":' preload="'+R+'"';ua=b.$attr("start");ta=b.$attr("end");V=f(f(d=ua)?d:ta)?"#t="+(f(d=ua)?d:"")+(f(ta)?","+ta:""):"";return"<div"+h+n+">"+m+'\n<div class="content">\n<video src="'+
b.$media_uri(b.$attr("target"))+V+'"'+p+q+ma+(f(b["$option?"]("autoplay"))?g.$append_boolean_attribute("autoplay",k):"")+(f(b["$option?"]("muted"))?g.$append_boolean_attribute("muted",k):"")+(f(b["$option?"]("nocontrols"))?"":g.$append_boolean_attribute("controls",k))+(f(b["$option?"]("loop"))?g.$append_boolean_attribute("loop",k):"")+Y+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()},pa.$$arity=1);a.def(d,"$convert_inline_anchor",wa=function(a){var b,d,e=this,g=c,k=
c,h=c,l=c,n=c,m=c,q=c,r=c;return function(){g=a.$type();if("xref"["$==="](g))return f(k=a.$attributes()["$[]"]("path"))?(h=e.$append_link_constraint_attrs(a,f(a.$role())?[' class="'+a.$role()+'"']:[]).$join(),l=f(b=a.$text())?b:k):(h=f(a.$role())?' class="'+a.$role()+'"':"",f(l=a.$text())||(f(p(u,"AbstractNode")["$==="](n=f(b=(e.refs=f(d=e.refs)?d:a.$document().$catalog()["$[]"]("refs"))["$[]"](m=a.$attributes()["$[]"]("refid")))?b:f(m["$nil_or_empty?"]())?q=e.$get_root_document(a):c))?f(f(b=e.resolving_xref=
f(d=e.resolving_xref)?d:r=!0)?r:b)?(f(l=n.$xreftext(a.$attr("xrefstyle",c,!0)))?f(l["$include?"]("<a"))&&(l=l.$gsub(p(u,"DropAnchorRx"),"")):l=f(q)?"[^top]":"["+m+"]",e.resolving_xref=c):l=f(q)?"[^top]":"["+m+"]":l="["+m+"]")),'<a href="'+a.$target()+'"'+h+">"+l+"</a>";if("ref"["$==="](g))return'<a id="'+a.$id()+'"></a>';if("link"["$==="](g)){h=f(a.$id())?[' id="'+a.$id()+'"']:[];if(f(a.$role()))h["$<<"](' class="'+a.$role()+'"');if(f(a["$attr?"]("title")))h["$<<"](' title="'+a.$attr("title")+'"');
return'<a href="'+a.$target()+'"'+e.$append_link_constraint_attrs(a,h).$join()+">"+a.$text()+"</a>"}if("bibref"["$==="](g))return'<a id="'+a.$id()+'"></a>['+(f(b=a.$reftext())?b:a.$id())+"]";e.$logger().$warn("unknown anchor type: "+a.$type().$inspect());return c}()},wa.$$arity=1);a.def(d,"$convert_inline_break",Ea=function(a){return""+a.$text()+"<br"+this.void_element_slash+">"},Ea.$$arity=1);a.def(d,"$convert_inline_button",ra=function(a){return'<b class="button">'+a.$text()+"</b>"},ra.$$arity=
1);a.def(d,"$convert_inline_callout",Ta=function(a){if(f(a.$document()["$attr?"]("icons","font")))return'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>";if(f(a.$document()["$attr?"]("icons"))){var b=a.$icon_uri("callouts/"+a.$text());return'<img src="'+b+'" alt="'+a.$text()+'"'+this.void_element_slash+">"}return f(q("::","Array")["$==="](b=a.$attributes()["$[]"]("guard")))?'&lt;!--<b class="conum">('+a.$text()+")</b>--&gt;":""+b+'<b class="conum">('+a.$text()+")</b>"},Ta.$$arity=
1);a.def(d,"$convert_inline_footnote",Qa=function(a){var b;if(f(b=a.$attr("index"))){if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+b+'" title="View footnote.">'+b+"</a>]</sup>";a=f(a.$id())?' id="_footnote_'+a.$id()+'"':"";return'<sup class="footnote"'+a+'>[<a id="_footnoteref_'+b+'" class="footnote" href="#_footnotedef_'+b+'" title="View footnote.">'+b+"</a>]</sup>"}return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+
a.$text()+"]</sup>":c},Qa.$$arity=1);a.def(d,"$convert_inline_image",Fa=function(a){var b,d,e,g,k=c;var h=a.$target();(e=f(b=a.$type())?b:"image")["$=="]("icon")?(g=a.$document().$attr("icons"))["$=="]("font")?(h="fa fa-"+h,f(a["$attr?"]("size"))&&(h=""+h+" fa-"+a.$attr("size")),f(a["$attr?"]("flip"))?h=""+h+" fa-flip-"+a.$attr("flip"):f(a["$attr?"]("rotate"))&&(h=""+h+" fa-rotate-"+a.$attr("rotate")),g=f(a["$attr?"]("title"))?' title="'+a.$attr("title")+'"':"",h='<i class="'+h+'"'+g+"></i>"):f(g)?
(g=f(a["$attr?"]("width"))?' width="'+a.$attr("width")+'"':"",f(a["$attr?"]("height"))&&(g=""+g+' height="'+a.$attr("height")+'"'),f(a["$attr?"]("title"))&&(g=""+g+' title="'+a.$attr("title")+'"'),h='<img src="'+a.$icon_uri(h)+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+g+this.void_element_slash+">"):h="["+a.$alt()+"&#93;":(g=f(a["$attr?"]("width"))?' width="'+a.$attr("width")+'"':"",f(a["$attr?"]("height"))&&(g=""+g+' height="'+a.$attr("height")+'"'),f(a["$attr?"]("title"))&&(g=""+g+' title="'+
a.$attr("title")+'"'),f(f(b=f(d=a["$attr?"]("format","svg"))?d:h["$include?"](".svg"))?m(a.$document().$safe(),q(p(u,"SafeMode"),"SECURE")):b)?f(a["$option?"]("inline"))?h=f(b=this.$read_svg_contents(a,h))?b:'<span class="alt">'+a.$alt()+"</span>":f(a["$option?"]("interactive"))?(b=f(a["$attr?"]("fallback"))?'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+g+this.void_element_slash+">":'<span class="alt">'+a.$alt()+"</span>",h='<object type="image/svg+xml" data="'+
a.$image_uri(h)+'"'+g+">"+b+"</object>"):h='<img src="'+a.$image_uri(h)+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+g+this.void_element_slash+">":h='<img src="'+a.$image_uri(h)+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+g+this.void_element_slash+">");f(a["$attr?"]("link"))&&(h='<a class="image" href="'+a.$attr("link")+'"'+this.$append_link_constraint_attrs(a).$join()+">"+h+"</a>");f(k=a.$role())?e=f(a["$attr?"]("float"))?""+e+" "+a.$attr("float")+" "+k:""+e+" "+k:f(a["$attr?"]("float"))&&
(e=""+e+" "+a.$attr("float"));return'<span class="'+e+'">'+h+"</span>"},Fa.$$arity=1);a.def(d,"$convert_inline_indexterm",Ra=function(a){return a.$type()["$=="]("visible")?a.$text():""},Ra.$$arity=1);a.def(d,"$convert_inline_kbd",Na=function(a){var b;return(b=a.$attr("keys")).$size()["$=="](1)?"<kbd>"+b["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+b.$join("</kbd>+<kbd>")+"</kbd></span>"},Na.$$arity=1);a.def(d,"$convert_inline_menu",Sa=function(a){var b=c,d=c;var e=f(a.$document()["$attr?"]("icons",
"font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ';var g="</b>"+e+'<b class="submenu">';var k=a.$attr("menu");return f((b=a.$attr("submenus"))["$empty?"]())?f(d=a.$attr("menuitem"))?'<span class="menuseq"><b class="menu">'+k+"</b>"+e+'<b class="menuitem">'+d+"</b></span>":'<b class="menuref">'+k+"</b>":'<span class="menuseq"><b class="menu">'+k+"</b>"+e+'<b class="submenu">'+b.$join(g)+"</b>"+e+'<b class="menuitem">'+a.$attr("menuitem")+"</b></span>"},
Sa.$$arity=1);a.def(d,"$convert_inline_quoted",Ga=function(b){var d=p(u,"QUOTE_TAGS")["$[]"](b.$type());var e=a.to_ary(d);var g=null==e[0]?c:e[0];var k=null==e[1]?c:e[1];e=null==e[2]?c:e[2];d;return f(b.$id())?(d=f(b.$role())?' class="'+b.$role()+'"':"",f(e)?""+g.$chop()+' id="'+b.$id()+'"'+d+">"+b.$text()+k:'<span id="'+b.$id()+'"'+d+">"+g+b.$text()+k+"</span>"):f(b.$role())?f(e)?""+g.$chop()+' class="'+b.$role()+'">'+b.$text()+k:'<span class="'+b.$role()+'">'+g+b.$text()+k+"</span>":""+g+b.$text()+
k},Ga.$$arity=1);a.def(d,"$read_svg_contents",Ka=function(b,d){var g,k=c,h=c,l=c,m=c;if(f(k=b.$read_contents(d,e(["start","normalize","label","warn_if_empty"],{start:b.$document().$attr("imagesdir"),normalize:!0,label:"SVG",warn_if_empty:!0})))){if(f(k["$empty?"]()))return c;f(k["$start_with?"]("<svg"))||(k=k.$sub(p(u,"SvgPreambleRx"),""));h=l=m=c;n(["width","height"],"each",[],(g=function(a){var d,e;null==a&&(a=c);if(!f(b["$attr?"](a)))return c;if(!f(l)){if((m=f(d=m)?d:f(e=k.$match(p(u,"SvgStartTagRx")))?
e:"no_match")["$=="]("no_match"))return c;l=(h=m["$[]"](0)).$gsub(p(u,"DimensionAttributeRx"),"")}return l=""+l.$chop()+" "+a+'="'+b.$attr(a)+'">'},g.$$s=this,g.$$arity=1,g));f(l)&&(k=""+l+k["$[]"](a.Range.$new(h.$length(),-1,!1)))}return k},Ka.$$arity=2);d.$private();a.def(d,"$append_boolean_attribute",$a=function(a,b){return f(b)?" "+a+'="'+a+'"':" "+a},$a.$$arity=2);a.def(d,"$append_link_constraint_attrs",Pa=function(a,b){var d,e=c,g;null==b&&(b=[]);f(a["$option?"]("nofollow"))&&(e="nofollow");
if(f(g=a.$attributes()["$[]"]("window"))){if(b["$<<"](' target="'+g+'"'),f(f(d=g["$=="]("_blank"))?d:a["$option?"]("noopener")))b["$<<"](f(e)?' rel="'+e+' noopener"':' rel="noopener"')}else if(f(e))b["$<<"](' rel="'+e+'"');return b},Pa.$$arity=-2);a.def(d,"$encode_attribute_value",Wa=function(a){return f(a["$include?"]('"'))?a.$gsub('"',"&quot;"):a},Wa.$$arity=1);a.def(d,"$generate_manname_section",Xa=function(a){var b,d=c,e=c,g=c;var k=a.$attr("manname-title","Name");f(f(b=d=a.$sections()["$[]"](0))?
(e=d.$title())["$=="](e.$upcase()):b)&&(k=k.$upcase());return"<h2"+(f(g=a.$attr("manname-id"))?' id="'+g+'"':"")+">"+k+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("mannames").$join(", ")+" - "+a.$attr("manpurpose")+"</p>\n</div>"},Xa.$$arity=1);a.def(d,"$get_root_document",ab=function(a){for(;f((a=a.$document())["$nested?"]());)a=a.$parent_document();return a},ab.$$arity=1);a.def(d,"$method_missing",Ya=function(b,d){var e,g=Ya.$$p,k=c,h;g&&(Ya.$$p=null);var l=0;var m=arguments.length;for(h=Array(m);l<
m;l++)h[l]=arguments[l];l=a.slice.call(arguments,1,arguments.length);return f(f(e=(k=b.$to_s())["$start_with?"]("convert_")["$!"]())?this["$handles?"](k):e)?n(this,"send",["convert_"+k].concat(a.to_a(l))):n(this,a.find_super_dispatcher(this,"method_missing",Ya,!1),h,g)},Ya.$$arity=-2);return(a.def(d,"$respond_to_missing?",Z=function(b,d){var e,g=c;a.slice.call(arguments,1,arguments.length);return f(e=(g=b.$to_s())["$start_with?"]("convert_")["$!"]())?this["$handles?"](g):e},Z.$$arity=-2),c)&&"respond_to_missing?"})(p(d,
"Converter"),q(p(d,"Converter"),"Base"),d)}(k[0],k)};Opal.modules["asciidoctor/extensions"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var m=[],k=a.nil,c=a.const_get_qualified,q=a.const_get_relative,p=a.module,t=a.klass,
v=a.truthy,n=a.hash2,e=a.send,f=a.hash;a.add_stubs("$== $[]= $config $- $const_defined? $singleton_class? $include $const_get $extend $attr_reader $merge $class $update $raise $document $doctype $[] $+ $level $delete $> $casecmp $new $title= $sectname= $special= $fetch $numbered= $! $key? $attr? $special $numbered $generate_id $title $id= $update_attributes $tr $basename $create_block $assign_caption $=== $parse_blocks $empty? $include? $sub_attributes $parse $each $define_method $unshift $shift $send $size $binding $receiver $define_singleton_method $instance_exec $to_proc $call $option $flatten $respond_to? $to_s $partition $to_i $<< $compact $inspect $attr_accessor $to_set $match? $resolve_regexp $method $register $reset $values $groups $arity $activate $add_document_processor $any? $select $add_syntax_processor $to_sym $instance_variable_get $kind $private $join $map $split $capitalize $instance_variable_set $resolve_args $enable_dsl $singleton_class $process_block_given? $source_location $freeze $resolve_class $< $update_config $as_symbol $name $name= $pop $-@ $next_auto_id $generate_name $each_with_object".split(" "));
q(m,"RUBY_ENGINE")["$=="]("opal")||k;return function(d,m){d=[p(d,"Asciidoctor")].concat(m);(function(d,m){d=p(d,"Extensions");m=[d].concat(m);(function(d,$super,f){d=t(d,$super,"Processor");var l=[d].concat(f),m,p,u,r,x,y,z,A,D,B,C,M;d.$$prototype.config=k;(function(c,d){[c].concat(d);var f,g,h;a.def(c,"$config",f=function(){var a;null==this.config&&(this.config=k);return this.config=v(a=this.config)?a:n([],{})},f.$$arity=0);a.def(c,"$option",g=function(c,d){c=[c,d];e(this.$config(),"[]=",a.to_a(c));
return c[b(c.length,1)]},g.$$arity=2);a.def(c,"$enable_dsl",h=function(){return v(this["$const_defined?"]("DSL"))?v(this["$singleton_class?"]())?this.$include(this.$const_get("DSL")):this.$extend(this.$const_get("DSL")):k},h.$$arity=0);return a.alias(c,"use_dsl","enable_dsl")})(a.get_singleton_class(d),l);d.$attr_reader("config");a.def(d,"$initialize",m=function(a){null==a&&(a=n([],{}));return this.config=this.$class().$config().$merge(a)},m.$$arity=-1);a.def(d,"$update_config",p=function(a){return this.config.$update(a)},
p.$$arity=1);a.def(d,"$process",u=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(c("::","NotImplementedError"),""+q(l,"Processor")+" subclass "+this.$class()+" must implement the #process method")},u.$$arity=-1);a.def(d,"$create_section",r=function(c,d,f,m){var p,u,r,t=k,x=k;null==m&&(m=n([],{}));var y=c.$document();var z=(u=y.$doctype())["$=="]("book");var A=v(p=m["$[]"]("level"))?p:g(c.$level(),1);if(v(r=f.$delete("style")))if(v(v(p=z)?r["$=="]("abstract"):p)){p=["chapter",
1];var D=p[0];A=p[1];p}else p=[r,!0],D=p[0],t=p[1],p,A["$=="](0)&&(A=1);else v(z)?D=A["$=="](0)?"part":v(h(A,1))?"section":"chapter":v(u["$=="]("manpage")?d.$casecmp("synopsis")["$=="](0):u["$=="]("manpage"))?(p=["synopsis",!0],D=p[0],t=p[1],p):D="section";u=q(l,"Section").$new(c,A);p=[d,D];u["$title="](p[0]);u["$sectname="](p[1]);p;v(t)?(x=[!0],e(u,"special=",a.to_a(x)),x[b(x.length,1)],v(m.$fetch("numbered",r["$=="]("appendix")))?(x=[!0],e(u,"numbered=",a.to_a(x)),x[b(x.length,1)]):v(v(p=m["$key?"]("numbered")["$!"]())?
y["$attr?"]("sectnums","all"):p)&&(x=[v(v(p=z)?A["$=="](1):p)?"chapter":!0],e(u,"numbered=",a.to_a(x)),x[b(x.length,1)])):v(h(A,0))?v(m.$fetch("numbered",y["$attr?"]("sectnums")))&&(x=[v(u.$special())?v(p=c.$numbered())?!0:p:!0],e(u,"numbered=",a.to_a(x)),x[b(x.length,1)]):v(m.$fetch("numbered",v(p=z)?y["$attr?"]("partnums"):p))&&(x=[!0],e(u,"numbered=",a.to_a(x)),x[b(x.length,1)]);(c=f["$[]"]("id"))["$=="](!1)?f.$delete("id"):(x=[(x=["id",v(p=c)?p:v(y["$attr?"]("sectids"))?q(l,"Section").$generate_id(u.$title(),
y):k],e(f,"[]=",a.to_a(x)),x[b(x.length,1)])],e(u,"id=",a.to_a(x)),x[b(x.length,1)]);u.$update_attributes(f);return u},r.$$arity=-4);a.def(d,"$create_block",x=function(a,b,c,d,e){null==e&&(e=n([],{}));return q(l,"Block").$new(a,b,n(["source","attributes"],{source:c,attributes:d}).$merge(e))},x.$$arity=-5);a.def(d,"$create_list",y=function(a,b,c){null==c&&(c=k);a=q(l,"List").$new(a,b);v(c)&&a.$update_attributes(c);return a},y.$$arity=-3);a.def(d,"$create_list_item",z=function(a,b){null==b&&(b=k);return q(l,
"ListItem").$new(a,b)},z.$$arity=-2);a.def(d,"$create_image_block",A=function(d,f,g){var h,m,p=k;null==g&&(g=n([],{}));v(m=f["$[]"]("target"))||this.$raise(c("::","ArgumentError"),"Unable to create an image block, target attribute is required");v(h=f["$[]"]("alt"))?h:(p=["alt",(p=["default-alt",q(l,"Helpers").$basename(m,!0).$tr("_-"," ")],e(f,"[]=",a.to_a(p)),p[b(p.length,1)])],e(f,"[]=",a.to_a(p)),p[b(p.length,1)]);p=v(f["$key?"]("title"))?f.$delete("title"):k;d=this.$create_block(d,"image",k,f,
g);v(p)&&(p=[p],e(d,"title=",a.to_a(p)),p[b(p.length,1)],d.$assign_caption(f.$delete("caption"),"figure"));return d},A.$$arity=-3);a.def(d,"$create_inline",D=function(a,b,c,d){null==d&&(d=n([],{}));return q(l,"Inline").$new(a,b,c,b["$=="]("quoted")?n(["type"],{type:"unquoted"}).$merge(d):d)},D.$$arity=-4);a.def(d,"$parse_content",B=function(a,b,c){null==c&&(c=k);b=v(q(l,"Reader")["$==="](b))?b:q(l,"Reader").$new(b);q(l,"Parser").$parse_blocks(b,a,c);return a},B.$$arity=-3);a.def(d,"$parse_attributes",
C=function(a,b,c){var d;null==c&&(c=n([],{}));if(v(v(b)?b["$empty?"]():!0))return n([],{});v(v(d=c["$[]"]("sub_attributes"))?b["$include?"](q(l,"ATTR_REF_HEAD")):d)&&(b=a.$sub_attributes(b));return q(l,"AttributeList").$new(b).$parse(v(d=c["$[]"]("positional_attributes"))?d:[])},C.$$arity=-3);return e([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block",
"create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"],["create_inline_pass","create_inline","quoted"]],"each",[],(M=function(b,c,d){var f=M.$$s||this,g;null==b&&(b=k);null==c&&(c=k);null==d&&(d=k);return e(f,"define_method",[b],(g=function(b){var f=g.$$s||this;var k=a.slice.call(arguments,0,arguments.length);k.$unshift(k.$shift(),d);return e(f,"send",[c].concat(a.to_a(k)))},g.$$s=f,g.$$arity=-1,g))},M.$$s=d,M.$$arity=3,M))})(m[0],null,
m);(function(d,f){d=p(d,"ProcessorDsl");[d].concat(f);var g,h,l;a.def(d,"$option",g=function(c,d){c=[c,d];e(this.$config(),"[]=",a.to_a(c));return c[b(c.length,1)]},g.$$arity=2);a.def(d,"$process",h=function(b){var d=h.$$p,f=d||k,g,l,n=k;null==this.process_block&&(this.process_block=k);d&&(h.$$p=null);d&&(h.$$p=null);d=a.slice.call(arguments,0,arguments.length);return f!==k?(v(d["$empty?"]())||this.$raise(c("::","ArgumentError"),"wrong number of arguments (given "+d.$size()+", expected 0)"),v(v(g=
f.$binding())?this["$=="](f.$binding().$receiver()):g)||(n=this,e(f,"define_singleton_method",["call"],(l=function(b){var c=a.slice.call(arguments,0,arguments.length);return e(n,"instance_exec",a.to_a(c),f.$to_proc())},l.$$s=this,l.$$arity=-1,l))),this.process_block=f):v((g=this.process_block,null!=g&&g!==k)?"instance-variable":k)?e(this.process_block,"call",a.to_a(d)):this.$raise(c("::","NotImplementedError"),""+this.$class()+" #process method called before being registered")},h.$$arity=-1);a.def(d,
"$process_block_given?",l=function(){var a;return(a=this.process_block,null!=a&&a!==k)?"instance-variable":k},l.$$arity=0)})(m[0],m);(function(b,c){b=p(b,"DocumentProcessorDsl");c=[b].concat(c);var d;b.$include(q(c,"ProcessorDsl"));a.def(b,"$prefer",d=function(){return this.$option("position",">>")},d.$$arity=0)})(m[0],m);(function(d,f){d=p(d,"SyntaxProcessorDsl");var g=[d].concat(f),l,m,u,r,t;d.$include(q(g,"ProcessorDsl"));a.def(d,"$named",l=function(a){return v(q(g,"Processor")["$==="](this))?
this.name=a:this.$option("name",a)},l.$$arity=1);a.def(d,"$content_model",m=function(a){return this.$option("content_model",a)},m.$$arity=1);a.alias(d,"parse_content_as","content_model");a.def(d,"$positional_attributes",u=function(b){var c=a.slice.call(arguments,0,arguments.length);return this.$option("positional_attrs",c.$flatten())},u.$$arity=-1);a.alias(d,"name_positional_attributes","positional_attributes");a.alias(d,"positional_attrs","positional_attributes");a.def(d,"$default_attributes",r=
function(a){return this.$option("default_attrs",a)},r.$$arity=1);a.alias(d,"default_attrs","default_attributes");a.def(d,"$resolve_attributes",t=function(d){var f,g,l,m=this,p=k,q=k,u=k;var r=a.slice.call(arguments,0,arguments.length);v(h(r.$size(),1))||v((r=r.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(r=[r]);return function(){p=r;return(!0)["$==="](p)?(m.$option("positional_attrs",[]),m.$option("default_attrs",n([],{}))):c("::","Array")["$==="](p)?(f=[[],n([],{})],q=f[0],u=f[1],f,e(r,"each",[],(g=
function(c){null==c&&(c=k);if(v((c=c.$to_s())["$include?"]("="))){var d=c.$partition("=");var f=a.to_ary(d);c=null==f[0]?k:f[0];var g=null==f[2]?k:f[2];d;if(v(c["$include?"](":"))){d=c.$partition(":");f=a.to_ary(d);var h=null==f[0]?k:f[0];c=null==f[2]?k:f[2];d;h=h["$=="]("@")?q.$size():h.$to_i();f=[h,c];e(q,"[]=",a.to_a(f));f[b(f.length,1)]}f=[c,g];e(u,"[]=",a.to_a(f));return f[b(f.length,1)]}return v(c["$include?"](":"))?(d=c.$partition(":"),f=a.to_ary(d),h=null==f[0]?k:f[0],c=null==f[2]?k:f[2],
d,h=h["$=="]("@")?q.$size():h.$to_i(),f=[h,c],e(q,"[]=",a.to_a(f)),f[b(f.length,1)]):q["$<<"](c)},g.$$s=m,g.$$arity=1,g)),m.$option("positional_attrs",q.$compact()),m.$option("default_attrs",u)):c("::","Hash")["$==="](p)?(f=[[],n([],{})],q=f[0],u=f[1],f,e(r,"each",[],(l=function(c,d){var f;null==c&&(c=k);null==d&&(d=k);if(v((f=c.$to_s())["$include?"](":"))){c=f.$partition(":");f=a.to_ary(c);var g=null==f[0]?k:f[0];f=null==f[2]?k:f[2];c;g=g["$=="]("@")?q.$size():g.$to_i();c=[g,f];e(q,"[]=",a.to_a(c));
c[b(c.length,1)]}return v(d)?(c=[f,d],e(u,"[]=",a.to_a(c)),c[b(c.length,1)]):k},l.$$s=m,l.$$arity=2,l)),m.$option("positional_attrs",q.$compact()),m.$option("default_attrs",u)):m.$raise(c("::","ArgumentError"),"unsupported attributes specification for macro: "+r.$inspect())}()},t.$$arity=-1);a.alias(d,"resolves_attributes","resolve_attributes")})(m[0],m);(function(b,$super,d){b=t(b,$super,"Preprocessor");var e=[b].concat(d),f;return(a.def(b,"$process",f=function(a,b){return this.$raise(c("::","NotImplementedError"),
""+q(e,"Preprocessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=2),k)&&"process"})(m[0],q(m,"Processor"),m);a.const_set(q(m,"Preprocessor"),"DSL",q(m,"DocumentProcessorDsl"));(function(b,$super,d){b=t(b,$super,"TreeProcessor");var e=[b].concat(d),f;return(a.def(b,"$process",f=function(a){return this.$raise(c("::","NotImplementedError"),""+q(e,"TreeProcessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=1),k)&&"process"})(m[0],q(m,
"Processor"),m);a.const_set(q(m,"TreeProcessor"),"DSL",q(m,"DocumentProcessorDsl"));a.const_set(m[0],"Treeprocessor",q(m,"TreeProcessor"));(function(b,$super,d){b=t(b,$super,"Postprocessor");var e=[b].concat(d),f;return(a.def(b,"$process",f=function(a,b){return this.$raise(c("::","NotImplementedError"),""+q(e,"Postprocessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=2),k)&&"process"})(m[0],q(m,"Processor"),m);a.const_set(q(m,"Postprocessor"),"DSL",q(m,"DocumentProcessorDsl"));
(function(b,$super,d){b=t(b,$super,"IncludeProcessor");var e=[b].concat(d),f,g;a.def(b,"$process",f=function(a,b,d,f){return this.$raise(c("::","NotImplementedError"),""+q(e,"IncludeProcessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=4);return(a.def(b,"$handles?",g=function(a){return!0},g.$$arity=1),k)&&"handles?"})(m[0],q(m,"Processor"),m);(function(b,d){b=p(b,"IncludeProcessorDsl");d=[b].concat(d);var e;b.$include(q(d,"DocumentProcessorDsl"));a.def(b,"$handles?",
e=function(b){var d=e.$$p,f=d||k,g;null==this.handles_block&&(this.handles_block=k);d&&(e.$$p=null);d&&(e.$$p=null);d=a.slice.call(arguments,0,arguments.length);return f!==k?(v(d["$empty?"]())||this.$raise(c("::","ArgumentError"),"wrong number of arguments (given "+d.$size()+", expected 0)"),this.handles_block=f):v((g=this.handles_block,null!=g&&g!==k)?"instance-variable":k)?this.handles_block.$call(d["$[]"](0)):!0},e.$$arity=-1)})(m[0],m);a.const_set(q(m,"IncludeProcessor"),"DSL",q(m,"IncludeProcessorDsl"));
(function(d,$super,f){d=t(d,$super,"DocinfoProcessor");var g=[d].concat(f),h,l;d.$$prototype.config=k;a.def(d,"$initialize",h=function(c){var d,f=k;h.$$p&&(h.$$p=null);null==c&&(c=n([],{}));e(this,a.find_super_dispatcher(this,"initialize",h,!1),[c],null);return v(d=this.config["$[]"]("location"))?d:(f=["location","head"],e(this.config,"[]=",a.to_a(f)),f[b(f.length,1)])},h.$$arity=-1);return(a.def(d,"$process",l=function(a){return this.$raise(c("::","NotImplementedError"),""+q(g,"DocinfoProcessor")+
" subclass "+this.$class()+" must implement the #process method")},l.$$arity=1),k)&&"process"})(m[0],q(m,"Processor"),m);(function(b,c){b=p(b,"DocinfoProcessorDsl");c=[b].concat(c);var d;b.$include(q(c,"DocumentProcessorDsl"));a.def(b,"$at_location",d=function(a){return this.$option("location",a)},d.$$arity=1)})(m[0],m);a.const_set(q(m,"DocinfoProcessor"),"DSL",q(m,"DocinfoProcessorDsl"));(function(d,$super,f){d=t(d,$super,"BlockProcessor");var g=[d].concat(f),h,l;d.$$prototype.config=k;d.$attr_accessor("name");
a.def(d,"$initialize",h=function(d,f){var g,l=k;h.$$p&&(h.$$p=null);null==d&&(d=k);null==f&&(f=n([],{}));e(this,a.find_super_dispatcher(this,"initialize",h,!1),[f],null);this.name=v(g=d)?g:this.config["$[]"]("name");d=this.config["$[]"]("contexts");c("::","NilClass")["$==="](d)?v(g=this.config["$[]"]("contexts"))?g:(l=["contexts",["open","paragraph"].$to_set()],e(this.config,"[]=",a.to_a(l)),l[b(l.length,1)]):(l=c("::","Symbol")["$==="](d)?["contexts",[this.config["$[]"]("contexts")].$to_set()]:["contexts",
this.config["$[]"]("contexts").$to_set()],e(this.config,"[]=",a.to_a(l)),l[b(l.length,1)]);return v(g=this.config["$[]"]("content_model"))?g:(l=["content_model","compound"],e(this.config,"[]=",a.to_a(l)),l[b(l.length,1)])},h.$$arity=-1);return(a.def(d,"$process",l=function(a,b,d){return this.$raise(c("::","NotImplementedError"),""+q(g,"BlockProcessor")+" subclass "+this.$class()+" must implement the #process method")},l.$$arity=3),k)&&"process"})(m[0],q(m,"Processor"),m);(function(b,c){b=p(b,"BlockProcessorDsl");
c=[b].concat(c);var d;b.$include(q(c,"SyntaxProcessorDsl"));a.def(b,"$contexts",d=function(b){var c=a.slice.call(arguments,0,arguments.length);return this.$option("contexts",c.$flatten().$to_set())},d.$$arity=-1);a.alias(b,"on_contexts","contexts");a.alias(b,"on_context","contexts");a.alias(b,"bind_to","contexts")})(m[0],m);a.const_set(q(m,"BlockProcessor"),"DSL",q(m,"BlockProcessorDsl"));(function(d,$super,f){d=t(d,$super,"MacroProcessor");var g=[d].concat(f),h,l;d.$$prototype.config=k;d.$attr_accessor("name");
a.def(d,"$initialize",h=function(c,d){var f,g=k;h.$$p&&(h.$$p=null);null==c&&(c=k);null==d&&(d=n([],{}));e(this,a.find_super_dispatcher(this,"initialize",h,!1),[d],null);this.name=v(f=c)?f:this.config["$[]"]("name");return v(f=this.config["$[]"]("content_model"))?f:(g=["content_model","attributes"],e(this.config,"[]=",a.to_a(g)),g[b(g.length,1)])},h.$$arity=-1);return(a.def(d,"$process",l=function(a,b,d){return this.$raise(c("::","NotImplementedError"),""+q(g,"MacroProcessor")+" subclass "+this.$class()+
" must implement the #process method")},l.$$arity=3),k)&&"process"})(m[0],q(m,"Processor"),m);(function(b,c){b=p(b,"MacroProcessorDsl");c=[b].concat(c);var d;b.$include(q(c,"SyntaxProcessorDsl"));a.def(b,"$resolve_attributes",d=function(b){var c=d.$$p,f;c&&(d.$$p=null);var g=0;var k=arguments.length;for(f=Array(k);g<k;g++)f[g]=arguments[g];g=a.slice.call(arguments,0,arguments.length);if(v(g.$size()["$=="](1)?g["$[]"](0)["$!"]():g.$size()["$=="](1)))return this.$option("content_model","text");e(this,
a.find_super_dispatcher(this,"resolve_attributes",d,!1),f,c);return this.$option("content_model","attributes")},d.$$arity=-1);a.alias(b,"resolves_attributes","resolve_attributes")})(m[0],m);(function(b,$super,d){b=t(b,$super,"BlockMacroProcessor");var e=[b].concat(d),f;b.$$prototype.name=k;return(a.def(b,"$name",f=function(){v(q(e,"MacroNameRx")["$match?"](this.name.$to_s()))||this.$raise(c("::","ArgumentError"),"invalid name for block macro: "+this.name);return this.name},f.$$arity=0),k)&&"name"})(m[0],
q(m,"MacroProcessor"),m);a.const_set(q(m,"BlockMacroProcessor"),"DSL",q(m,"MacroProcessorDsl"));(function(d,$super,f){d=t(d,$super,"InlineMacroProcessor");var g=[d].concat(f),h,l;d.$$prototype.config=d.$$prototype.name=k;a.class_variable_set(g[0],"@@rx_cache",n([],{}));a.def(d,"$regexp",h=function(){var c,d=k;return v(c=this.config["$[]"]("regexp"))?c:(d=["regexp",this.$resolve_regexp(this.name.$to_s(),this.config["$[]"]("format"))],e(this.config,"[]=",a.to_a(d)),d[b(d.length,1)])},h.$$arity=0);return(a.def(d,
"$resolve_regexp",l=function(d,f){var h,l,n=k;v(q(g,"MacroNameRx")["$match?"](d))||this.$raise(c("::","ArgumentError"),"invalid name for inline macro: "+d);return v(h=(null==(l=g[0].$$cvars["@@rx_cache"])?k:l)["$[]"]([d,f]))?h:(n=[[d,f],new RegExp("\\\\?"+d+":"+(f["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|"+q(g,"CC_ANY")+"*?[^\\\\])\\]")],e(null==(l=g[0].$$cvars["@@rx_cache"])?k:l,"[]=",a.to_a(n)),n[b(n.length,1)])},l.$$arity=2),k)&&"resolve_regexp"})(m[0],q(m,"MacroProcessor"),m);(function(b,d){b=
p(b,"InlineMacroProcessorDsl");d=[b].concat(d);var c,e;b.$include(q(d,"MacroProcessorDsl"));a.def(b,"$format",c=function(a){return this.$option("format",a)},c.$$arity=1);a.alias(b,"match_format","format");a.alias(b,"using_format","format");a.def(b,"$match",e=function(a){return this.$option("regexp",a)},e.$$arity=1)})(m[0],m);a.const_set(q(m,"InlineMacroProcessor"),"DSL",q(m,"InlineMacroProcessorDsl"));(function(b,$super,d){b=t(b,$super,"Extension");[b].concat(d);var c;b.$attr_reader("kind");b.$attr_reader("config");
b.$attr_reader("instance");return(a.def(b,"$initialize",c=function(a,b,d){this.kind=a;this.instance=b;return this.config=d},c.$$arity=3),k)&&"initialize"})(m[0],null,m);(function(b,$super,d){b=t(b,$super,"ProcessorExtension");[b].concat(d);var c;b.$attr_reader("process_method");return(a.def(b,"$initialize",c=function(b,d,f){var g;c.$$p&&(c.$$p=null);null==f&&(f=k);e(this,a.find_super_dispatcher(this,"initialize",c,!1),[b,d,d.$config()],null);return this.process_method=v(g=f)?g:d.$method("process")},
c.$$arity=-3),k)&&"initialize"})(m[0],q(m,"Extension"),m);(function(b,$super,d){b=t(b,$super,"Group");d=[b].concat(d);var e;(function(b,d){var c=[b].concat(d),e;return(a.def(b,"$register",e=function(a){null==a&&(a=k);return q(c,"Extensions").$register(a,this)},e.$$arity=-1),k)&&"register"})(a.get_singleton_class(b),d);return(a.def(b,"$activate",e=function(a){return this.$raise(c("::","NotImplementedError"))},e.$$arity=1),k)&&"activate"})(m[0],null,m);(function(d,$super,f){d=t(d,$super,"Registry");
var m=[d].concat(f),p,u,r,x,y,z,A,D,B,C,E,F,I,K,G,J,M,Q,N,O,P,R,T,V,ha,la,aa,ca,oa,Ea,ra,Ta,Qa,Fa,Ra,Na;d.$$prototype.document=d.$$prototype.groups=d.$$prototype.preprocessor_extensions=d.$$prototype.tree_processor_extensions=d.$$prototype.postprocessor_extensions=d.$$prototype.include_processor_extensions=d.$$prototype.docinfo_processor_extensions=d.$$prototype.block_extensions=d.$$prototype.block_macro_extensions=d.$$prototype.inline_macro_extensions=k;d.$attr_reader("document");d.$attr_reader("groups");
a.def(d,"$initialize",p=function(a){null==a&&(a=n([],{}));this.groups=a;this.$reset();return this.document=this.preprocessor_extensions=this.tree_processor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=k},p.$$arity=-1);a.def(d,"$activate",u=function(a){var b,d=k;v(this.document)&&this.$reset();this.document=a;v((d=g(q(m,"Extensions").$groups().$values(),this.groups.$values()))["$empty?"]())||
e(d,"each",[],(b=function(a){var d=b.$$s||this;null==a&&(a=k);var f=a;c("::","Proc")["$==="](f)?(f=a.$arity(),a=0["$==="](f)||-1["$==="](f)?e(d,"instance_exec",[],a.$to_proc()):1["$==="](f)?a.$call(d):k):a=c("::","Class")["$==="](f)?a.$new().$activate(d):a.$activate(d);return a},b.$$s=this,b.$$arity=1,b));return this},u.$$arity=1);a.def(d,"$preprocessor",r=function(b){var d=r.$$p,c=d||k;d&&(r.$$p=null);d&&(r.$$p=null);d=a.slice.call(arguments,0,arguments.length);return e(this,"add_document_processor",
["preprocessor",d],c.$to_proc())},r.$$arity=-1);a.def(d,"$preprocessors?",x=function(){return this.preprocessor_extensions["$!"]()["$!"]()},x.$$arity=0);a.def(d,"$preprocessors",y=function(){return this.preprocessor_extensions},y.$$arity=0);a.def(d,"$tree_processor",z=function(b){var d=z.$$p,c=d||k;d&&(z.$$p=null);d&&(z.$$p=null);d=a.slice.call(arguments,0,arguments.length);return e(this,"add_document_processor",["tree_processor",d],c.$to_proc())},z.$$arity=-1);a.def(d,"$tree_processors?",A=function(){return this.tree_processor_extensions["$!"]()["$!"]()},
A.$$arity=0);a.def(d,"$tree_processors",D=function(){return this.tree_processor_extensions},D.$$arity=0);a.alias(d,"treeprocessor","tree_processor");a.alias(d,"treeprocessors?","tree_processors?");a.alias(d,"treeprocessors","tree_processors");a.def(d,"$postprocessor",B=function(b){var d=B.$$p,c=d||k;d&&(B.$$p=null);d&&(B.$$p=null);d=a.slice.call(arguments,0,arguments.length);return e(this,"add_document_processor",["postprocessor",d],c.$to_proc())},B.$$arity=-1);a.def(d,"$postprocessors?",C=function(){return this.postprocessor_extensions["$!"]()["$!"]()},
C.$$arity=0);a.def(d,"$postprocessors",E=function(){return this.postprocessor_extensions},E.$$arity=0);a.def(d,"$include_processor",F=function(b){var d=F.$$p,c=d||k;d&&(F.$$p=null);d&&(F.$$p=null);d=a.slice.call(arguments,0,arguments.length);return e(this,"add_document_processor",["include_processor",d],c.$to_proc())},F.$$arity=-1);a.def(d,"$include_processors?",I=function(){return this.include_processor_extensions["$!"]()["$!"]()},I.$$arity=0);a.def(d,"$include_processors",K=function(){return this.include_processor_extensions},
K.$$arity=0);a.def(d,"$docinfo_processor",G=function(b){var d=G.$$p,c=d||k;d&&(G.$$p=null);d&&(G.$$p=null);d=a.slice.call(arguments,0,arguments.length);return e(this,"add_document_processor",["docinfo_processor",d],c.$to_proc())},G.$$arity=-1);a.def(d,"$docinfo_processors?",J=function(a){var b;null==a&&(a=k);return v(this.docinfo_processor_extensions)?v(a)?e(this.docinfo_processor_extensions,"any?",[],(b=function(b){null==b&&(b=k);return b.$config()["$[]"]("location")["$=="](a)},b.$$s=this,b.$$arity=
1,b)):!0:!1},J.$$arity=-1);a.def(d,"$docinfo_processors",M=function(a){var b;null==a&&(a=k);return v(this.docinfo_processor_extensions)?v(a)?e(this.docinfo_processor_extensions,"select",[],(b=function(b){null==b&&(b=k);return b.$config()["$[]"]("location")["$=="](a)},b.$$s=this,b.$$arity=1,b)):this.docinfo_processor_extensions:k},M.$$arity=-1);a.def(d,"$block",Q=function(b){var d=Q.$$p,c=d||k;d&&(Q.$$p=null);d&&(Q.$$p=null);d=a.slice.call(arguments,0,arguments.length);return e(this,"add_syntax_processor",
["block",d],c.$to_proc())},Q.$$arity=-1);a.def(d,"$blocks?",N=function(){return this.block_extensions["$!"]()["$!"]()},N.$$arity=0);a.def(d,"$registered_for_block?",O=function(a,b){var d;return v(d=this.block_extensions["$[]"](a.$to_sym()))?v(d.$config()["$[]"]("contexts")["$include?"](b))?d:!1:!1},O.$$arity=2);a.def(d,"$find_block_extension",P=function(a){return this.block_extensions["$[]"](a.$to_sym())},P.$$arity=1);a.def(d,"$block_macro",R=function(b){var d=R.$$p,c=d||k;d&&(R.$$p=null);d&&(R.$$p=
null);d=a.slice.call(arguments,0,arguments.length);return e(this,"add_syntax_processor",["block_macro",d],c.$to_proc())},R.$$arity=-1);a.def(d,"$block_macros?",T=function(){return this.block_macro_extensions["$!"]()["$!"]()},T.$$arity=0);a.def(d,"$registered_for_block_macro?",V=function(a){var b;return v(b=this.block_macro_extensions["$[]"](a.$to_sym()))?b:!1},V.$$arity=1);a.def(d,"$find_block_macro_extension",ha=function(a){return this.block_macro_extensions["$[]"](a.$to_sym())},ha.$$arity=1);a.def(d,
"$inline_macro",la=function(b){var d=la.$$p,c=d||k;d&&(la.$$p=null);d&&(la.$$p=null);d=a.slice.call(arguments,0,arguments.length);return e(this,"add_syntax_processor",["inline_macro",d],c.$to_proc())},la.$$arity=-1);a.def(d,"$inline_macros?",aa=function(){return this.inline_macro_extensions["$!"]()["$!"]()},aa.$$arity=0);a.def(d,"$registered_for_inline_macro?",ca=function(a){var b;return v(b=this.inline_macro_extensions["$[]"](a.$to_sym()))?b:!1},ca.$$arity=1);a.def(d,"$find_inline_macro_extension",
oa=function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())},oa.$$arity=1);a.def(d,"$inline_macros",Ea=function(){return this.inline_macro_extensions.$values()},Ea.$$arity=0);a.def(d,"$prefer",ra=function(b){var d=ra.$$p,c=d||k,f=k;d&&(ra.$$p=null);d&&(ra.$$p=null);d=a.slice.call(arguments,0,arguments.length);c=v(q(m,"ProcessorExtension")["$==="](f=d.$shift()))?f:e(this,"send",[f].concat(a.to_a(d)),c.$to_proc());f=this.$instance_variable_get(("@"+c.$kind()+"_extensions").$to_sym());f.$unshift(f.$delete(c));
return c},ra.$$arity=-1);d.$private();a.def(d,"$add_document_processor",Ta=function(b,d){var f=Ta.$$p,g=f||k,h,n,p=k,u=k,r=k,t=k,w=u=k,x=k,y=k,z=k;p=k;f&&(Ta.$$p=null);f&&(Ta.$$p=null);p=b.$to_s().$tr("_"," ");u=e(p.$split(),"map",[],(h=function(a){null==a&&(a=k);return a.$capitalize()},h.$$s=this,h.$$arity=1,h)).$join().$to_sym();r=q(m,"Extensions").$const_get(u,!1);t=v(c("::","AsciidoctorJ","skip_raise")?"constant":k)?c(c("::","AsciidoctorJ"),"Extensions").$const_get(u,!1):k;u=v(n=this.$instance_variable_get(("@"+
b+"_extensions").$to_sym()))?n:this.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]);g!==k?(w=this.$resolve_args(d,1),(x=r.$new(w)).$singleton_class().$enable_dsl(),g.$arity()["$=="](0)?e(x,"instance_exec",[],g.$to_proc()):a.yield1(g,x),v(x["$process_block_given?"]())||this.$raise(c("::","NoMethodError"),"No block specified to process "+p+" extension at "+g.$source_location().$join(":")),x.$freeze(),y=q(m,"ProcessorExtension").$new(b,x)):(f=this.$resolve_args(d,2),n=a.to_ary(f),x=null==
n[0]?k:n[0],w=null==n[1]?k:n[1],f,v(z=q(m,"Helpers").$resolve_class(x))?(v(v(n=l(z,r))?n:v(f=t)?l(z,t):f)||this.$raise(c("::","ArgumentError"),"Invalid type for "+p+" extension: "+x),p=z.$new(w),p.$freeze(),y=q(m,"ProcessorExtension").$new(b,p)):v(v(n=r["$==="](x))?n:v(f=t)?t["$==="](x):f)?(x.$update_config(w),x.$freeze(),y=q(m,"ProcessorExtension").$new(b,x)):this.$raise(c("::","ArgumentError"),"Invalid arguments specified for registering "+p+" extension: "+d));if(y.$config()["$[]"]("position")["$=="](">>"))u.$unshift(y);
else u["$<<"](y);return y},Ta.$$arity=2);a.def(d,"$add_syntax_processor",Qa=function(d,f){var g=Qa.$$p,h=g||k,p,u,r=k,t=k,x=k,y=k,w=t=k,z=k,A=k,D=x=k;x=k;g&&(Qa.$$p=null);g&&(Qa.$$p=null);r=d.$to_s().$tr("_"," ");t=e(r.$split(),"map",[],(p=function(a){null==a&&(a=k);return a.$capitalize()},p.$$s=this,p.$$arity=1,p))["$<<"]("Processor").$join().$to_sym();x=q(m,"Extensions").$const_get(t,!1);y=v(c("::","AsciidoctorJ","skip_raise")?"constant":k)?c(c("::","AsciidoctorJ"),"Extensions").$const_get(t,!1):
k;t=v(u=this.$instance_variable_get(("@"+d+"_extensions").$to_sym()))?u:this.$instance_variable_set(("@"+d+"_extensions").$to_sym(),n([],{}));if(h!==k)return g=this.$resolve_args(f,2),u=a.to_ary(g),w=null==u[0]?k:u[0],z=null==u[1]?k:u[1],g,(A=x.$new(this.$as_symbol(w),z)).$singleton_class().$enable_dsl(),h.$arity()["$=="](0)?e(A,"instance_exec",[],h.$to_proc()):a.yield1(h,A),v(w=this.$as_symbol(A.$name()))||this.$raise(c("::","ArgumentError"),"No name specified for "+r+" extension at "+h.$source_location().$join(":")),
v(A["$process_block_given?"]())||this.$raise(c("::","NoMethodError"),"No block specified to process "+r+" extension at "+h.$source_location().$join(":")),A.$freeze(),x=[w,q(m,"ProcessorExtension").$new(d,A)],e(t,"[]=",a.to_a(x)),x[b(x.length,1)];g=this.$resolve_args(f,3);u=a.to_ary(g);A=null==u[0]?k:u[0];w=null==u[1]?k:u[1];z=null==u[2]?k:u[2];g;return v(D=q(m,"Helpers").$resolve_class(A))?(v(v(u=l(D,x))?u:v(g=y)?l(D,y):g)||this.$raise(c("::","ArgumentError"),"Class specified for "+r+" extension does not inherit from "+
x+": "+A),x=D.$new(this.$as_symbol(w),z),v(w=this.$as_symbol(x.$name()))||this.$raise(c("::","ArgumentError"),"No name specified for "+r+" extension: "+A),x.$freeze(),x=[w,q(m,"ProcessorExtension").$new(d,x)],e(t,"[]=",a.to_a(x)),x[b(x.length,1)]):v(v(u=x["$==="](A))?u:v(g=y)?y["$==="](A):g)?(A.$update_config(z),v(w)?(x=[this.$as_symbol(w)],e(A,"name=",a.to_a(x)),f=x[b(x.length,1)]):f=this.$as_symbol(A.$name()),v(w=f)||this.$raise(c("::","ArgumentError"),"No name specified for "+r+" extension: "+
A),A.$freeze(),x=[w,q(m,"ProcessorExtension").$new(d,A)],e(t,"[]=",a.to_a(x)),x[b(x.length,1)]):this.$raise(c("::","ArgumentError"),"Invalid arguments specified for registering "+r+" extension: "+f)},Qa.$$arity=2);a.def(d,"$reset",Fa=function(){return this.document=this.preprocessor_extensions=this.tree_processor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=
k},Fa.$$arity=0);a.def(d,"$resolve_args",Ra=function(a,d){var e=k;var f=v(c("::","Hash")["$==="](a["$[]"](-1)))?a.$pop():n([],{});if(d["$=="](1))return f;v(h(e=b(b(d,1),a.$size()),0))?a=g(a,c("::","Array").$new(e)):v(l(e,0))&&a.$pop(e["$-@"]());a["$<<"](f);return a},Ra.$$arity=2);return(a.def(d,"$as_symbol",Na=function(a){return v(a)?a.$to_sym():k},Na.$$arity=1),k)&&"as_symbol"})(m[0],null,m);(function(d,h){var l=[d].concat(h),m,p,u,r,t,y,z;a.def(d,"$generate_name",m=function(){return"extgrp"+this.$next_auto_id()},
m.$$arity=0);a.def(d,"$next_auto_id",p=function(){var a;null==this.auto_id&&(this.auto_id=k);this.auto_id=v(a=this.auto_id)?a:-1;return this.auto_id=g(this.auto_id,1)},p.$$arity=0);a.def(d,"$groups",u=function(){var a;null==this.groups&&(this.groups=k);return this.groups=v(a=this.groups)?a:n([],{})},u.$$arity=0);a.def(d,"$create",r=function(a){var b=r.$$p,d=b||k,c;b&&(r.$$p=null);b&&(r.$$p=null);null==a&&(a=k);return d!==k?q(l,"Registry").$new(f(v(c=a)?c:this.$generate_name(),d)):q(l,"Registry").$new()},
r.$$arity=-1);a.def(d,"$register",t=function(d){var f=t.$$p,g=f||k,h,n=k,m;f&&(t.$$p=null);f&&(t.$$p=null);f=a.slice.call(arguments,0,arguments.length);var p=f.$size();g!==k?n=g:v(m=f.$pop())?n=v(h=q(l,"Helpers").$resolve_class(m))?h:m:this.$raise(c("::","ArgumentError"),"Extension group to register not specified");g=v(h=f.$pop())?h:this.$generate_name();v(f["$empty?"]())||this.$raise(c("::","ArgumentError"),"Wrong number of arguments ("+p+" for 1..2)");h=[g.$to_sym(),n];e(this.$groups(),"[]=",a.to_a(h));
return h[b(h.length,1)]},t.$$arity=-1);a.def(d,"$unregister_all",y=function(){this.groups=n([],{});return k},y.$$arity=0);return(a.def(d,"$unregister",z=function(b){var d;var c=a.slice.call(arguments,0,arguments.length);e(c,"each_with_object",[this.$groups()],(d=function(a,b){null==a&&(a=k);null==b&&(b=k);return b.$delete(a.$to_sym())},d.$$s=this,d.$$arity=2,d));return k},z.$$arity=-1),k)&&"unregister"})(a.get_singleton_class(d),m)})(d[0],d)}(m[0],m)};Opal.modules["asciidoctor/js/asciidoctor_ext/stylesheet"]=
function(a){var b=[],g=a.nil,h=a.const_get_qualified,l=a.module,m=a.klass,k=a.truthy;a.add_stubs(["$rstrip","$read","$join"]);return function(b,d){b=[l(b,"Asciidoctor")].concat(d);(function(b,$super,d){b=m(b,$super,"Stylesheets");[b].concat(d);var c;b.$$prototype.primary_stylesheet_data=g;return(a.def(b,"$primary_stylesheet_data",c=function(){var a;return this.primary_stylesheet_data=k(a=this.primary_stylesheet_data)?a:h("::","IO").$read(h("::","File").$join("css","asciidoctor.css")).$rstrip()},c.$$arity=
0),g)&&"primary_stylesheet_data"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/document"]=function(a){var b=[],g=a.nil,h=a.const_get_relative,l=a.module,m=a.klass;return function(b,d){b=[l(b,"Asciidoctor")].concat(d);(function(b,$super,d){b=m(b,$super,"Document");[b].concat(d);var c;return(a.def(b,"$fill_datetime_attributes",c=function(b,d){var c=a.truthy,e=a.falsy,g=a.nil,k,h,l=function(a,b){return 0===b?a.getUTCFullYear():a.getFullYear()},n=function(a,b){return 0===b?a.getUTCMonth():
a.getMonth()};var m=function(a,b){return 0===b?a.getUTCDate():a.getDate()};var q=function(a,b){return 0===b?a.getUTCHours():a.getHours()},u=new Date;if(a.const_get_qualified("::","ENV")["$key?"]("SOURCE_DATE_EPOCH")){u.setTime(1E3*parseInt(a.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH")));var r=u;var t=0}else t=-u.getTimezoneOffset()/60;if(c(k=b["$[]"]("localdate")))e(h=b["$[]"]("localyear"))&&(h=4===k.indexOf("-")?k.substring(0,4):g,b["$[]="]("localyear",h));else{var v=l(u,t).toString();
k=("0"+(n(u,t)+1)).slice(-2);h=("0"+m(u,t)).slice(-2);k=v+"-"+k+"-"+h;b["$[]="]("localdate",k);h=v;b["$[]="]("localyear",v)}if(e(v=b["$[]"]("localtime"))){h=("0"+q(u,t)).slice(-2);var y=("0"+u.getMinutes()).slice(-2),z=("0"+u.getSeconds()).slice(-2);v=0===t?"UTC":0<t?("+0"+100*t).slice(-5):("-0"+100*-t).slice(-5);v=h+":"+y+":"+z+" "+v;b["$[]="]("localtime",v)}if(e(b["$[]"]("localdatetime")))b["$[]="]("localdatetime",k+" "+v);c(r)?d=r:c(d)?t=-d.getTimezoneOffset()/60:d=u;if(c(c=b["$[]"]("docdate")))b["$[]="]("docyear",
4===c.indexOf("-")?c.substring(0,4):g);else if(l=l(d,t).toString(),n=("0"+(n(d,t)+1)).slice(-2),m=("0"+m(d,t)).slice(-2),c=l+"-"+n+"-"+m,b["$[]="]("docdate",c),e(b["$[]"]("docyear")))b["$[]="]("docyear",l);e(m=b["$[]"]("doctime"))&&(q=("0"+q(d,t)).slice(-2),m=("0"+d.getMinutes()).slice(-2),d=("0"+d.getSeconds()).slice(-2),v=0===t?"UTC":0<t?("+0"+100*t).slice(-5):("-0"+100*-t).slice(-5),m=q+":"+m+":"+d+" "+v,b["$[]="]("doctime",m));if(e(b["$[]"]("docdatetime")))b["$[]="]("docdatetime",c+" "+m);return g},
c.$$arity=2),g)&&"fill_datetime_attributes"})(b[0],h(b,"AbstractBlock"),b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/substitutors"]=function(a){var b=[],g=a.module;return function(b,d){b=[g(b,"Asciidoctor")].concat(d);(function(b,d){b=g(b,"Substitutors");[b].concat(d);var c;a.def(b,"$sub_placeholder",c=function(a,b){return a.replace("%s",b)},c.$$arity=2)})(b[0],b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/parser"]=function(a){var b=[],g=a.nil,h=a.module,l=a.klass,m=a.truthy;
return function(b,d){b=[h(b,"Asciidoctor")].concat(d);(function(b,$super,d){b=l(b,$super,"Parser");[b].concat(d);var c,k;return m(String.prototype.repeat)?(a.defs(b,"$uniform?",c=function(a,b,d){return b.repeat(d)===a},c.$$arity=3),g)&&"uniform?":(a.defs(b,"$uniform?",k=function(a,b,d){return Array.apply(null,{length:d}).map(function(){return b}).join("")===a},k.$$arity=3),g)&&"uniform?"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/syntax_highlighter"]=function(a){var b=[],
g=a.nil,h=a.const_get_relative,l=a.module,m=a.truthy;a.add_stubs("$key? $registry $[] $include? $include $empty? $debug $logger $join $keys".split(" "));return function(b,d){b=[l(b,"Asciidoctor")].concat(d);(function(b,d){b=[l(b,"SyntaxHighlighter")].concat(d);(function(b,d){b=l(b,"Factory");var c=[b].concat(d),e;a.def(b,"$for",e=function(a){if(m(this.$registry()["$key?"](a)))return this.$registry()["$[]"](a);m(this["$include?"](h(c,"Logging")))||this.$include(h(c,"Logging"));m(this.$registry()["$empty?"]())?
this.$logger().$debug("no syntax highlighter available, functionality disabled."):this.$logger().$debug("syntax highlighter named '"+a+"' is not available, must be one of: '"+this.$registry().$keys().$join("', '")+"'.");return g},e.$$arity=1)})(b[0],b)})(b[0],b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/asciidoctor_ext/stylesheet");b.$require("asciidoctor/js/asciidoctor_ext/document");b.$require("asciidoctor/js/asciidoctor_ext/substitutors");
b.$require("asciidoctor/js/asciidoctor_ext/parser");b.$require("asciidoctor/js/asciidoctor_ext/syntax_highlighter");b.$require("asciidoctor/js/asciidoctor_ext/browser")};Opal.modules["asciidoctor/js/opal_ext/logger"]=function(a){var b=[],g=a.nil,h=a.const_get_relative,l=a.klass,m=a.truthy;a.add_stubs("$chr $rjust $message_as_string $< $write $call $[]".split(" "));return function(b,$super,d){b=l(b,$super,"Logger");var k=[b].concat(d),q;b.$$prototype.level=b.$$prototype.progname=b.$$prototype.pipe=
b.$$prototype.formatter=g;(function(b,$super,d){b=l(b,$super,"Formatter");[b].concat(d);var e;return(a.def(b,"$call",e=function(a,b,d,e){b=b.getFullYear()+"-"+("0"+(b.getMonth()+1)).slice(-2)+"-"+("0"+b.getDate()).slice(-2)+"T"+("0"+b.getHours()).slice(-2)+":"+("0"+b.getMinutes()).slice(-2)+":"+("0"+b.getSeconds()).slice(-2)+"."+("00"+1E3*(new Date).getMilliseconds()).slice(-6);return""+a.$chr()+", ["+b+"] "+a.$rjust(5)+" -- "+d+": "+this.$message_as_string(e)},e.$$arity=4),g)&&"call"})(k[0],null,
k);return(a.def(b,"$add",q=function(b,d,e){var f=q.$$p,l=f||g,n;f&&(q.$$p=null);f&&(q.$$p=null);null==d&&(d=g);null==e&&(e=g);f=b=m(n=b)?n:h(k,"UNKNOWN");var p=this.level;f="number"===typeof f&&"number"===typeof p?f<p:f["$<"](p);if(m(f))return!0;e=m(n=e)?n:this.progname;m(d)||(l!==g?d=a.yieldX(l,[]):(d=e,e=this.progname));this.pipe.$write(this.formatter.$call(m(n=h(k,"SEVERITY_LABELS")["$[]"](b))?n:"ANY",new Date,e,d));return!0},q.$$arity=-2),g)&&"add"}(b[0],null,b)};Opal.modules["asciidoctor/js/postscript"]=
function(a){var b=a.top,g=[],h=a.const_get_qualified,l=a.const_get_relative;a.add_stubs(["$require"]);b.$require("asciidoctor/converter/composite");b.$require("asciidoctor/converter/html5");b.$require("asciidoctor/extensions");b.$require("asciidoctor/js/asciidoctor_ext");b.$require("asciidoctor/js/opal_ext/logger");return a.const_set(l(g,"Asciidoctor"),"InlineLinkRx",new RegExp("(^|link:|"+h(l(g,"Asciidoctor"),"CG_BLANK")+"|\\\\?&lt;(?=\\\\?(?:https?|file|ftp|irc)(:))|[>\\(\\)\\[\\];\"'])(\\\\?(?:https?|file|ftp|irc)://)(?:([^\\s\\[\\]]+)\\[(|"+
h(l(g,"Asciidoctor"),"CC_ALL")+"*?[^\\\\])\\]|(?!\\2)([^\\s]*?)&gt;|([^\\s\\[\\]<]*([^\\s,.?!\\[\\]<\\)])))"))};(function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=a.top,h=[],l=a.nil,m=a.const_get_qualified,k=a.const_get_relative,c=a.module,q=a.send,p=a.truthy,t=a.hash2;a.add_stubs("$require $== $to_h $sort $map $constants $const_get $downcase $to_s $<=> $upcase $[] $values $new $attr_reader $instance_variable_set $send $singleton_class $<< $define $dirname $absolute_path $__dir__ $join $home $pwd $to_set $tap $each $chr $each_key $slice $[]= $- $length $merge $default= $drop $insert".split(" "));
g.$require("set");k(h,"RUBY_ENGINE")["$=="]("opal")?g.$require("asciidoctor/js"):l;(function(d,g){d=c(d,"Asciidoctor");var e=[d].concat(g),f,h,n,u,r,v=l;a.const_set(e[0],"RUBY_ENGINE_OPAL",a.const_set(e[0],"RUBY_ENGINE",m("::","RUBY_ENGINE"))["$=="]("opal"));(function(b,d){b=c(b,"SafeMode");d=[b].concat(d);var e,f,g,k,h;a.const_set(d[0],"UNSAFE",0);a.const_set(d[0],"SAFE",1);a.const_set(d[0],"SERVER",10);a.const_set(d[0],"SECURE",20);b.names_by_value=q(q(b.$constants(!1),"map",[],(e=function(a){var b=
e.$$s||this;null==a&&(a=l);return[b.$const_get(a),a.$to_s().$downcase()]},e.$$s=b,e.$$arity=1,e)),"sort",[],(f=function(b,d){null==b&&(b=l);null==d&&(d=l);var c=a.to_ary(b);var e=null==c[0]?l:c[0];b;b=d;c=a.to_ary(b);d=null==c[0]?l:c[0];b;return e["$<=>"](d)},f.$$s=b,f.$$arity=2,f.$$has_top_level_mlhs_arg=!0,f)).$to_h();a.defs(b,"$value_for_name",g=function(a){return this.$const_get(a.$upcase(),!1)},g.$$arity=1);a.defs(b,"$name_for_value",k=function(a){null==this.names_by_value&&(this.names_by_value=
l);return this.names_by_value["$[]"](a)},k.$$arity=1);a.defs(b,"$names",h=function(){null==this.names_by_value&&(this.names_by_value=l);return this.names_by_value.$values()},h.$$arity=0)})(e[0],e);(function(b,d){b=c(b,"Compliance");d=[b].concat(d);b.keys=m("::","Set").$new();(function(b,d){[b].concat(d);var c;b.$attr_reader("keys");return(a.def(b,"$define",c=function(a,b){null==this.keys&&(this.keys=l);this.$instance_variable_set("@"+a,b);this.$singleton_class().$send("attr_accessor",a);this.keys["$<<"](a);
return l},c.$$arity=2),l)&&"define"})(a.get_singleton_class(b),d);b.$define("block_terminates_paragraph",!0);b.$define("strict_verbatim_paragraphs",!0);b.$define("underline_style_section_titles",!0);b.$define("unwrap_standalone_preamble",!0);b.$define("attribute_missing","skip");b.$define("attribute_undefined","drop-line");b.$define("shorthand_property_syntax",!0);b.$define("natural_xrefs",!0);b.$define("unique_id_start_index",2);b.$define("markdown_syntax",!0)})(e[0],e);p(k(e,"ROOT_DIR","skip_raise")?
"constant":l)||a.const_set(e[0],"ROOT_DIR",m("::","File").$dirname(m("::","File").$absolute_path(d.$__dir__())));a.const_set(e[0],"LIB_DIR",m("::","File").$join(k(e,"ROOT_DIR"),"lib"));a.const_set(e[0],"DATA_DIR",m("::","File").$join(k(e,"ROOT_DIR"),"data"));a.const_set(e[0],"USER_HOME",function(){try{return m("::","Dir").$home()}catch(Y){if(a.rescue(Y,[k(e,"StandardError")]))try{return p(f=m("::","ENV")["$[]"]("HOME"))?f:m("::","Dir").$pwd()}finally{a.pop_exception()}else throw Y;}}());a.const_set(e[0],
"LF","\n");a.const_set(e[0],"NULL","\x00");a.const_set(e[0],"TAB","\t");a.const_set(e[0],"MAX_INT",9007199254740991);a.const_set(e[0],"UTF_8",m(m("::","Encoding"),"UTF_8"));a.const_set(e[0],"BOM_BYTES_UTF_8",[239,187,191]);a.const_set(e[0],"BOM_BYTES_UTF_16LE",[255,254]);a.const_set(e[0],"BOM_BYTES_UTF_16BE",[254,255]);a.const_set(e[0],"FILE_READ_MODE",p(k(e,"RUBY_ENGINE_OPAL"))?"r":"rb:UTF-8:UTF-8");a.const_set(e[0],"URI_READ_MODE",k(e,"FILE_READ_MODE"));a.const_set(e[0],"FILE_WRITE_MODE",p(k(e,
"RUBY_ENGINE_OPAL"))?"w":"wb:UTF-8");a.const_set(e[0],"DEFAULT_DOCTYPE","article");a.const_set(e[0],"DEFAULT_BACKEND","html5");a.const_set(e[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.const_set(e[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(e[0],"BACKEND_ALIASES",t(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.const_set(e[0],"DEFAULT_PAGE_WIDTHS",t(["docbook"],{docbook:425}));a.const_set(e[0],"DEFAULT_EXTENSIONS",t("html docbook pdf epub manpage asciidoc".split(" "),
{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"}));a.const_set(e[0],"ASCIIDOC_EXTENSIONS",t([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0}));a.const_set(e[0],"SETEXT_SECTION_LEVELS",t(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.const_set(e[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.const_set(e[0],"ADMONITION_STYLE_HEADS",q(m("::","Set").$new(),"tap",[],(h=
function(a){var b=h.$$s||this,d;null==a&&(a=l);return q(k(e,"ADMONITION_STYLES"),"each",[],(d=function(b){null==b&&(b=l);return a["$<<"](b.$chr())},d.$$s=b,d.$$arity=1,d))},h.$$s=d,h.$$arity=1,h)));a.const_set(e[0],"PARAGRAPH_STYLES","comment example literal listing normal open pass quote sidebar source verse abstract partintro".split(" ").$to_set());a.const_set(e[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.const_set(e[0],"DELIMITED_BLOCKS",t("-- ---- .... ==== **** ____ ++++ |=== ,=== :=== !=== //// ```".split(" "),
{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",m("::","Set").$new()],____:["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",m("::","Set").$new()],",===":["table",m("::","Set").$new()],":===":["table",
m("::","Set").$new()],"!===":["table",m("::","Set").$new()],"////":["comment",m("::","Set").$new()],"```":["fenced_code",m("::","Set").$new()]}));a.const_set(e[0],"DELIMITED_BLOCK_HEADS",q(t([],{}),"tap",[],(n=function(d){var c=n.$$s||this,f;null==d&&(d=l);return q(k(e,"DELIMITED_BLOCKS"),"each_key",[],(f=function(c){null==c&&(c=l);c=[c.$slice(0,2),!0];q(d,"[]=",a.to_a(c));return c[b(c.length,1)]},f.$$s=c,f.$$arity=1,f))},n.$$s=d,n.$$arity=1,n)));a.const_set(e[0],"DELIMITED_BLOCK_TAILS",q(t([],{}),
"tap",[],(u=function(d){var c=u.$$s||this,f;null==d&&(d=l);return q(k(e,"DELIMITED_BLOCKS"),"each_key",[],(f=function(c){null==c&&(c=l);return c.$length()["$=="](4)?(c=[c,c["$[]"](b(c.$length(),1))],q(d,"[]=",a.to_a(c)),c[b(c.length,1)]):l},f.$$s=c,f.$$arity=1,f))},u.$$s=d,u.$$arity=1,u)));a.const_set(e[0],"CAPTION_ATTRIBUTE_NAMES",t(["example","figure","listing","table"],{example:"example-caption",figure:"figure-caption",listing:"listing-caption",table:"table-caption"}));a.const_set(e[0],"LAYOUT_BREAK_CHARS",
t(["'","<"],{"'":"thematic_break","<":"page_break"}));a.const_set(e[0],"MARKDOWN_THEMATIC_BREAK_CHARS",t(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"}));a.const_set(e[0],"HYBRID_LAYOUT_BREAK_CHARS",k(e,"LAYOUT_BREAK_CHARS").$merge(k(e,"MARKDOWN_THEMATIC_BREAK_CHARS")));a.const_set(e[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.const_set(e[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.const_set(e[0],"ORDERED_LIST_KEYWORDS",
t(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.const_set(e[0],"ATTR_REF_HEAD","{");a.const_set(e[0],"LIST_CONTINUATION","+");a.const_set(e[0],"HARD_LINE_BREAK"," +");a.const_set(e[0],"LINE_CONTINUATION"," \\");a.const_set(e[0],"LINE_CONTINUATION_LEGACY"," +");a.const_set(e[0],"BLOCK_MATH_DELIMITERS",t(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.const_set(e[0],"INLINE_MATH_DELIMITERS",t(["asciimath",
"latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));v=["asciimath"];q(a.const_set(e[0],"STEM_TYPE_ALIASES",t(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"})),"default=",a.to_a(v));v[b(v.length,1)];a.const_set(e[0],"FONT_AWESOME_VERSION","4.7.0");a.const_set(e[0],"HIGHLIGHT_JS_VERSION","9.18.3");a.const_set(e[0],"MATHJAX_VERSION","2.7.9");a.const_set(e[0],"DEFAULT_ATTRIBUTES",t("appendix-caption appendix-refsig caution-caption chapter-refsig example-caption figure-caption important-caption last-update-label note-caption part-refsig prewrap sectids section-refsig table-caption tip-caption toc-placement toc-title untitled-label version-label warning-caption".split(" "),
{"appendix-caption":"Appendix","appendix-refsig":"Appendix","caution-caption":"Caution","chapter-refsig":"Chapter","example-caption":"Example","figure-caption":"Figure","important-caption":"Important","last-update-label":"Last updated","note-caption":"Note","part-refsig":"Part",prewrap:"",sectids:"","section-refsig":"Section","table-caption":"Table","tip-caption":"Tip","toc-placement":"auto","toc-title":"Table of Contents","untitled-label":"Untitled","version-label":"Version","warning-caption":"Warning"}));
a.const_set(e[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]);a.const_set(e[0],"INTRINSIC_ATTRIBUTES",t("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar pp cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",
quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"}));k(e,"RUBY_ENGINE")["$=="]("opal")||l;a.const_set(e[0],"QUOTE_SUBS",q(t([],{}),"tap",[],(r=function(d){var c;null==d&&(d=l);v=[!1,c=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+k(e,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+k(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+
k(e,"CC_ALL")+"*?\\S)\\*(?!"+k(e,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+k(e,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+k(e,"CC_ALL")+'*?\\S)`"(?!'+k(e,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+k(e,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+k(e,"CC_ALL")+"*?\\S)`'(?!"+k(e,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+k(e,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+k(e,
"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+k(e,"CC_ALL")+"*?\\S)`(?!["+k(e,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+k(e,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+k(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+k(e,"CC_ALL")+"*?\\S)_(?!"+k(e,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+k(e,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+k(e,"CC_WORD")+
"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+k(e,"CC_ALL")+"*?\\S)#(?!"+k(e,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]];q(d,"[]=",a.to_a(v));v[b(v.length,1)];v=[!0,c=c.$drop(0)];q(d,"[]=",a.to_a(v));v[b(v.length,1)];v=[2,["double","constrained",new RegExp("(^|[^"+k(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+k(e,"CC_ALL")+"*?\\S)''(?!"+k(e,"CG_WORD")+")","m")]];q(c,"[]=",a.to_a(v));v[b(v.length,
1)];v=[3,["single","constrained",new RegExp("(^|[^"+k(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+k(e,"CC_ALL")+"*?\\S)'(?!"+k(e,"CG_WORD")+")","m")]];q(c,"[]=",a.to_a(v));v[b(v.length,1)];v=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+k(e,"CC_ALL")+"+?)\\+\\+","m")]];q(c,"[]=",a.to_a(v));v[b(v.length,1)];v=[5,["monospaced","constrained",new RegExp("(^|[^"+k(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+k(e,"CC_ALL")+"*?\\S)\\+(?!"+k(e,"CG_WORD")+")",
"m")]];q(c,"[]=",a.to_a(v));v[b(v.length,1)];return c.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+k(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+k(e,"CC_ALL")+"*?\\S)'(?!"+k(e,"CG_WORD")+")","m")])},r.$$s=d,r.$$arity=1,r)));a.const_set(e[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(?: |\n|^|\\)--(?: |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+k(e,"CG_WORD")+")\\\\?--(?="+k(e,"CG_WORD")+")"),"&#8212;&#8203;",
"leading"],[/\\?\.\.\./,"&#8230;&#8203;","none"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+k(e,"CG_ALNUM")+")\\\\?'(?="+k(e,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]);k(e,"RUBY_ENGINE")["$=="]("opal")||l;k(e,"RUBY_ENGINE")["$=="]("opal")||l})(h[0],h);g.$require("asciidoctor.rb/../asciidoctor/core_ext");
g.$require("asciidoctor.rb/../asciidoctor/helpers");g.$require("asciidoctor.rb/../asciidoctor/logging");g.$require("asciidoctor.rb/../asciidoctor/rx");g.$require("asciidoctor.rb/../asciidoctor/substitutors");g.$require("asciidoctor.rb/../asciidoctor/version");g.$require("asciidoctor.rb/../asciidoctor/abstract_node");g.$require("asciidoctor.rb/../asciidoctor/abstract_block");g.$require("asciidoctor.rb/../asciidoctor/attribute_list");g.$require("asciidoctor.rb/../asciidoctor/block");g.$require("asciidoctor.rb/../asciidoctor/callouts");
g.$require("asciidoctor.rb/../asciidoctor/converter");g.$require("asciidoctor.rb/../asciidoctor/document");g.$require("asciidoctor.rb/../asciidoctor/inline");g.$require("asciidoctor.rb/../asciidoctor/list");g.$require("asciidoctor.rb/../asciidoctor/parser");g.$require("asciidoctor.rb/../asciidoctor/path_resolver");g.$require("asciidoctor.rb/../asciidoctor/reader");g.$require("asciidoctor.rb/../asciidoctor/section");g.$require("asciidoctor.rb/../asciidoctor/stylesheets");g.$require("asciidoctor.rb/../asciidoctor/table");
g.$require("asciidoctor.rb/../asciidoctor/writer");g.$require("asciidoctor.rb/../asciidoctor/load");g.$require("asciidoctor.rb/../asciidoctor/convert");return k(h,"RUBY_ENGINE")["$=="]("opal")?(g.$require("asciidoctor.rb/../asciidoctor/syntax_highlighter"),g.$require("asciidoctor.rb/../asciidoctor/timings"),g.$require("asciidoctor/js/postscript")):l})(Opal);var q=function(a){return a&&!a.$$is_hash?Opal.hash2(Object.keys(a),a):a},g=function(a){var b={};if(a){var g=a.$$smap;for(m in g){var h=g[m];b[m]=
h===Opal.nil?void 0:h}if(a=a.$$map){g=[];for(var l in a){var m=a[l];h=m.value;g[m.key-1]=h===Opal.nil?void 0:h}0<g.length&&(b.$positional=g)}}return b},G=function(a){if(a=q(a)){var b=a["$[]"]("attributes");b&&"object"===typeof b&&"Object"===b.constructor.name&&(a=a.$dup(),a["$[]="]("attributes",q(b)))}return a},h=Opal.Asciidoctor.$$class;h.prototype.getCoreVersion=function(){return this.$$const.VERSION};h.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),
platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}};h.prototype.convert=function(a,b){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));a=this.$convert(a,G(b));return a===Opal.nil?"":a};h.prototype.convertFile=function(a,b){return this.$convert_file(a,G(b))};h.prototype.load=function(a,b){"object"===typeof a&&"Buffer"===a.constructor.name&&
(a=a.toString("utf8"));return this.$load(a,G(b))};h.prototype.loadFile=function(a,b){return this.$load_file(a,G(b))};h=Opal.Asciidoctor.AbstractBlock;h.prototype.append=function(a){this.$append(a);return this};h.prototype.getTitle=function(){var a=this.$title();return a===Opal.nil?void 0:a};h.prototype.setTitle=function(a){a="undefined"===typeof a?Opal.nil:a;return this["$title="](a)};h.prototype.assignCaption=function(a,b){a="undefined"===typeof a?Opal.nil:a;this.$assign_caption(a,"undefined"===
typeof b?null:b)};h.prototype.getCaptionedTitle=function(){return this.$captioned_title()};h.prototype.getStyle=function(){var a=this.style;return a===Opal.nil?void 0:a};h.prototype.setStyle=function(a){this.style=a};h.prototype.getSourceLocation=function(){var a=this.source_location;if(a!==Opal.nil)return a.getFile=function(){var a=this.file;return a===Opal.nil?void 0:a},a.getDirectory=function(){var a=this.dir;return a===Opal.nil?void 0:a},a.getPath=function(){var a=this.path;return a===Opal.nil?
void 0:a},a.getLineNumber=function(){var a=this.lineno;return a===Opal.nil?void 0:a},a};h.prototype.getCaption=function(){var a=this.$caption();return a===Opal.nil?void 0:a};h.prototype.setCaption=function(a){this.caption="undefined"===typeof a?Opal.nil:a};h.prototype.getLevel=function(){var a=this.level;return a===Opal.nil?void 0:a};h.prototype.getSubstitutions=function(){return this.subs};h.prototype.hasSubstitution=function(a){return this["$sub?"](a)};h.prototype.removeSubstitution=function(a){this.$remove_sub(a)};
h.prototype.hasBlocks=function(){return 0<this.blocks.length};h.prototype.getBlocks=function(){return this.blocks};h.prototype.getContent=function(){return this.$content()};h.prototype.convert=function(){return this.$convert()};h.prototype.findBy=function(a,b){return"undefined"===typeof b&&"function"===typeof a?Opal.send(this,"find_by",null,a):"function"===typeof b?Opal.send(this,"find_by",[q(a)],b):this.$find_by(q(a))};h.prototype.getLineNumber=function(){var a=this.$lineno();return a===Opal.nil?
void 0:a};h.prototype.hasSections=function(){return this.next_section_index!==Opal.nil&&0<this.next_section_index};h.prototype.getSections=function(){return this.$sections()};h.prototype.getNumeral=function(){return this.$numeral()};h.prototype.setNumeral=function(a){this["$numeral="](a)};h.prototype.hasTitle=function(){return this["$title?"]()};h.prototype.getAlt=function(){return this.$alt()};h=Opal.Asciidoctor.Section;h.create=function(a,b,g,h){h&&h.attributes&&(h.attributes=q(h.attributes));return this.$new(a,
b,g,q(h))};h.prototype.setLevel=function(a){this.level=a};h.prototype.getIndex=function(){return this.index};h.prototype.setIndex=function(a){this.index=a};h.prototype.getSectionName=function(){var a=this.sectname;return a===Opal.nil?void 0:a};h.prototype.setSectionName=function(a){this.sectname=a};h.prototype.isSpecial=function(){return this.special};h.prototype.setSpecial=function(a){this.special=a};h.prototype.isNumbered=function(){return this.numbered};h.prototype.getCaption=function(){var a=
this.caption;return a===Opal.nil?void 0:a};h.prototype.getName=function(){return this.getTitle()};h=Opal.Asciidoctor.Block;h.create=function(a,b,g){g&&g.attributes&&(g.attributes=q(g.attributes));return this.$new(a,b,q(g))};h.prototype.getSource=function(){return this.$source()};h.prototype.getSourceLines=function(){return this.lines};h=Opal.Asciidoctor.AbstractNode;h.prototype.applySubstitutions=function(a,b){return this.$apply_subs(a,b)};h.prototype.resolveSubstitutions=function(a,b,g,h){"undefined"===
typeof b&&(b="block");"undefined"===typeof g&&(g=Opal.nil);"undefined"===typeof h&&(h=Opal.nil);a=this.$resolve_subs(a,b,g,h);return a===Opal.nil?void 0:a};h.prototype.resolveBlockSubstitutions=function(a,b,g){return this.resolveSubstitutions(a,"block",b,g)};h.prototype.resolvePassSubstitutions=function(a){return this.resolveSubstitutions(a,"inline",void 0,"passthrough macro")};h.prototype.getNodeName=function(){return this.node_name};h.prototype.getAttributes=function(){return g(this.attributes)};
h.prototype.getAttribute=function(a,b,g){a=this.$attr(a,b,g);return a===Opal.nil?void 0:a};h.prototype.hasAttribute=function(a){return a in this.attributes.$$smap};h.prototype.isAttribute=function(a,b,g){a=this["$attr?"](a,b,g);return a===Opal.nil?!1:a};h.prototype.setAttribute=function(a,b,g){"undefined"===typeof g&&(g=!0);return this.$set_attr(a,b,g)};h.prototype.removeAttribute=function(a){a=this.$remove_attr(a);return a===Opal.nil?void 0:a};h.prototype.getDocument=function(){return this.document};
h.prototype.getParent=function(){var a=this.parent;return a===Opal.nil?void 0:a};h.prototype.isInline=function(){return this["$inline?"]()};h.prototype.isBlock=function(){return this["$block?"]()};h.prototype.isRole=function(a){return this["$role?"](a)};h.prototype.getRole=function(){return this.$role()};h.prototype.hasRole=function(a){return this["$has_role?"](a)};h.prototype.getRoles=function(){return this.$roles()};h.prototype.addRole=function(a){return this.$add_role(a)};h.prototype.removeRole=
function(a){return this.$remove_role(a)};h.prototype.isReftext=function(){return this["$reftext?"]()};h.prototype.getReftext=function(){var a=this.$reftext();return a===Opal.nil?void 0:a};h.prototype.getContext=function(){var a=this.context;return"string"===typeof a?a:a.toString()};h.prototype.getId=function(){var a=this.id;return a===Opal.nil?void 0:a};h.prototype.setId=function(a){this.id=a};h.prototype.isOption=function(a){return this["$option?"](a)};h.prototype.setOption=function(a){return this.$set_option(a)};
h.prototype.getIconUri=function(a){return this.$icon_uri(a)};h.prototype.getMediaUri=function(a,b){return this.$media_uri(a,b)};h.prototype.getImageUri=function(a,b){return this.$image_uri(a,b)};h.prototype.getConverter=function(){return this.$converter()};h.prototype.readContents=function(a,b){return this.$read_contents(a,q(b))};h.prototype.readAsset=function(a,b){a=this.$read_asset(a,q(b));return a===Opal.nil?void 0:a};h.prototype.normalizeWebPath=function(a,b,g){return this.$normalize_web_path(a,
b,g)};h.prototype.normalizeSystemPath=function(a,b,g,h){return this.$normalize_system_path(a,b,g,q(h))};h.prototype.normalizeAssetPath=function(a,b,g){return this.$normalize_asset_path(a,b,g)};var F=Opal.Asciidoctor.Document;F.prototype.getRefs=function(){return g(this.catalog.$$smap.refs)};F.prototype.getImages=function(){return this.catalog.$$smap.images};F.prototype.getLinks=function(){return this.catalog.$$smap.links};F.prototype.hasFootnotes=function(){return this["$footnotes?"]()};F.prototype.getFootnotes=
function(){return this.$footnotes()};F.prototype.getHeader=function(){return this.header};F.prototype.setAttribute=function(a,b){return this.$set_attribute(a,b)};F.prototype.removeAttribute=function(a){this.attributes.$delete(a);this.attribute_overrides.$delete(a)};F.prototype.convert=function(a){a=this.$convert(q(a));return a===Opal.nil?"":a};F.prototype.write=function(a,b){return this.$write(a,b)};F.prototype.getAuthor=function(){return this.$author()};F.prototype.getSource=function(){return this.$source()};
F.prototype.getSourceLines=function(){return this.$source_lines()};F.prototype.isNested=function(){return this["$nested?"]()};F.prototype.isEmbedded=function(){return this["$embedded?"]()};F.prototype.hasExtensions=function(){return this["$extensions?"]()};F.prototype.getDoctype=function(){return this.doctype};F.prototype.getBackend=function(){return this.backend};F.prototype.isBasebackend=function(a){return this["$basebackend?"](a)};F.prototype.getTitle=function(){var a=this.$title();return a===
Opal.nil?void 0:a};F.prototype.setTitle=function(a){return this["$title="](a)};F.prototype.getDocumentTitle=function(a){a=this.$doctitle(q(a));return a===Opal.nil?void 0:a};F.prototype.getDoctitle=F.prototype.getDocumentTitle;F.prototype.getCatalog=function(){return g(this.catalog)};F.prototype.getReferences=F.prototype.getCatalog;F.prototype.getRevisionDate=function(){return this.getAttribute("revdate")};F.prototype.getRevdate=function(){return this.getRevisionDate()};F.prototype.getRevisionNumber=
function(){return this.getAttribute("revnumber")};F.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")};F.prototype.setHeaderAttribute=function(a,b,g){"undefined"===typeof g&&(g=!0);"undefined"===typeof b&&(b="");return this.$set_header_attribute(a,b,g)};F.prototype.getAuthors=function(){return this.$authors()};var z=F.Footnote;z.prototype.getIndex=function(){var a=this.$$data.index;return a===Opal.nil?void 0:a};z.prototype.getId=function(){var a=this.$$data.id;return a===
Opal.nil?void 0:a};z.prototype.getText=function(){var a=this.$$data.text;return a===Opal.nil?void 0:a};z=F.ImageReference;z.prototype.getTarget=function(){return this.$$data.target};z.prototype.getImagesDirectory=function(){var a=this.$$data.imagesdir;return a===Opal.nil?void 0:a};z=F.Author;z.prototype.getName=function(){var a=this.$$data.name;return a===Opal.nil?void 0:a};z.prototype.getFirstName=function(){var a=this.$$data.firstname;return a===Opal.nil?void 0:a};z.prototype.getMiddleName=function(){var a=
this.$$data.middlename;return a===Opal.nil?void 0:a};z.prototype.getLastName=function(){var a=this.$$data.lastname;return a===Opal.nil?void 0:a};z.prototype.getInitials=function(){var a=this.$$data.initials;return a===Opal.nil?void 0:a};z.prototype.getEmail=function(){var a=this.$$data.email;return a===Opal.nil?void 0:a};F.RevisionInfo=function(a,b,g){this.date=a;this.number=b;this.remark=g};z=F.RevisionInfo;z.prototype.getDate=function(){return this.date};z.prototype.getNumber=function(){return this.number};
z.prototype.getRemark=function(){return this.remark};z.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark};z=Opal.Asciidoctor.SafeMode;z.getValueForName=function(a){return this.$value_for_name(a)};z.getNameForValue=function(a){a=this.$name_for_value(a);return a===Opal.nil?void 0:a};z.getNames=function(){return this.$names()};z=Opal.Asciidoctor.Callouts;z.create=function(){return this.$new()};z.prototype.register=function(a){return this.$register(a)};
z.prototype.readNextId=function(){return this.$read_next_id()};z.prototype.getCalloutIds=function(a){return this.$callout_ids(a)};z.prototype.getLists=function(){var a=this.lists;if(a&&0<a.length)for(var b=0;b<a.length;b++){var h=a[b];if(h&&0<h.length)for(var l=0;l<h.length;l++)"object"===typeof h[l]&&"$$smap"in h[l]&&(h[l]=g(h[l]))}return a};z.prototype.getListIndex=function(){return this.list_index};z.prototype.getCurrentList=function(){var a=this.$current_list();if(a&&0<a.length)for(var b=0;b<
a.length;b++)"object"===typeof a[b]&&"$$smap"in a[b]&&(a[b]=g(a[b]));return a};z.prototype.nextList=function(){return this.$nextList()};z.prototype.rewind=function(){return this.$rewind()};F.prototype.getRevisionInfo=function(){return new F.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())};F.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()};F.prototype.getNotitle=function(){return this.$notitle()};F.prototype.getNoheader=function(){return this.$noheader()};
F.prototype.getNofooter=function(){return this.$nofooter()};F.prototype.hasHeader=function(){return this["$header?"]()};F.prototype.playbackAttributes=function(a){if(a=q(a)){var b=a["$[]"]("attribute_entries");if(b&&Array.isArray(b)){for(var g=[],h=0;h<b.length;h++){var l=b[h];l&&"object"===typeof l&&"Object"===l.constructor.name&&(l.$name=function(){return this.name},l.$value=function(){return this.value},l.$negate=function(){return this.negate});g.push(l)}a["$[]="]("attribute_entries",g)}}this.$playback_attributes(a)};
F.prototype.deleteAttribute=function(a){return this.$delete_attribute(a)};F.prototype.isAttributeLocked=function(a){return this["$attribute_locked?"](a)};F.prototype.restoreAttributes=function(){return this.$restore_attributes()};F.prototype.parse=function(a){return this.$parse(a)};F.prototype.getDocinfo=function(a,b){return this.$docinfo(a,b)};F.prototype.hasDocinfoProcessors=function(a){return this["$docinfo_processors?"](a)};F.prototype.incrementAndStoreCounter=function(a,b){return this.$increment_and_store_counter(a,
b)};F.prototype.counterIncrement=F.prototype.incrementAndStoreCounter;F.prototype.counter=function(a,b){return this.$counter(a,b)};F.prototype.getSafe=function(){return this.safe};F.prototype.getCompatMode=function(){return this.compat_mode};F.prototype.getSourcemap=function(){var a=this.sourcemap;return a===Opal.nil?!1:a};F.prototype.setSourcemap=function(a){this.sourcemap=a};F.prototype.getCounters=function(){return g(this.counters)};F.prototype.getCallouts=function(){return this.$callouts()};F.prototype.getBaseDir=
function(){return this.base_dir};F.prototype.getOptions=function(){return g(this.options)};F.prototype.getOutfilesuffix=function(){return this.outfilesuffix};F.prototype.getParentDocument=function(){var a=this.parent_document;return a===Opal.nil?void 0:a};F.prototype.getReader=function(){return this.reader};F.prototype.getConverter=function(){return this.converter};F.prototype.getExtensions=function(){var a=this.extensions;return a===Opal.nil?void 0:a};z=F.Title;z.prototype.getMain=function(){return this.main};
z.prototype.getCombined=function(){return this.combined};z.prototype.getSubtitle=function(){var a=this.subtitle;return a===Opal.nil?void 0:a};z.prototype.isSanitized=function(){var a=this["$sanitized?"]();return a===Opal.nil?!1:a};z.prototype.hasSubtitle=function(){return this["$subtitle?"]()};z=Opal.Asciidoctor.Inline;z.create=function(a,b,g,h){return this.$new(a,b,g,G(h))};z.prototype.convert=function(){return this.$convert()};z.prototype.getText=function(){var a=this.$text();return a===Opal.nil?
void 0:a};z.prototype.getType=function(){return this.$type()};z.prototype.getTarget=function(){var a=this.$target();return a===Opal.nil?void 0:a};z.prototype.getAlt=function(){return this.$alt()};z=Opal.Asciidoctor.List;z.prototype.hasItems=function(){return this["$items?"]()};z.prototype.getItems=function(){return this.blocks};z=Opal.Asciidoctor.ListItem;z.prototype.getText=function(){return this.$text()};z.prototype.setText=function(a){return this["$text="](a)};z.prototype.hasText=function(){return this["$text?"]()};
z.prototype.getMarker=function(){return this.marker};z.prototype.setMarker=function(a){this.marker=a};z.prototype.getList=function(){return this.$list()};z.prototype.getParent=z.prototype.getList;z=Opal.Asciidoctor.Reader;z.prototype.pushInclude=function(a,b,g,h,l){return this.$push_include(a,b,g,h,q(l))};z.prototype.getCursor=function(){return this.$cursor()};z.prototype.getLines=function(){return this.$lines()};z.prototype.getString=function(){return this.$string()};z.prototype.hasMoreLines=function(){return this["$has_more_lines?"]()};
z.prototype.isEmpty=function(){return this["$empty?"]()};z.prototype.peekLine=function(a){a=this.$peek_line(a||!1);return a===Opal.nil?void 0:a};z.prototype.readLine=function(){var a=this.$read_line();return a===Opal.nil?void 0:a};z.prototype.readLines=function(){return this.$read_lines()};z.prototype.read=function(){return this.$read()};z.prototype.advance=function(){return this.$advance()};var m=Opal.Asciidoctor.Reader.Cursor;m.prototype.getFile=function(){var a=this.file;return a===Opal.nil?void 0:
a};m.prototype.getDirectory=function(){var a=this.dir;return a===Opal.nil?void 0:a};m.prototype.getPath=function(){var a=this.path;return a===Opal.nil?void 0:a};m.prototype.getLineNumber=function(){return this.lineno};var P=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=P;P.getLogger=function(){return this.$logger()};P.setLogger=function(a){this["$logger="](a)};P.newLogger=function(a,b){return E(a,b).$new()};P.newFormatter=function(a,b){return B(a,b).$new()};
var O=Opal.const_get_qualified(Opal.Logger,"Severity",!0);Opal.Asciidoctor.LoggerSeverity=O;O.get=function(a){return O.$constants()[a]};m=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);Opal.Asciidoctor.LoggerFormatter=m;m.prototype.call=function(a,b,g,h){return this.$call(O.get(a),b,g,h)};m=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=m;m.create=function(){return this.$new()};m.prototype.getMessages=function(){for(var a=this.messages,b=[],h=0;h<
a.length;h++){var l=g(a[h]);"string"===typeof l.message?l.getText=function(){return this.message}:(l.message=g(l.message),l.getText=function(){return this.message.text});l.getSeverity=function(){return this.severity.toString()};l.getSourceLocation=function(){return this.message.source_location};b.push(l)}return b};var N=Opal.const_get_qualified(Opal.Asciidoctor,"Logging",!0);Opal.Asciidoctor.Logging=N;N.getLogger=function(){return P.$logger()};N.createLogMessage=function(a,b){return N.prototype.$message_with_context(a,
q(b))};z.prototype.getLogger=N.getLogger;z.prototype.createLogMessage=N.createLogMessage;h.prototype.getLogger=N.getLogger;h.prototype.createLogMessage=N.createLogMessage;h=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);Opal.Asciidoctor.Logger=h;h.prototype.getMaxSeverity=function(){var a=this.max_severity;return a===Opal.nil?void 0:a};h.prototype.getFormatter=function(){return this.formatter};h.prototype.setFormatter=function(a){this.formatter=a};h.prototype.getLevel=function(){return this.level};
h.prototype.setLevel=function(a){this.level=a};h.prototype.getProgramName=function(){return this.progname};h.prototype.setProgramName=function(a){this.progname=a};h=Opal.const_get_qualified("::","Logger");h.prototype.add=function(a,b,g){a="string"===typeof a?O[a.toUpperCase()]:a;this.$add(a,b,g)};h.prototype.log=h.prototype.add;h.prototype.debug=function(a){this.$debug(a)};h.prototype.info=function(a){this.$info(a)};h.prototype.warn=function(a){this.$warn(a)};h.prototype.error=function(a){this.$error(a)};
h.prototype.fatal=function(a){this.$fatal(a)};h.prototype.isDebugEnabled=function(){return this["$debug?"]()};h.prototype.isInfoEnabled=function(){return this["$info?"]()};h.prototype.isWarnEnabled=function(){return this["$warn?"]()};h.prototype.isErrorEnabled=function(){return this["$error?"]()};h.prototype.isFatalEnabled=function(){return this["$fatal?"]()};h=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);Opal.Asciidoctor.NullLogger=h;h.create=function(){return this.$new()};h.prototype.getMaxSeverity=
function(){return this.max_severity};Opal.Asciidoctor.StopIteration=Opal.StopIteration;h=Opal.const_get_qualified(Opal.Asciidoctor,"Timings",!0);Opal.Asciidoctor.Timings=h;h.create=function(){return this.$new()};h.prototype.printReport=function(a,b){if(a)if("function"===typeof a.$add)var d=function(b){a.$add(1,b)};else if("function"===typeof a.log)d=a.log;else if("function"===typeof a.write)d=function(b){a.write(b,"utf-8")};else throw Error("The output should be a Stream (with a write function), an object with a log function or a Ruby Logger (with a add function)");
else d=function(a){Opal.gvars.stdout.$write(a)};b&&d("Input file: "+b);d(" Time to read and parse source: "+this.$read_parse().toFixed(2));d(" Time to convert document: "+this.$convert().toFixed(2));d(" Total time (read, parse and convert): "+this.$read_parse_convert().toFixed(2))};var y=Opal.const_get_qualified(Opal.Asciidoctor,"SyntaxHighlighter",!0);Opal.Asciidoctor.SyntaxHighlighter=y;y.register=function(a,b){var d="string"===typeof a?a:a[0];if("function"===typeof b){var h=b.prototype,m=Object.getOwnPropertyNames(h);
b={};for(var q in m){var k=m[q];b[k]=h[k]}}var c=t(l,d,b,{},{format:function(a){2<=a.length&&"object"===typeof a[2]&&"$$smap"in a[2]&&(a[2]=g(a[2]));1<=a.length&&(a[1]=a[1]===Opal.nil?void 0:a[1]);return a},highlight:function(a){if(3<=a.length&&"object"===typeof a[3]&&"$$smap"in a[3]){var b=a[3];b=g(b);for(var d in b){var c=b[d];if("callouts"===d){var e=void 0;var f={};if(c)for(e in c=c.$$keys,c){var k=c[e].value;f[e.toString()]=k===Opal.nil?void 0:k}e=f;for(var h in e)for(f=e[h],c=0;c<f.length;c++){k=
f[c];for(var l=0;l<k.length;l++)k[l]=k[l]===Opal.nil?void 0:k[l]}b[d]=e}else b[d]=c===Opal.nil?void 0:c}a[3]=b}2<=a.length&&(a[2]=a[2]===Opal.nil?void 0:a[2]);return a}}),v;for(v in b)Object.prototype.hasOwnProperty.call(b,v)&&function(a){var d=b[a];"handlesHighlighting"===a?Opal.def(c,"$highlight?",function(){return d.call()}):"hasDocinfo"===a&&Opal.def(c,"$docinfo?",function(a){return d.apply(this,[a])})}(v);Opal.def(c,"$name",function(){return d});y.$register(c,a);return c};y.get=function(a){a=
y.$for(a);return a===Opal.nil?void 0:a};y.for=y.get;var l=Opal.const_get_qualified(y,"Base",!0);Opal.Asciidoctor.SyntaxHighlighterBase=l;l.prototype.registerFor=function(a){y.$register(this,a)};h=Opal.Asciidoctor.Table;h.create=function(a,b){return this.$new(a,q(b))};h.prototype.getCaption=function(){return this.caption};h.prototype.getRows=function(){return this.rows};h.prototype.getColumns=function(){return this.columns};h.prototype.getHeadRows=function(){return this.rows.head};h.prototype.hasHeadRows=
function(){return this.rows!==Opal.nil&&0<this.rows.head.length};h.prototype.getBodyRows=function(){return this.rows.body};h.prototype.hasBodyRows=function(){return this.rows!==Opal.nil&&0<this.rows.body.length};h.prototype.getFootRows=function(){return this.rows.foot};h.prototype.hasFootRows=function(){return this.rows!==Opal.nil&&0<this.rows.foot.length};h.prototype.hasHeaderOption=function(){return this.has_header_option};h.prototype.hasFooterOption=function(){return""===this.getAttributes()["footer-option"]};
h.prototype.hasAutowidthOption=function(){return""===this.getAttributes()["autowidth-option"]};h.prototype.getRowCount=function(){return this.getAttribute("rowcount")};h.prototype.setRowCount=function(a){this.setAttribute("rowcount",a)};h.prototype.getColumnCount=function(){return this.getAttribute("colcount")};h.prototype.setColumnCount=function(a){this.setAttribute("colcount",a)};h=Opal.Asciidoctor.Table.Rows;h.create=function(a,b,g){return this.$new(a,b,g)};h.prototype.getHead=function(){return this.head};
h.prototype.getFoot=function(){return this.foot};h.prototype.getBody=function(){return this.body};h.prototype.bySection=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]};h=Opal.Asciidoctor.Table.Column;h.create=function(a,b,g){return this.$new(a,b,q(g))};h.prototype.getColumnNumber=function(){return this.getAttribute("colnumber")};h.prototype.getWidth=function(){return this.getAttribute("width")};h.prototype.getHorizontalAlign=function(){return this.getAttribute("halign")};
h.prototype.getVerticalAlign=function(){return this.getAttribute("valign")};h.prototype.getStyle=function(){var a=this.style;return a===Opal.nil?void 0:a};h=Opal.Asciidoctor.Table.Cell;h.create=function(a,b,g,h){return this.$new(a,b,q(g),q(h))};h.prototype.getColumnSpan=function(){var a=this.colspan;return a===Opal.nil?void 0:a};h.prototype.setColumnSpan=function(a){return this["$colspan="](a)};h.prototype.getRowSpan=function(){var a=this.rowspan;return a===Opal.nil?void 0:a};h.prototype.setRowSpan=
function(a){return this["$rowspan="](a)};h.prototype.getContent=function(){return this.$content()};h.prototype.getText=function(){return this.$text()};h.prototype.getSource=function(){return this.$source()};h.prototype.getLines=function(){return this.$lines()};h.prototype.getLineNumber=function(){var a=this.$lineno();return a===Opal.nil?void 0:a};h.prototype.getFile=function(){var a=this.$file();return a===Opal.nil?void 0:a};h.prototype.getStyle=function(){var a=this.$style();return a===Opal.nil?
void 0:a};h.prototype.getColumn=function(){var a=this.$column();return a===Opal.nil?void 0:a};h.prototype.getWidth=function(){return this.getAttribute("width")};h.prototype.getColumnPercentageWidth=function(){return this.getAttribute("colpcwidth")};h.prototype.getInnerDocument=function(){var a=this.inner_document;return a===Opal.nil?void 0:a};if(h=Opal.Asciidoctor.Converter.TemplateConverter)Opal.Asciidoctor.TemplateConverter=h,h.create=function(a,b,g){g&&g.template_cache&&(g.template_cache=q(g.template_cache));
this.$new(a,b,q(g))},h.getCache=function(){var a=g(this.caches);if(a){if(a.scans){a.scans=g(a.scans);for(var b in a.scans)a.scans[b]=g(a.scans[b])}a.templates&&(a.templates=g(a.templates))}return a},h.clearCache=function(){this.$clear_caches()},h.prototype.convert=function(a,b,g){return this.$convert(a,b,q(g))},h.prototype.handles=function(a){return this["$handles?"](a)},h.prototype.getTemplates=function(){return g(this.$templates())},h.prototype.register=function(a,b){return this.$register(a,b)},
h={registry:{}},Opal.Asciidoctor.TemplateEngine=h,h.register=function(a,b){if("string"===typeof a)this.registry[a]=b;else for(var d=0;d<a.length;d++)this.registry[a[d]]=b};var oa=function(a){a.$$arity=a.length;return a},R=function(a,b,g,h){return"object"===typeof g||g.$$is_class?a["$"+b](g,h):Opal.send(a,b,h&&[h],oa(g))},C=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=C;C.create=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,
"create",null,oa(a)):"function"===typeof b?Opal.send(this,"create",[a],oa(b)):this.$create()};C.register=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"register",null,oa(a)):Opal.send(this,"register",[a],oa(b))};C.getGroups=function(){return g(this.$groups())};C.unregisterAll=function(){this.$unregister_all()};C.unregister=function(){for(var a=Array.prototype.concat.apply([],arguments),b=this.$groups(),g={},h=0,l=b.$$keys;h<l.length;h++){var m=l[h];g[m.toString()]=
m}for(h=0;h<a.length;h++)l=a[h],l in g&&Opal.hash_delete(b,g[l])};h=C.Registry;h.prototype.getGroups=C.getGroups;h.prototype.unregisterAll=function(){this.groups=Opal.hash()};h.prototype.unregister=C.unregister;h.prototype.prefer=function(a,b){1===arguments.length&&(b=a,a=null);return"object"===typeof b||b.$$is_class?this.$prefer(a,b):Opal.send(this,"prefer",a&&[a],oa(b))};h.prototype.block=function(a,b){1===arguments.length&&(b=a,a=null);return R(this,"block",b,a)};h.prototype.inlineMacro=function(a,
b){1===arguments.length&&(b=a,a=null);return R(this,"inline_macro",b,a)};h.prototype.includeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return R(this,"include_processor",b,a)};h.prototype.blockMacro=function(a,b){1===arguments.length&&(b=a,a=null);return R(this,"block_macro",b,a)};h.prototype.treeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return R(this,"tree_processor",b,a)};h.prototype.postprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return R(this,"postprocessor",
b,a)};h.prototype.preprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return R(this,"preprocessor",b,a)};h.prototype.docinfoProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return R(this,"docinfo_processor",b,a)};h.prototype.hasPreprocessors=function(){return this["$preprocessors?"]()};h.prototype.hasTreeProcessors=function(){return this["$tree_processors?"]()};h.prototype.hasIncludeProcessors=function(){return this["$include_processors?"]()};h.prototype.hasPostprocessors=function(){return this["$postprocessors?"]()};
h.prototype.hasDocinfoProcessors=function(a){return this["$docinfo_processors?"](a)};h.prototype.hasBlocks=function(){return this["$blocks?"]()};h.prototype.hasBlockMacros=function(){return this["$block_macros?"]()};h.prototype.hasInlineMacros=function(){return this["$inline_macros?"]()};h.prototype.getPreprocessors=function(){return this.$preprocessors()};h.prototype.getTreeProcessors=function(){return this.$tree_processors()};h.prototype.getIncludeProcessors=function(){return this.$include_processors()};
h.prototype.getPostprocessors=function(){return this.$postprocessors()};h.prototype.getDocinfoProcessors=function(a){return this.$docinfo_processors(a)};h.prototype.getBlocks=function(){return this.block_extensions.$values()};h.prototype.getBlockMacros=function(){return this.block_macro_extensions.$values()};h.prototype.getInlineMacros=function(){return this.$inline_macros()};h.prototype.getInlineMacroFor=function(a){a=this["$registered_for_inline_macro?"](a);return!1===a?void 0:a};h.prototype.getBlockFor=
function(a,b){if("undefined"===typeof b)return a=this.$find_block_extension(a),a===Opal.nil?void 0:a;a=this["$registered_for_block?"](a,b);return!1===a?void 0:a};h.prototype.getBlockMacroFor=function(a){a=this["$registered_for_block_macro?"](a);return!1===a?void 0:a};h=C.Processor;h.prototype.prepend=function(){this.$option("position",">>")};h.prototype.process=function(a){a=new Proxy(a,{apply:function(a,b,h){for(var d=0;d<h.length;d++)"object"===typeof h[d]&&"$$smap"in h[d]&&(h[d]=g(h[d]));return a.apply(b,
h)}});return Opal.send(this,"process",null,oa(a))};h.prototype.named=function(a){return this.$named(a)};h.prototype.createBlock=function(a,b,g,h,l){return this.$create_block(a,b,g,q(h),q(l))};h.prototype.createList=function(a,b,g){return this.$create_list(a,b,q(g))};h.prototype.createListItem=function(a,b){return this.$create_list_item(a,b)};h.prototype.createImageBlock=function(a,b,g){return this.$create_image_block(a,q(b),q(g))};h.prototype.createParagraph=function(a,b,g,h){return this.$create_paragraph(a,
b,q(g),q(h))};h.prototype.createOpenBlock=function(a,b,g,h){return this.$create_open_block(a,b,q(g),q(h))};h.prototype.createExampleBlock=function(a,b,g,h){return this.$create_example_block(a,b,q(g),q(h))};h.prototype.createPassBlock=function(a,b,g,h){return this.$create_pass_block(a,b,q(g),q(h))};h.prototype.createListingBlock=function(a,b,g,h){return this.$create_listing_block(a,b,q(g),q(h))};h.prototype.createLiteralBlock=function(a,b,g,h){return this.$create_literal_block(a,b,q(g),q(h))};h.prototype.createAnchor=
function(a,b,g){g&&g.attributes&&(g.attributes=q(g.attributes));return this.$create_anchor(a,b,q(g))};h.prototype.createInlinePass=function(a,b,g){g&&g.attributes&&(g.attributes=q(g.attributes));return this.$create_inline_pass(a,b,q(g))};h.prototype.createInline=function(a,b,g,h){h&&h.attributes&&(h.attributes=q(h.attributes));return this.$create_inline(a,b,g,q(h))};h.prototype.parseContent=function(a,b,g){return this.$parse_content(a,b,g)};h.prototype.parseAttributes=function(a,b,h){h&&h.attributes&&
(h.attributes=q(h.attributes));return g(this.$parse_attributes(a,b,q(h)))};h.prototype.positionalAttributes=function(a){return this.$positional_attrs(a)};h.prototype.resolveAttributes=function(a){return"object"!==typeof a||Array.isArray(a)?1<arguments.length?this.$resolves_attributes(Array.prototype.slice.call(arguments)):"undefined"===typeof a?this.$resolves_attributes(Opal.nil):this.$resolves_attributes(a):this.$resolves_attributes(q(a))};h.prototype.resolvesAttributes=h.prototype.resolveAttributes;
h.prototype.getConfig=function(){return g(this.config)};h.prototype.option=function(a,b){this.$option(a,b)};h=C.BlockProcessor;h.prototype.defaultAttributes=function(a){this.$default_attributes(q(a))};h.prototype.onContext=function(a){return this.$on_context(a)};h.prototype.onContexts=function(a){return this.$on_contexts(Array.prototype.slice.call(arguments))};h.prototype.getName=function(){var a=this.name;return a===Opal.nil?void 0:a};h.prototype.parseContentAs=function(a){this.$parse_content_as(a)};
h=C.BlockMacroProcessor;h.prototype.defaultAttributes=function(a){this.$default_attributes(q(a))};h.prototype.getName=function(){var a=this.name;return a===Opal.nil?void 0:a};h.prototype.parseContentAs=function(a){this.$parse_content_as(a)};h=C.InlineMacroProcessor;h.prototype.defaultAttributes=function(a){this.$default_attributes(q(a))};h.prototype.getName=function(){var a=this.name;return a===Opal.nil?void 0:a};h.prototype.parseContentAs=function(a){this.$parse_content_as(a)};h.prototype.matchFormat=
function(a){this.$match_format(a)};h.prototype.match=function(a){this.$match(a)};h=C.IncludeProcessor;h.prototype.handles=function(a){return Opal.send(this,"handles?",null,oa(a))};h.prototype.prefer=function(){this.$prefer()};C.TreeProcessor.prototype.prefer=function(){this.$prefer()};C.Postprocessor.prototype.prefer=function(){this.$prefer()};C.Preprocessor.prototype.prefer=function(){this.$prefer()};h=C.DocinfoProcessor;h.prototype.prefer=function(){this.$prefer()};h.prototype.atLocation=function(a){this.$at_location(a)};
C.createPostprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return v("Postprocessor",a,b)};C.newPostprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createPostprocessor(a,b).$new()};C.createPreprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return v("Preprocessor",a,b)};C.newPreprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createPreprocessor(a,b).$new()};C.createTreeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return v("TreeProcessor",
a,b)};C.newTreeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createTreeProcessor(a,b).$new()};C.createIncludeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return v("IncludeProcessor",a,b)};C.newIncludeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createIncludeProcessor(a,b).$new()};C.createDocinfoProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return v("DocinfoProcessor",a,b)};C.newDocinfoProcessor=function(a,b){1===arguments.length&&
(b=a,a=null);return this.createDocinfoProcessor(a,b).$new()};C.createBlockProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return v("BlockProcessor",a,b)};C.newBlockProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createBlockProcessor(a,b).$new()};C.createInlineMacroProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return v("InlineMacroProcessor",a,b)};C.newInlineMacroProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createInlineMacroProcessor(a,
b).$new()};C.createBlockMacroProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return v("BlockMacroProcessor",a,b)};C.newBlockMacroProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createBlockMacroProcessor(a,b).$new()};var J=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=J;J.prototype.convert=function(a,b,g){return this.$convert(a,b,q(g))};J.create=function(a,b){return this.$create(a,q(b))};h=Opal.Asciidoctor.Converter.Factory;var ca=
Opal.Asciidoctor.Converter.Base;Opal.Asciidoctor.ConverterFactory=h;var aa=Opal.Asciidoctor.Converter.BackendTraits;Opal.Asciidoctor.ConverterBackendTraits=aa;h.register=function(a,b){var d=function(a,b){if(a.backend_traits)b.backend_traits=q(a.backend_traits);else if(a.backendTraits)b.backend_traits=q(a.backendTraits);else if(a.basebackend||a.outfilesuffix||a.filetype||a.htmlsyntax||a.supports_templates)b.backend_traits=q(Object.assign({},a.basebackend?{basebackend:a.basebackend}:{},a.outfilesuffix?
{outfilesuffix:a.outfilesuffix}:{},a.filetype?{filetype:a.filetype}:{},a.htmlsyntax?{htmlsyntax:a.htmlsyntax}:{},a.supports_templates?{supports_templates:a.supports_templates}:{}))},g=function(a,b){k(a,b,"$handles?","handles",function(){return!0})},h=function(a,b){k(a,b,"$==","==",function(a){return b===a})},l=function(a,b){k(a,b,"$send","send",function(a){var c=Array.prototype.slice.call(arguments,1),d=b["$"+a];if(d)return d.apply(b,c);throw Error("undefined method `"+a+"` for `"+b.toString()+"`");
})},k=function(a,b,c,d,f){"undefined"===typeof a[c]&&("function"===typeof a[d]?b[c]=a[d]:f&&(b[c]=f))},c=function(a){"function"!==typeof a["$respond_to?"]&&(a["$respond_to?"]=function(a){return"function"===typeof this[a]})};if("function"===typeof a){var m=t(ca,a.constructor.name,{initialize:function(b,h){var l=new a(b,h);Object.assign(this,l);d(l,this);for(var e=Object.getOwnPropertyNames(a.prototype),f=0;f<e.length;f++){var m=e[f];"constructor"!==m&&(this[m]=l[m])}"undefined"===typeof l.$convert&&
"function"===typeof l.convert&&(this.$convert=l.convert);g(l,this);k(l,this,"$composed","composed");c(this);this.super(b,h)}});m.$extend(aa)}else if("object"===typeof a){"undefined"===typeof a.$convert&&"function"===typeof a.convert&&(a.$convert=a.convert);d(a,a);if(a.backend_traits){m=$jscomp.makeIterator("basebackend filetype htmlsyntax outfilesuffix supports_templates supports_templates? init_backend_traits backend_traits".split(" "));for(var p=m.next();!p.done;p=m.next())p=p.value,a["$"+p]=aa.prototype["$"+
p];a.$$meta=aa}g(a,a);k(a,a,"$composed","composed");h(a,a);l(a,a);c(a);m=a}b=[m].concat(b);return J.$register.apply(J,b)};h.getDefault=function(a){return this.$default(a)};h.prototype.create=function(a,b){return this.$create(a,q(b))};h.getRegistry=function(){return g(J.$registry())};h.for=function(a){a=J.$for(a);return a===Opal.nil?void 0:a};h.unregisterAll=function(){J.DefaultFactory.$$cvars["@@registry"]=q({html5:J.DefaultFactory.$$cvars["@@registry"]["$[]"]("html5")})};h=Opal.Asciidoctor.Converter.Html5Converter;
Opal.Asciidoctor.Html5Converter=h;h.create=function(){return this.$new()};h.prototype.convert=function(a,b,g){return this.$convert(a,b,g)};Opal.Asciidoctor.prototype.getVersion=function(){return"2.2.8"};return Opal.Asciidoctor});
